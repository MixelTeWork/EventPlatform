"use strict";(self.webpackChunkevent_platform=self.webpackChunkevent_platform||[]).push([[530],{8116:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Yn});var n=s(7689),i=s(1933);class a extends Error{}async function r(e,t,s){const n=await fetch(t,{method:e,headers:{"Content-Type":"application/json"},body:void 0===s?null:JSON.stringify(s)});if(!n.ok)throw new a((await n.json()).msg);return n}function l(e,t){return r("POST",e,t)}function o(e,t){return r("DELETE",e,t)}async function c(e,t,s){const n=await r(e,t,s);return await n.json()}function d(e){return c("GET",e)}function h(e,t){return c("POST",e,t)}function u(){return(0,i.useQuery)("user",v)}async function v(){const e=await fetch("/api/user"),t=await e.json();if(401==e.status)return{auth:!1,id:"",balance:0,roles:[],name:"",last_name:"",photo:"",operations:[],group:-1,gameOpened:!1};if(!e.ok)throw new a(t.msg);const s=t;return s.auth=!0,s}function m(e,t){var s,n;return!(null===(s=e.data)||void 0===s||!s.auth||null===(n=e.data)||void 0===n||!n.operations.includes(t))}function g(e){return m(u(),e)}var x=s(5086),A=s(2791);function f(){const{pathname:e}=(0,n.TH)();return(0,A.useEffect)((()=>{window.scrollTo(0,0)}),[e]),null}var j=s(184);function y(e,t){const s=e instanceof a?e.message:"\u041e\u0448\u0438\u0431\u043a\u0430";return t?t(s):s}function w(e,t,s){if(!e.isError)return null;return(t||p)(y(e.error,s))}function p(e){return(0,j.jsx)("h3",{style:{color:"tomato",textAlign:"center"},children:e})}function C(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e=>!!e)).join(" ")}const b={root:"styles_root__hzHjz",visible:"styles_visible__6aD-n",close:"styles_close__3L8iW",message:"styles_message__oF8zk"};let N="";function I(){const[e,t]=(0,A.useState)("");return(0,A.useEffect)((()=>{const e=setInterval((()=>{const e=function(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}("MESSAGE_TO_FRONTEND");e!=N&&(N=e||"",t(N))}),1e3);return()=>{clearInterval(e)}}),[t]),(0,j.jsxs)("div",{className:C(b.root,""!=e&&b.visible),children:[(0,j.jsx)("button",{className:b.close,onClick:()=>t("")}),(0,j.jsx)("div",{className:b.message,children:B(e)})]})}function B(e){return'"'==e.at(0)&&(e=e.slice(1)),'"'==e.at(-1)&&(e=e.slice(0,-1)),e}const E={root:"styles_root__4DGhY"};function k(){const e=(0,n.s0)();return(0,j.jsx)("div",{className:E.root,children:(0,j.jsx)("button",{onClick:()=>e(-1),className:"button button_light",children:"\u041d\u0430\u0437\u0430\u0434"})})}var F=s(1087);const S={root:"styles_root__Zvl9c",menu:"styles_menu__WWgPh",home:"styles_home__o+-s7",gap:"styles_gap__omAtS",text:"styles_text__yWAxe",img:"styles_img__vhWmb"},Q="data:image/png;base64,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";function D(e){const t=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await l("/api/logout"),onSuccess:()=>{t.setQueryData("user",(e=>({auth:!1,id:"",balance:0,roles:[],name:"",last_name:"",photo:"",operations:[],group:-1,gameOpened:!1}))),null===e||void 0===e||e()}})}function T(){return(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,j.jsx)("path",{d:"M240-200h120v-200q0-17 11.5-28.5T400-440h160q17 0 28.5 11.5T600-400v200h120v-360L480-740 240-560v360Zm-80 0v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H560q-17 0-28.5-11.5T520-160v-200h-80v200q0 17-11.5 28.5T400-120H240q-33 0-56.5-23.5T160-200Zm320-270Z"})})}const _={root:"styles_root__sPNBM",forStaff:"styles_forStaff__+cH9o",forDev:"styles_forDev__AzmHj",gap:"styles_gap__rY65Q",home:"styles_home__0FRFW",user:"styles_user__exee6",img:"styles_img__lbAwU",menu:"styles_menu__5sFrk",menuVisible:"styles_menuVisible__NWsoJ"},P=s.p+"static/media/avatar.b8d0a59b442a96cc65e6.png";function L(e,t){const[s,n]=(0,A.useState)(e);let i=n;return t&&(i=e=>{n(e),t()}),{v:s,set:i,setT:()=>i(!0),setF:()=>i(!1),toggle:()=>i((e=>!e))}}const q={root:"styles_root__BdzzK",spinner:"styles_spinner__rlI86","lds-ring":"styles_lds-ring__jnLuB"};function R(e){let{color:t,zIndex:s,block:n,r:i=0}=e;return(0,j.jsx)("div",{className:q.root,style:{position:n?"absolute":"fixed",borderRadius:i},children:(0,j.jsxs)("div",{className:q.spinner,style:{"--color":t,zIndex:s},children:[(0,j.jsx)("div",{}),(0,j.jsx)("div",{}),(0,j.jsx)("div",{}),(0,j.jsx)("div",{})]})})}function Y(){return(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,j.jsx)("path",{d:"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h240q17 0 28.5 11.5T480-800q0 17-11.5 28.5T440-760H200v560h240q17 0 28.5 11.5T480-160q0 17-11.5 28.5T440-120H200Zm487-320H400q-17 0-28.5-11.5T360-480q0-17 11.5-28.5T400-520h287l-75-75q-11-11-11-27t11-28q11-12 28-12.5t29 11.5l143 143q12 12 12 28t-12 28L669-309q-12 12-28.5 11.5T612-310q-11-12-10.5-28.5T613-366l74-74Z"})})}function H(){return(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,j.jsx)("path",{d:"m193-479 155 155q11 11 11 28t-11 28q-11 11-28 11t-28-11L108-452q-6-6-8.5-13T97-480q0-8 2.5-15t8.5-13l184-184q12-12 28.5-12t28.5 12q12 12 12 28.5T349-635L193-479Zm574-2L612-636q-11-11-11-28t11-28q11-11 28-11t28 11l184 184q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L668-268q-12 12-28 11.5T612-269q-12-12-12-28.5t12-28.5l155-155Z"})})}function U(){return(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,j.jsx)("path",{d:"M638-468 468-638q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l170-170q6-6 13-8.5t15-2.5q8 0 15 2.5t13 8.5l170 170q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L694-468q-6 6-13 8.5t-15 2.5q-8 0-15-2.5t-13-8.5Zm-518-92v-240q0-17 11.5-28.5T160-840h240q17 0 28.5 11.5T440-800v240q0 17-11.5 28.5T400-520H160q-17 0-28.5-11.5T120-560Zm400 400v-240q0-17 11.5-28.5T560-440h240q17 0 28.5 11.5T840-400v240q0 17-11.5 28.5T800-120H560q-17 0-28.5-11.5T520-160Zm-400 0v-240q0-17 11.5-28.5T160-440h240q17 0 28.5 11.5T440-400v240q0 17-11.5 28.5T400-120H160q-17 0-28.5-11.5T120-160Zm80-440h160v-160H200v160Zm467 48 113-113-113-113-113 113 113 113Zm-67 352h160v-160H600v160Zm-400 0h160v-160H200v160Zm160-400Zm194-65ZM360-360Zm240 0Z"})})}function M(e){var t,s,i,a;let{homeBtn:r=!1,forStaff:l=!1,forDev:o=!1}=e;const c=L(!1),d=(0,n.s0)(),h=D(c.setF),v=u();return(0,j.jsxs)("div",{className:C(_.root,l&&_.forStaff,o&&_.forDev),children:[(0,j.jsx)(F.rU,{to:"/",className:_.home,children:r&&(0,j.jsx)(T,{})}),(0,j.jsx)("div",{className:_.gap}),(0,j.jsxs)("div",{children:[(null===(t=v.data)||void 0===t?void 0:t.balance)||0,"\u041c"]}),(0,j.jsxs)("button",{className:C(_.user,"clearBtn"),onClick:()=>{var e;return null!==(e=v.data)&&void 0!==e&&e.auth?c.set((e=>!e)):d("/")},children:[(0,j.jsx)("span",{children:null!==(s=v.data)&&void 0!==s&&s.auth?null===(i=v.data)||void 0===i?void 0:i.name:"\u0412\u043e\u0439\u0442\u0438"}),(0,j.jsx)("img",{className:_.img,src:(null===(a=v.data)||void 0===a?void 0:a.photo)||P,alt:"avatar"})]}),(0,j.jsxs)("div",{className:C(_.menu,c.v&&_.menuVisible),children:[m(v,"page_debug")&&(0,j.jsx)(F.rU,{to:"/debug",children:(0,j.jsx)(H,{})}),m(v,"page_worker")&&(0,j.jsx)(F.rU,{to:"/worker",children:(0,j.jsx)(U,{})}),(0,j.jsx)("button",{className:"clearBtn",onClick:()=>h.mutate(),disabled:"idle"!=h.status&&"error"!=h.status,children:(0,j.jsx)(Y,{})})]}),"loading"==h.status&&(0,j.jsx)(R,{})]})}function X(e){var t,s,i;let{homeBtn:a=!1,forStaff:r=!1,forDev:l=!1}=e;const o=L(!1),c=(0,n.s0)(),d=D(o.setF),h=u();return r||l?(0,j.jsx)(M,{homeBtn:a,forStaff:r,forDev:l}):(0,j.jsxs)("div",{className:S.root,children:[(0,j.jsxs)("div",{className:S.menu,children:[(0,j.jsx)(F.rU,{to:"/",className:S.home,children:a&&(0,j.jsx)(T,{})}),o.v&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:"clearBtn",onClick:()=>d.mutate(),disabled:"idle"!=d.status&&"error"!=d.status,children:(0,j.jsx)(Y,{})}),m(h,"page_debug")&&(0,j.jsx)(F.rU,{to:"/debug",children:(0,j.jsx)(H,{})}),m(h,"page_worker")&&(0,j.jsx)(F.rU,{to:"/worker",children:(0,j.jsx)(U,{})})]})]}),(0,j.jsx)("div",{className:S.gap}),(0,j.jsxs)("div",{className:S.text,children:[(0,j.jsx)("div",{children:null===(t=h.data)||void 0===t?void 0:t.name}),(0,j.jsxs)("div",{children:[null===(s=h.data)||void 0===s?void 0:s.balance," \u041c"]})]}),(0,j.jsx)("button",{className:C(S.img,"clearBtn"),onClick:()=>{var e;return null!==(e=h.data)&&void 0!==e&&e.auth?o.set((e=>!e)):c("/")},children:(0,j.jsx)("img",{src:(null===(i=h.data)||void 0===i?void 0:i.photo)||Q,alt:"avatar"})})]})}const J={root:"styles_root__xvR2N",hasFooter:"styles_hasFooter__lMS3o",body:"styles_body__S-p4X",body_centered:"styles_body_centered__NzRPU",body_centeredPage:"styles_body_centeredPage__R-EzO"};function G(e){let{children:t,className:s,forStaff:n=!1,forDev:i=!1,homeBtn:a=!1,styles:r,centered:l=!1,centeredPage:o=!1,height100:c=!1,gap:d=0,header:h,footer:u}=e;return void 0===h&&(h=(0,j.jsx)(X,{homeBtn:a,forStaff:n,forDev:i})),(0,j.jsxs)("div",{className:C(J.root,!!u&&J.hasFooter),style:{...r,maxHeight:c?"100dvh":""},children:[h||(0,j.jsx)("div",{}),(0,j.jsx)("div",{className:C(J.body,s,l&&J.body_centered,o&&J.body_centeredPage,n&&"forStaff",i&&"forDev"),style:{gap:d,maxHeight:c?"100%":""},children:t}),u]})}function O(){return(0,j.jsx)(G,{centered:!0,header:(0,j.jsx)(k,{}),children:"\u0422\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435\u0442"})}function z(){return(0,j.jsx)(G,{centered:!0,header:(0,j.jsx)(k,{}),children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u043d\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"})}const W={back:"styles_back__uuJZO",form:"styles_form__n7Rcu"};function Z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u0418\u043d\u0434\u0438\u043a\u043e\u043d";(0,A.useEffect)((()=>{const s=document.title,n="object"!=typeof e?[e]:e;return document.title=[t,...n].filter((e=>!!e)).join(" | "),()=>{document.title=s}}),[e,t])}const V={form:"styles_form__cFFCH",field:"styles_field__5rpBk"};function K(e){let{className:t,style:s,onSubmit:n,children:i}=e;const a=(0,A.useRef)(null);return(0,j.jsx)("form",{className:C(V.form,t),style:s,ref:a,onSubmit:e=>{if(e.preventDefault(),!a.current)return;const t=new FormData(a.current);n(t)},children:i})}function $(e){let{label:t,className:s,style:n,children:i}=e;return(0,j.jsxs)("label",{className:C(V.field,s),style:n,children:[(0,j.jsx)("span",{children:t}),i]})}function ee(){Z("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f");const[e,t]=(0,A.useState)(""),s=(0,A.useRef)(null),n=(0,A.useRef)(null),r=function(e){const t=(0,i.useQueryClient)(),s=(0,i.useMutation)({mutationFn:async e=>{const t=await h("/api/auth",e);return t.auth=!0,t},onSuccess:e=>{t.setQueryData("user",e)},onError:t=>{null===e||void 0===e||e(t instanceof a?t.message:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437")}});return s}(t);return(0,j.jsxs)(G,{header:null,centered:!0,centeredPage:!0,gap:"2em",children:[(0,j.jsx)(F.rU,{to:"/",className:W.back}),(0,j.jsx)("h2",{children:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435!"}),(0,j.jsx)("h3",{children:"\u0412\u044b \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u043b\u0438 \u044d\u0442\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c"}),e&&(0,j.jsx)("h3",{children:e}),r.isLoading&&(0,j.jsx)(R,{}),(0,j.jsxs)(K,{className:W.form,onSubmit:function(){var e,t;const i=(null===(e=s.current)||void 0===e?void 0:e.value)||"",a=(null===(t=n.current)||void 0===t?void 0:t.value)||"";r.mutate({login:i,password:a})},children:[(0,j.jsx)($,{label:"\u041b\u043e\u0433\u0438\u043d",children:(0,j.jsx)("input",{ref:s,type:"text",name:"login",required:!0})}),(0,j.jsx)($,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",children:(0,j.jsx)("input",{ref:n,type:"password",name:"password",required:!0})}),(0,j.jsx)("button",{type:"submit",className:"button button_light button_small",disabled:"loading"==r.status,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}const te={root:"styles_root__7P05R"},se={root:"styles_root__O0923",hidden:"styles_hidden__eYJaf",open:"styles_open__35Vcu",popup:"styles_popup__L-0H0",header:"styles_header__o87wG",close:"styles_close__w0Yhz",body:"styles_body__t75Nd"};function ne(e){let{children:t,open:s=!1,close:n,title:i="",footer:a,closeOnOutclick:r=!1}=e;const l=(0,A.useRef)(null),[o,c]=(0,A.useState)(s),[d,h]=(0,A.useState)(!s);return(0,A.useEffect)((()=>{if(s){h(!1);const e=setTimeout((()=>c(!0)),100);return()=>clearTimeout(e)}c(!1);const e=setTimeout((()=>h(!0)),250);return()=>clearTimeout(e)}),[s]),(0,j.jsx)("div",{ref:l,className:C(se.root,o&&se.open,d&&se.hidden),onClick:e=>{r&&e.target==l.current&&(null===n||void 0===n||n())},children:(0,j.jsxs)("div",{className:se.popup,children:[(i||n)&&(0,j.jsxs)("div",{className:se.header,children:["string"==typeof i?(0,j.jsx)("h3",{children:i}):i,n&&(0,j.jsx)("button",{className:se.close,onClick:n})]}),(0,j.jsx)("div",{className:se.body,children:t}),(0,j.jsx)("div",{className:se.footer,children:a})]})})}function ie(){const[e,t]=(0,A.useState)(""),[s,n]=(0,A.useState)("Log"),i=(0,A.useRef)(null),a=(e,s)=>async()=>{n(e),t("Loading");try{const e=await fetch(s),n=await e.text();t(n),setTimeout((()=>{var e,t,s,n;return null===(e=i.current)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.scrollTo(0,null===(s=i.current)||void 0===s||null===(n=s.parentElement)||void 0===n?void 0:n.scrollHeight)}),150)}catch(a){t(JSON.stringify(a))}};return(0,j.jsxs)(G,{centered:!0,gap:"1rem",className:te.root,homeBtn:!0,forDev:!0,children:[(0,j.jsx)(F.rU,{to:"/users",children:"Users"}),(0,j.jsx)(F.rU,{to:"/log",children:"Log"}),(0,j.jsx)("button",{onClick:a("Log errors","/api/debug/log_errors"),children:"Log errors"}),(0,j.jsx)("button",{onClick:a("Log info","/api/debug/log_info"),children:"Log info"}),(0,j.jsx)("button",{onClick:a("Log requests","/api/debug/log_requests"),children:"Log requests"}),(0,j.jsx)("button",{onClick:a("Log frontend","/api/debug/log_frontend"),children:"Log frontend"}),(0,j.jsx)(ne,{title:s,open:""!=e,close:()=>t(""),children:(0,j.jsx)("pre",{ref:i,children:e})})]})}const ae={root:"styles_root__h8xNs",auth:"styles_auth__quDS1",logo:"styles_logo__2UaYh",btn:"styles_btn__xIQ7b"},re="data:image/png;base64,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",le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAAD+CAMAAACeGt/NAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRF//7aOAAAOwAA9K1QOgAASQABPQAARAABRgABQwABPwAAQQAB//7Z+Ml/SwABAAAAnX9tz76joIBub0A3GGn05gAAABR0Uk5T////////////////////AP////+oKc8QAAATYUlEQVR4nO2diXbjKBBFnUySTseZHi///6+TTiQZJEBVEojt3jo6NLE2035UFWD5dAKABvnPIvfdAEASEDpAByB0gA5A6AAdgNABOgChA3QAQgfoAIQO0AEIHaADEDpAB4SE/gQAtYLQAToAoQN0AEIH6ACEDtABCB2gA2wx//uPCUIHaASEDtABCB2gAxA6QAcgdIAOQOgAHYDQAToAoQN0AEIH6ACEDtABKqG/ODYAKB88OkAHKIT+48NfNpbEAQD5wKMDdIDKo5djxAcAGvDoAB2w2aM/NVAnHoBewKMDdEClOXpJxngBlA8eHaADVB59zzw6JesLIB94dIAOIEdvyogPwA0eHaAD1B69hPlv6vHrjBe0DR4doAPI0bFERnxQEnh0gA5QCP35a/fnr975b/nosykpWV9QPnKhvzyZxv8DQEUohP48t6fFJrYXa8OwtIZfUgjdzdO00e4ApbLZo7/src/igReHzw/Vn2bxQCnz0dTbqrcyXrDbo8fj6YX4ACANe3L00ozxAqwCy+OXCvLo23labJvanHgAmkXl0cc8u7nyMU5gjReslY91BawvoDym3OqXmvDo8WG8ANqipRy9BNs4TsB4AZbW8OiRYbwASkTt0XfPn1MP13esLzDHC8z+Y96fUO+vjkcvHsYLYD/k6G3bjjEDxgtaMjx6w0SKBYgHGkDl0bPPd1MeWyrXFbC+oNwSjw4CGCeoHXJ07AiL8j0Exgq2m1zo4//Zy7QBiGF9QV4UQp/xMm0iyz4/Tb3u+iwmkK4vGGOB3tcXbBf6gpdnpfpfrA1ATITY4Ompq/ggotA3o+4hMGyH7RgvqHd9QQlCdyheYMQDsJFN8wd2TFAdRQl9MxvHCygpN5VR1heUOo+eW8wq1JkAcQFsoJ71BY0KfTOMF2BH2mHPOUToHjbGBMQFoCJCTPAkiQsQemxYX0D9yPosHvCtJ0DoySE2gCMIxwYIvVwYL8CiGUIvmB1rDQEsFEJ/+/q4vX2bWf5sUBwb4oHs89OUyUo8ehfwPYTeUXn0dEZsUDiMFVRueHQQ8bLYVoyYoCg2e/TnAuvEBIWyY7yAepw6Hj0l90tU7poT/9lyN38S3flldiuG6nde6VC3WDGF5OglWcTY4Ho6ff603udj+xRX569c5ycOHXf33E3wuOmgy577dFT9bXTZ1y7PL5jE8OgpuZ6ictWc2Cl08UGX/Xdr4W+jnVcSfcoZK9g/j07pWlcwbNfP06ftjhbVk1UNebWFR7d2XFQdQp+84ad9gUfVEPrsVf87EL2/sNCH92d57bX3N/zTf2IH6hHFRz9Re6kQOqjBo4/422jnlfb9B/WzvsBuNXL0uEaOnj5Hz0s1awsUQgc1ePQRfxtl9ej7qeX7CHarbfDoJcyfF1uPLvTx/BLNzscMEHpxHLi+wG61kNDdOp9/xsGE0L310D0iaccLFEIX82xtPVsCj/5jMo+uv5v7uC8evT6CPYTdanGE7lD8irW6fvUaxRtO2yxHDx8Xml7zHueaXosSlfjb6BI8bvUCcf/D6iYUDyQV+maEPUQJ8+bBMpFHl6Xbi/sRe/TnJB7d04/j0Q/BbrVShB5Q/or6Z+NPmSFHHwt/G5GjH0IlQt9M3rECcvQRfxvh0Q/BbrX2hD6RZbzAztGHZZufVvVkVT+D1UWOPr1qXSCcowevN8/RH6+uXi/8/vxtdHHfjfR6Uf6fOqAboW9GOV5g1Qvy6M/ZR9097bXzSsH2d9TLyeuOxW41hC5AMV5Ajk6OXggIPSUFefRWc/T1XCyVlTXuu4bdagg9Lv6vqX6OT0h5ZJzGX5xebevXVKeHsXxO3rDsr6lexxueTnOdtc3Wr6l2DEJPid+HXhe7LP+yPGjKGDTz6Ou7GgeNviqJR3euN1he6TK+/vjLuP/yxN7zVlIeFQ/YrYbQ4xJb6IITT0xR+Pqu5kEDOZfATg+YC/xFcGIwsVstKPSPFXubNhjwT69djV2G8HT6y8mIge3ptTdzH/PVeQh++uvRBzTTeUaOPnt19Xor02veXHc5vXYZX5suMP1leb10OXhNtj5eoBA6qMnq0cd913c1Dxo+OXj0xrBbTeDR3xx+PFa9uXjAP71mevSfPxlC901bXecnDk0/GR5dPm01HRR9es30PZYvWk6vmR7950+PvyyuV9TzBwquK4QOair06AOxPfr8s/fY8OiHYLfarhy9JCtkvMD/NVVT1s4c3XXcIkcPeVFD6HLvawhd77VD3t7fRsuvqRr+O5ijn8jR5aYQOqjBo4/428jl0YdPZ+AvE7k9ZS3Yrbbi0d8Mf9l6GSUeEOToroPKztEfu4x/sg9yHud/u64c3cuyXd4U308sYd48V6kQOqiROOdNB+X06MtdFActcXh0/87SEyu/q9gBdqs1k6MXYoJ5dLfQs82jP+Q3e/Wxk7mL7a4vj/c3v15Y6PN5dC/L9vTvq6bp5xwqhP5mxrShDUbw6PNdliTx6Ptp7XmHdqtl9Ogp5+ez1YM5uu94cnT/zo4cvTSU4wVH1eVC//oMfhyj1XbiAjz6fJclhXr0eIizgaSxgd1qQaF/fJw/fhCWb+ePn97hPPQQ57dw2ZwFNOs/KiT09X0m7uO+67saB42fToSen6jjBXarrQh9L6KYIO6WF6bX+gvdI7Ph+cf7PfrhvEl6h3gWfT7e73g/b5fb5fK1/Rn3//NTv10+vQddp/PfL8Px3n1Pt/F8/l2W3Mf7Dxw19p/36YkW44cykke/zs/7uJTmxB3j6BnsVitN6F7E4wVx1s5sRfAU2MmH3o0JppN79msZBtyHV60LBK8XvIBqem1JpOm16cjZiZ3vT/tf0iubhX6uqz6NF4w2HxdIMk4gGjMb9r2v73tdXEFwkIrpboIe3WeB+MLRDw99qCQM2BQqgIndatV49P0cMl4geAqs4dHdubYzRzcO8uXokqR8V46+JFKOPlVnJ3a+v5XPNwx0K3Q1W8YLEnh0e04yvkd/U3p0834kHn0xp7pypbeVu8mqnoqwWw2hbyCgfsGvqd7Hz/593fteF+MF9w1eO7Sj5Guq/g/TxX+9wEH++1yc2LHjto99fyiEfvaYen69n1Lo0c8Kj95Gjm6Y5Eqb7kZqpczFpsVuNTx6XCQ5+sfHQ7PrOfpsHIAcfb8E+kAh9B/ffY5cLsfLG0K0gG1A4tHHfafxgjwe3TcXGUqlXfuv59+KPD5zWXpMYLcaHj0uknn0cV/JPPriAgnm0UfNzl597PTm/Vwzj14uCqH7cvRSrMD4INJvr91TnXhkufJesJ7uNu0tuILivNu4zd9BlZYuLrBbC48el0i/puoUuuA48fWGUMGYPxA87vkyxayC64373nbdZ+C4wAJ5eNN59POaP629Hj0m8P/Ioh0ST1X3p9sjdGtHafVkVYfLLnOC2yxCPi3fwWXqHQTvz/DoPjFbt6x+fxeHb+yx7sur5EI/u/iYtjpi6YOpJ3SfE5gpG7lNOwuuMH4eBefdBh49jN1aaqFvYiU2aMGGPi5y6P6Yp08TuhvrAASh+23aX3C98bzJQvc2cvR0lkPoM8UHVF97TIBHH1GcdxuXmp9bcAB2ax0s9E0I4oEU8/2bSsH02smquqfXPEI3drYuoL/eUuiCX1O9PIS+fr1J6IK367le+P19381Bzy4oYd5eW9YndCeFxgZ49BHFebdxW7yFv7x9CL+NFG/NTKHxgd1aQaH/3mDn761QVnuH3ebP0T9vI5dhuxmvnuzjxj0u05k1Ofp4gcunN/ed7ubPqBBBjn6dbn1lx+8cfehj0+XoM4lHeX6BYYc8vyChKYTeNkligtDDIedolsCqPLrmoCl2iO15U513wu3R9yOOB+JtZXj0s8Nnp64Xy1o8EPg1VbP/+DbR11TH/QW/pjpt9t2Ej7uP93Obvyq/nvM4Q+jbvXaoevEINRsHjxes1RVCBxlGbBDy6PPYAI++i1QePR7q8YI99UV8YLdW9By9JMsQGwQe97zoHSRfU92Uo89GDILH3cd9BTm6yvuO8UvSHD378wfSlFF+F0EhdFAT8OiLfSUefYr38ehzyvfo+1mNBwK5v91aQo9+7rDcFA8Efk3VIfRPY6eTa575cZBmHn2Wowcnsu/juIFgHl01bz+eN+08OiwZega50CVaABt56H4Whe7zE4tC21m8vxK6D0QP3QcOm14DG7nQRXkwZln00N0QuhjNQfdxJDF66H4eR/MTcZOubdg8V1o3dmsFPfoP52nz2Hn31g6RvqY6hqgzj27tuKjeXXdzOp2snech8XSQ4Guqsurwz/HzFphes97B+vubVQndw6iFrma1Z4hjOeb3V+uxV6pO55Y456XQFQdV79GPe35BHditlULoKz1AAu2WExdE+prq+IoqR3cKfe16ptD35cyz6nlYW0COnomMQldzQFwQ2RJ59N8i57zlbpJ59FTnndDl6CXZMfPxdmuVLfQFiccK9scFkb6mOpaq6TVfjh6eXnsIcvbq6vXC7286r//yVwH+611szcCMqoWuJlFM4J1zzJqjL+5H5NGH/TN4dEnP6T/65tp95ZtK2Z9XELFc6+Ps1mpd6F68PcC+tTbk6EaOPnp033EyoXtzdMnhsx5AFE83gkLov77s9/cGwtigwhx92De6R18/ryRX8h+tE7qa6p9zaLdWtx59P07lC35N1f/KsrrI0UPHhebRvce55tGjRCWP83qPk+jNf73EQl9QW0ygEPqvyaebtqXeDZE8+vQwmg0e/az06OdsHn1xv466/+jbuaR5VQfC5xmlmv+3WwuPHpdYj3tefPZFOfpcK+ToRXJMbKAQ+q/CrILYINZTYJcnPp2sna0LDKH7Mkdfv56Ro89eXb3eyvTaeF7/5QVjHmf/9W6Co2VW/FrsTeMFCqGDmlhPgd1y4vviEyyfk8uyYEbyGfcfXa9H348kHrBba8Wj/zZ8ae3lIfFAtNDdc+Jg6O45aCV0f+TScUP3wVcGQnfJnGUodC/juQWlxgRyoVcTLxdEVo++66D4Hv1HA3j0TNitVVWOXooF+r5Yv6bq0uza9zYdB03e0J1cm7FD7K+puiMF6+2qcvTF242Xo5dk8eIChdB/mzHv3q0P8Ogj4yc35NEF3z3wH41HD2O3VsEePcb8/eH1+nJ0Q+hRc/TpvIEc/YfgmsNwjr7mG3usj32kXOi//vL7eytIi9AFoqeX1P/8goQoha7i91rPgMU2+r6Bg55rVI+lFLpe+XHHARgrgInen3N4qNDj9wzH+8vWS/q/gYTxQI55/bKF7mVV/cdrA310gOgZyFvLpLFBpUJXU1Bc0IPR9w0UM1bQi9CdMF4AR5PrdxEUQn//tl9G2RWFjReY/VGrdfq/gQgxQdcePQ6iuYRjtYE+OkCcFXyPA6g9enzrNDbADjL6vr/g0QsgGBMcP1bQuyaaROXRzfy8lLK7eOAvhY0XlDD/n7qsvf/DozdFMC5AGx1TQI5einUcG2AHWb6+T+PRzVg5tEHFMF7QJhqP/v7+s0Xzn63Vu+znChsvMPukFutb+z+50N99iHsAqXa61Et7iL+PUKo2miKC0NVEjAtatS77ugLjgnYsh9A9yveoXz42wFhBYxQ2VlB1TFCE0NUkGi9oqeyyryssJihh/n8s6xS6l2BcsF0zUDmFrS/IQGNCV8N4QdCIDVqx3oW+gPECcFH7eIFC6K9fH//XzDIsENYXrNa77OsKiwnw6MlYHS/Q1rvUS3vkWV+g8uhxjLjAA+MFQeu2n4sSG+DRC4axAnARjAU8mzpHfy2kBAeRY4IS1gPELrvr74Z4QC50tFYxUdcXdKeVFsiQo5dk9FceGC8IWn19nSZHH3URe4MKYLygbhSh+8D795bd3gup01d5SDRe0FL9yP5OL3Qvqz0AWoP3yOsLiA2ERBS6mkJig1KM/soD4wVBk/V1OYUuV3668QHGCyqE8QI9RQldTUbfW2YJThL40NrKuoXuJRgbpC6hGiKvLyiYRoWu4v2V8QLDyGM8VD1WgNA9MF4AEmoZL0Doscjof0us01c5SBATSOckEXpyWF8AEtKuL0DoZcFYgWXkMR7UsQFCrwCBDhgr6Jyg8r/8O0JvjYwxQf51BMuSvuoHhN4NwVlE1hc0jkLofxT2+r1B1TBeYFndfRUeHVSs6IDxgkLZ7NFfD6gTF1ROAeMFJdVz9lV4dMiAaNUx6wsikihHL8mICxqA8QLL9H2VxqOb8fR8AziUzN9FqI4sHv21wpL+rHIKGC/IWcqFfoSWAA4n2AM0s5ZHIfQgr98btmL0Z5VT7VhBLKHL1R/O9WNsAIdSw3hBUqHv7xWO8bG11enPKibT84zKEfr2HiCNlgAOx9kDRFk/UIHQ1TBeIDL6s8pRxQUtCn3B6x/GC6APfDFBF0JXc3BMUMI6ga0l1AFCV+HtAdASFI1c6ADQCAgdoAMQOkAHIHSADkDoAB2A0AE6AKEDdABCB+gAhA7QAQgdoAMQOkAHIHSADkDoAB2A0AE6AKEDdMBM6P9Z/AsATfBPSOj/AECDIHSADkDoAB2A0AE6AKEDdABCB+gAhA7QAQgdoAMQOkAHIHSADkDoAB2A0AE6AKEDdABCB+gAhA7QAf8D8wtEbZu07sUAAAAASUVORK5CYII=";async function oe(e,t){const s=await new Promise((t=>{var s=new FileReader;s.addEventListener("loadend",(e=>{t({result:s.result,error:s.error})})),s.readAsDataURL(e)}));return s.error?(console.error(s.error),null):{data:s.result,name:t}}function ce(e,t){const[s,n]=(0,A.useState)(e);return t?{v:s,set:e=>{n(e),t()}}:{v:s,set:n}}function de(e,t){const[s,n]=(0,A.useState)(e);return t?{v:s,set:function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n((n=>{const i=e instanceof Function?e(n):e;return s||t(i,n),i}))}}:{v:s,set:n}}const he={root:"styles_root__ek8XR",open:"styles_open__DpDD1",body:"styles_body__kj341",msgWide:"styles_msgWide__xAoa-",msg1:"styles_msg1__Ennl+",msg2box:"styles_msg2box__jxXEx",msg2:"styles_msg2__2yRTi",msg_error:"styles_msg_error__92wvX",msg_error_open:"styles_msg_error_open__6-pHY",msg3:"styles_msg3__jxfL8",openFile:"styles_openFile__Wzz+z"},ue="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAeCAMAAABHRo19AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFOQABaQEE//7a/PLIAAAA9LBVbEE5j0E66NexUQIDmmtdrod1Yx8d9rxq//3Y9bRc//vT//3U//7Y9K9TxC+D4AAAABR0Uk5T/////wD+//////////7iO6kTZpGXerr/AAABG0lEQVR4nLXU7a6DIAyA4a4FrMBU9P7v9QCK4GfQk72/qOGZRDNBCOFGTA1OjB3mhnLY5HcKCLi4NrrL7bvGgF24sZozOPQdapViLIZNjMPoQMQztxDz+EtoIeWxgtNMuDeIDol5vcSVWDMhQk+oi9+rxQDKY3nA9AtsmC0oZvUGx0Fj2v4Ya2ve49hPsL5/YP7V4vUDu8VxP9tiiLhNLcde54DbnPV4HRL+pBa8zh43nyJjzLpuzjDe4LLX2Frb6D3WSDW4ofjOuj32VeDlW7LDTER8hq0OmTn2B5RyElu8L+Nm+wFjKWX/BFNu6H3iASaZ8zBUi3WJJ5Gxaa4Kf+F55b+r4hBIxrpO8Zdu4nXVuTNcWX+0AqZ/4D/l7BfA1CFE1AAAAABJRU5ErkJggg==",ve=s.p+"static/media/avatar.b8d0a59b442a96cc65e6.png";var me=s(6564);const ge={root:"styles_root__ggNxk",small:"styles_small__zhXkP",btn:"styles_btn__H2inm",highlight:"styles_highlight__ALyIK"};function xe(e){let{children:t,btn:s=!1,type2:n=!1,small:i=!1,dark:a=!1,highlight:r=!1,className:l}=e;return(0,j.jsx)("div",{className:C(ge.root,i&&ge.small,s&&ge.btn,r&&ge.highlight,l),children:t})}function Ae(e){let{open:t}=e;const s=ce(""),n=function(e){const t=(0,i.useQueryClient)(),s=(0,i.useMutation)({mutationFn:async e=>{const t=await h("/api/auth_ticket",e);return t.auth=!0,t},onSuccess:e=>{t.setQueryData("user",e)},onError:t=>{null===e||void 0===e||e(t instanceof a?t.message:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437")}});return s}(s.set);return(0,j.jsxs)("div",{className:C(he.root,t&&he.open),children:[n.isLoading&&(0,j.jsx)(R,{}),(0,j.jsxs)("div",{className:he.body,children:[(0,j.jsx)(xe,{className:he.msgWide,children:(0,j.jsxs)("div",{className:he.msg1,children:[(0,j.jsx)("img",{src:ue,alt:"\u0418\u043d\u0434\u0438 \u043a\u043e\u043d"}),(0,j.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u044b..."})]})}),(0,j.jsx)(xe,{type2:!0,className:he.msg2box,children:(0,j.jsxs)("div",{className:he.msg2,children:[(0,j.jsx)("img",{src:ve,alt:"Avatar"}),(0,j.jsx)("h2",{className:"title",children:"\u0410\u0434\u043c\u0438\u043d"}),(0,j.jsx)("span",{children:"\u0442\u0435\u043a\u0441\u0442"})]})}),(0,j.jsx)(xe,{type2:!0,className:C(he.msg2box,he.msg_error,s.v&&he.msg_error_open),children:(0,j.jsxs)("div",{className:he.msg2,children:[(0,j.jsx)("img",{src:ve,alt:"Avatar"}),(0,j.jsx)("h2",{className:"title",children:"\u0410\u0434\u043c\u0438\u043d"}),(0,j.jsxs)("span",{children:["\u0412 \u0434\u043e\u0441\u0442\u0443\u043f\u0435 \u043e\u0442\u043a\u0430\u0437\u0430\u043d\u043e! ",s.v]})]})}),(0,j.jsx)(xe,{className:C(he.msg3,he.msgWide),children:(0,j.jsxs)("label",{className:he.openFile,children:[(0,j.jsx)("div",{className:"title",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u0438\u043b\u0435\u0442"}),(0,j.jsx)("input",{type:"file",style:{display:"none"},accept:"image/png, image/jpeg, image/gif",disabled:n.isLoading,onChange:async e=>{var t,i;s.set("");const a=await oe(null===(t=e.target)||void 0===t||null===(i=t.files)||void 0===i?void 0:i[0],"");if(e.target.value="",!a)return;const r=new me.ZP,l=await r.decodeFromImage(a.data),o=null===l||void 0===l?void 0:l.data;if(!o||!o.match(/\d+-\d+-\d+-\d+-\d+/))return s.set("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 QR-\u043a\u043e\u0434\u0430 \u0438\u043b\u0438 \u043e\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439."),void fetch("/api/auth_ticket_err",{method:"POST"});n.mutate({code:o})}})]})})]})]})}function fe(){const e=L(!1);return(0,j.jsxs)("div",{className:ae.root,children:[(0,j.jsx)(F.rU,{to:"/auth",className:ae.auth}),(0,j.jsx)("div",{}),(0,j.jsx)("img",{className:ae.logo,src:re,alt:"\u0418\u043d\u0434\u0438 \u043a\u043e\u043d"}),(0,j.jsx)("button",{className:ae.btn,onClick:e.setT,children:(0,j.jsx)("img",{src:le,alt:"\u0412\u0445\u043e\u0434"})}),(0,j.jsx)(Ae,{open:e.v})]})}function je(e){const t=e;return t.date=new Date(e.date),t}function ye(e,t){return`${e}`.padStart(t,"0")}function we(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){return e?arguments.length>1&&void 0!==arguments[1]&&arguments[1]?`${e.getFullYear()}.${ye(e.getMonth()+1,2)}.${ye(e.getDate(),2)}`:`${ye(e.getDate(),2)}.${ye(e.getMonth()+1,2)}.${e.getFullYear()}`:""}(e,arguments.length>2&&void 0!==arguments[2]&&arguments[2])+" "+function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=`${ye(e.getHours(),2)}:${ye(e.getMinutes(),2)}`;return t?s+`:${ye(e.getSeconds(),2)}`:s}(e,t)}const pe={btns:"styles_btns__aRipu",table:"styles_table__QLr-h",changesCell:"styles_changesCell__0wQDJ",changes:"styles_changes__EyS9f",btn:"styles_btn__H7b72"};function Ce(){var e,t,s;Z("Log");const n=function(){const e=(0,i.useQueryClient)();return()=>{e.removeQueries("log"),e.invalidateQueries("logLen")}}(),a=ce(0),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=(0,i.useQueryClient)(),s=async e=>(await d(`/api/debug/log?p=${e}`)).map(je);return t.prefetchQuery(["log",e-1],(()=>s(e-1))),t.prefetchQuery(["log",e+1],(()=>s(e+1))),(0,i.useQuery)(["log",e],(()=>s(e)))}(a.v),l=null!==(e=null===(t=(0,i.useQuery)("logLen",(async()=>await d("/api/debug/log_len"))).data)||void 0===t?void 0:t.len)&&void 0!==e?e:0;return(0,j.jsxs)(G,{centeredPage:!0,homeBtn:!0,forDev:!0,children:[w(r),(0,j.jsxs)("div",{className:pe.btns,children:[(0,j.jsx)("button",{disabled:r.isFetching,className:"button button_small",onClick:()=>{n(),a.set(0),r.refetch()},children:"Update"}),(0,j.jsx)("button",{disabled:r.isFetching,className:"button button_small",onClick:()=>a.set(0),children:"<<"}),(0,j.jsx)("button",{disabled:r.isFetching,className:"button button_small",onClick:()=>a.set((e=>Math.max(e-1,0))),children:"<"}),(0,j.jsxs)("span",{children:[a.v+1,"/",l]}),(0,j.jsx)("button",{disabled:r.isFetching,className:"button button_small",onClick:()=>a.set((e=>Math.min(e+1,l-1))),children:">"}),(0,j.jsx)("button",{disabled:r.isFetching,className:"button button_small",onClick:()=>a.set(l-1),children:">>"})]}),r.isFetching&&(0,j.jsx)("h3",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),(0,j.jsxs)("table",{className:pe.table,children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{style:{minWidth:"9.5em"},children:"Date"}),(0,j.jsx)("th",{style:{minWidth:"4em"},children:"Action"}),(0,j.jsx)("th",{style:{minWidth:"9.5em"},children:"Table[id]"}),(0,j.jsx)("th",{children:"User[id]"}),(0,j.jsx)("th",{style:{width:"18em"},children:"Changes"})]})}),(0,j.jsx)("tbody",{children:null===(s=r.data)||void 0===s?void 0:s.map((e=>(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:we(e.date,!0,!0)}),(0,j.jsx)("td",{children:be(e.actionCode)}),(0,j.jsxs)("td",{children:[e.tableName,"[",e.recordId,"]"]}),(0,j.jsxs)("td",{children:[e.userName," [",e.userId,"]"]}),(0,j.jsx)("td",{className:pe.changesCell,children:(0,j.jsxs)("div",{className:pe.changes,children:[(0,j.jsx)("input",{type:"checkbox",className:pe.toggleInp,id:`item${e.id}`}),(0,j.jsx)("div",{children:e.changes.map((e=>(0,j.jsxs)("div",{children:[e[0],": ",JSON.stringify(e[1])," ","->"," ",JSON.stringify(e[2])]},e[0])))}),e.changes.length>0&&(0,j.jsx)("label",{className:pe.btn,htmlFor:`item${e.id}`,children:e.changes.length})]})})]},e.id)))})]})]})}function be(e){return(0,j.jsx)("span",{style:{color:{added:"#008000",deleted:"#b30000",updated:"#006fb3",restored:"#990099"}[e]},children:e})}function Ne(e){return e instanceof Array?e.map((e=>`${e}`)):`${e}`}function Ie(e,t){t=Ne(t),e.invalidateQueries(t,{exact:!0})}function Be(e,t,s){var n;t=Ne(t),"success"==(null===(n=e.getQueryState(t))||void 0===n?void 0:n.status)&&e.setQueryData(t,(e=>e?[...e,s]:[s]))}function Ee(e,t,s){var n;t=Ne(t),"success"==(null===(n=e.getQueryState(t))||void 0===n?void 0:n.status)&&e.setQueryData(t,(e=>(null===e||void 0===e?void 0:e.map((e=>e.id==s.id?s:e)))||[]))}function ke(e,t,s){var n;t=Ne(t),"success"==(null===(n=e.getQueryState(t))||void 0===n?void 0:n.status)&&e.setQueryData(t,(e=>e?e.filter((e=>e.id!=s)):[]))}function Fe(){return(0,i.useQuery)("quests",(async()=>await d("/api/quests")))}function Se(){return(0,i.useQuery)("quests_full",(async()=>await d("/api/quests_full")))}function Qe(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await o(`/api/quest/${e}`),onSuccess:()=>{ke(n,"quests_full",e),Ie(n,"quests"),null===t||void 0===t||t()},onError:s})}function De(e,t){return(0,i.useMutation)({mutationFn:async e=>await l(`/api/quest/${e}/open`),onSuccess:e,onError:t})}function Te(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,i.useQuery)(["dialogs",`${e}`],(async()=>await d(`/api/dialog/${e}`)),{enabled:t&&e>=0})}function _e(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>await h(`/api/dialog/${e}`,t),onSuccess:s=>{n.setQueryData(["dialogs",`${e}`],s),null===t||void 0===t||t(s)},onError:s})}function Pe(){return(0,i.useQuery)(["dialogCharacters"],(async()=>{const e=await d("/api/dialog/characters"),t={};return e.forEach((e=>t[e.id]=e)),t}))}function Le(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await o(`/api/dialog/character/${e}`),onSuccess:()=>{var s;"success"==(null===(s=n.getQueryState("dialogCharacters"))||void 0===s?void 0:s.status)&&n.setQueryData("dialogCharacters",(t=>(delete(t=t||{})[e],t))),null===t||void 0===t||t()},onError:s})}function qe(){const e=Pe();(0,A.useEffect)((()=>{if(!e.data)return;const t=Object.values(e.data).map((e=>{const t=document.createElement("link");return t.rel="preload",t.href=e.img,t.as="image",document.head.appendChild(t),t}));return()=>{t.forEach((e=>document.head.removeChild(e)))}}),[e.data])}const Re={root:"styles_root__oNkfm",img:"styles_img__46Cxj",textarea:"styles_textarea__sNjzZ",description_count:"styles_description_count__Nnz4M",description_count_too_many:"styles_description_count_too_many__udmKa",form:"styles_form__EJp7b"};function Ye(){const e=(0,A.useRef)(null),t=(0,A.useRef)(null),s=(0,A.useRef)(null),n=ce(""),a=L(!1),r=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await h("/api/quest",e),onSuccess:t=>{Be(s,"quests_full",t),Ie(s,"quests"),null===e||void 0===e||e(t)},onError:t})}((()=>{a.setF(),e.current&&(e.current.value=""),t.current&&(t.current.value=""),s.current&&(s.current.checked=!1),n.set("")}));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:Re.root,onClick:a.setT,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),(0,j.jsxs)(ne,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430",open:a.v,close:a.setF,children:[r.isLoading&&(0,j.jsx)(R,{}),w(r),(0,j.jsxs)(K,{className:Re.form,onSubmit:()=>{var i,a,l;const o=null===(i=e.current)||void 0===i?void 0:i.value,c=null===(a=t.current)||void 0===a?void 0:a.valueAsNumber,d=null===(l=s.current)||void 0===l?void 0:l.checked;o&&void 0!==c&&void 0!==d&&r.mutate({name:o,reward:c,hidden:d,description:n.v})},children:[(0,j.jsx)($,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",children:(0,j.jsx)("input",{ref:e,required:!0,type:"text"})}),(0,j.jsx)($,{label:"\u041d\u0430\u0433\u0440\u0430\u0434\u0430",children:(0,j.jsx)("input",{ref:t,required:!0,type:"number"})}),(0,j.jsx)($,{children:(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{ref:s,type:"checkbox"}),(0,j.jsx)("span",{children:"\u0421\u043a\u0440\u044b\u0442\u044b\u0439"})]})}),(0,j.jsxs)($,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",children:[(0,j.jsx)("textarea",{className:Re.textarea,cols:40,rows:10,value:n.v,onChange:e=>n.set(e.target.value)}),(0,j.jsx)("div",{className:Re.description_count,children:(0,j.jsxs)("span",{children:[(0,j.jsx)("span",{className:n.v.length>256?Re.description_count_too_many:"",children:n.v.length}),(0,j.jsx)("span",{children:"/256"})]})})]}),(0,j.jsx)($,{children:(0,j.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})]})]})}const He={root:"styles_root__WvdMz",body:"styles_body__1LPvJ",selectName:"styles_selectName__u7s4v",textarea:"styles_textarea__GqFav",buttons:"styles_buttons__9yTCF",btnUp:"styles_btnUp__nrklw",btnDown:"styles_btnDown__V5tHT",btnPlus:"styles_btnPlus__oBVqe",doubleBtn:"styles_doubleBtn__WET5a"};function Ue(){return(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,j.jsx)("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})})}function Me(e){var t;let{data:s,deleteNode:n,moveUp:i,addUp:a,moveDown:r,addDown:l}=e;const o=Pe(),c=de(s.characterId,(e=>s.characterId=e)),d=de(s.text,(e=>s.text=e)),h=null===(t=o.data)||void 0===t?void 0:t[c.v];return(0,A.useEffect)((()=>{c.set(s.characterId),d.set(s.text)}),[s]),(0,j.jsxs)("div",{className:He.root,children:[(0,j.jsx)("img",{src:null===h||void 0===h?void 0:h.img,alt:null===h||void 0===h?void 0:h.name}),(0,j.jsxs)("div",{className:He.body,children:[(0,j.jsx)("select",{className:He.selectName,value:c.v,onChange:e=>c.set(parseInt(e.target.value,10)),children:Object.values(o.data||{}).map((e=>(0,j.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,j.jsx)("textarea",{className:He.textarea,placeholder:"\u0420\u0435\u0447\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",value:d.v,onChange:e=>d.set(e.target.value)})]}),(0,j.jsxs)("div",{className:He.buttons,children:[(0,j.jsxs)("span",{className:He.doubleBtn,children:[(0,j.jsx)("button",{className:He.btnUp,onClick:i}),(0,j.jsx)("button",{className:He.btnPlus,onClick:a})]}),(0,j.jsx)("button",{onClick:n,children:(0,j.jsx)(Ue,{})}),(0,j.jsxs)("span",{className:He.doubleBtn,children:[(0,j.jsx)("button",{className:He.btnPlus,onClick:l}),(0,j.jsx)("button",{className:He.btnDown,onClick:r})]})]})]})}function Xe(){return(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,j.jsx)("path",{d:"m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})})}function Je(){return(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,j.jsx)("path",{d:"M840-680v480q0 33-23.5 56.5T760-120H200q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h480l160 160Zm-80 34L646-760H200v560h560v-446ZM480-240q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35ZM240-560h360v-160H240v160Zm-40-86v446-560 114Z"})})}const Ge={root:"styles_root__CDE3U",error:"styles_error__6s3zt",img:"styles_img__Thun3",id:"styles_id__pa79Q",inputs:"styles_inputs__7ickr",changed:"styles_changed__s9MgQ",buttons:"styles_buttons__T7wSY",select:"styles_select__rEXhG"},Oe={button:"styles_button__MKylh"};function ze(e){let{title:t,mutationFn:s,mutatateParams:n,itemId:i,onSuccess:a,onError:r,open:l,close:o}=e;const c=s(i,(e=>{null===o||void 0===o||o(),null===a||void 0===a||a(e)}),r);return(0,A.useEffect)((()=>{l||c.reset()}),[l]),(0,j.jsxs)(ne,{open:l,close:o,title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",closeOnOutclick:!0,children:[w(c),c.isLoading&&(0,j.jsx)(R,{}),(0,j.jsxs)(K,{onSubmit:()=>{c.mutate(n)},children:["string"==typeof t?(0,j.jsx)("h2",{children:t}):t,(0,j.jsx)("button",{type:"submit",className:Oe.button,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})}function We(e){var t;let{character:s,deleteNew:n}=e;const a=L(!1),r=L(!1),l=ce(s.id),o=ce(s.name,a.setT),c=ce(null,a.setT),d=ce(s.orien,a.setT),u=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await h("/api/dialog/character",e),onSuccess:t=>{var n;"success"==(null===(n=s.getQueryState("dialogCharacters"))||void 0===n?void 0:n.status)&&s.setQueryData("dialogCharacters",(e=>((e=e||{})[t.id]=t,e))),null===e||void 0===e||e(t)},onError:t})}(n),v=function(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>await h(`/api/dialog/character/${e}`,t),onSuccess:e=>{var s;"success"==(null===(s=n.getQueryState("dialogCharacters"))||void 0===s?void 0:s.status)&&n.setQueryData("dialogCharacters",(t=>((t=t||{})[e.id]=e,t))),null===t||void 0===t||t(e)},onError:s})}(l.v,m,(()=>m()));function m(e){const t=e||s;l.set(t.id),o.set(t.name),d.set(t.orien),a.setF()}return(0,A.useEffect)(m,[s]),(0,j.jsxs)("div",{className:C(Ge.root,a.v&&Ge.changed),children:[u.isLoading&&(0,j.jsx)(R,{block:!0,r:"0.5rem"}),w(u,(e=>(0,j.jsxs)("div",{className:Ge.error,children:[(0,j.jsx)("div",{children:e}),(0,j.jsx)("button",{onClick:()=>u.reset(),children:"\u041e\u041a"})]}))),v.isLoading&&(0,j.jsx)(R,{block:!0,r:"0.5rem"}),w(v,(e=>(0,j.jsxs)("div",{className:Ge.error,children:[(0,j.jsx)("div",{children:e}),(0,j.jsx)("button",{onClick:()=>v.reset(),children:"\u041e\u041a"})]}))),(0,j.jsx)(ze,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430: "+o.v,itemId:s.id,mutationFn:Le,open:r.v,close:r.setF}),(0,j.jsx)("div",{className:Ge.id,children:s.id}),(0,j.jsxs)("label",{className:Ge.img,children:[(s.img||c.v)&&(0,j.jsx)("img",{src:(null===(t=c.v)||void 0===t?void 0:t.data)||s.img,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),(0,j.jsx)("input",{type:"file",style:{display:"none"},accept:"image/png, image/jpeg, image/gif",onChange:async e=>{var t,s;c.set({data:"",name:""}),c.set(await oe(null===(t=e.target)||void 0===t||null===(s=t.files)||void 0===s?void 0:s[0],"")),e.target.value=""}})]}),(0,j.jsxs)("div",{className:Ge.inputs,children:[(0,j.jsx)("div",{children:"\u0418\u043c\u044f"}),(0,j.jsx)("input",{type:"text",value:o.v,onChange:e=>o.set(e.target.value)}),(0,j.jsx)("span",{children:"\u041e\u0440\u0438\u0435\u043d"}),(0,j.jsxs)("select",{className:Ge.select,value:d.v,onChange:e=>d.set(parseInt(e.target.value,10)),children:[(0,j.jsx)("option",{value:0,children:"\u0421\u043b\u0435\u0432\u0430"}),(0,j.jsx)("option",{value:2,children:"\u0426\u0435\u043d\u0442\u0440"}),(0,j.jsx)("option",{value:1,children:"\u0421\u043f\u0440\u0430\u0432\u0430"})]})]}),(0,j.jsx)("div",{className:Ge.buttons,children:l.v>0?(0,j.jsxs)(j.Fragment,{children:[!a.v&&(0,j.jsx)("button",{onClick:r.setT,children:(0,j.jsx)(Ue,{})}),a.v&&(0,j.jsx)("button",{onClick:()=>{v.mutate({name:o.v,img:c.v||void 0,orien:d.v})},children:(0,j.jsx)(Je,{})}),a.v&&(0,j.jsx)("button",{onClick:()=>m(),children:(0,j.jsx)(Xe,{})})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{onClick:()=>{u.mutate({name:o.v,img:c.v||void 0,orien:d.v})},children:(0,j.jsx)(Je,{})}),(0,j.jsx)("button",{onClick:n,children:(0,j.jsx)(Ue,{})})]})})]})}const Ze={root:"styles_root__qIedB",addBtn:"styles_addBtn__Ci3v5",characters:"styles_characters__rMIjG"};function Ve(){const e=L(!1),t=Pe(),s=ce({}),n=ce(1);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:Ze.root,onClick:e.setT,children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\u043c\u0438"}),(0,j.jsxs)(ne,{title:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\u043c\u0438",open:e.v,close:e.setF,footer:(0,j.jsx)("button",{className:Ze.addBtn,onClick:()=>{s.set((e=>{const t={...e};return t[-n.v]={id:-n.v,name:"",img:"",orien:1},n.set((e=>e+1)),t}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),children:[t.isLoading&&(0,j.jsx)(R,{}),w(t),t.isSuccess&&(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:Ze.characters,children:[Object.values(t.data).map((e=>(0,j.jsx)(We,{character:e},e.id))),Object.values(s.v).map((e=>(0,j.jsx)(We,{character:e,deleteNew:()=>s.set((t=>(delete t[e.id],{...t})))},e.id)))]})})]})]})}const Ke={root:"styles_root__6dYbo",close:"styles_close__T2XDu",body:"styles_body__-c4ky",nodes:"styles_nodes__0Che8",addBtn:"styles_addBtn__bt4O2"};function $e(e){const t=ce(0),s=ce({_data:null,_onClose:void 0,_onCloseMain:void 0,el:()=>s.v._data?(0,j.jsx)(et,{data:s.v._data,close:s.v.close}):(0,j.jsx)(j.Fragment,{}),open:(e,t)=>s.set((s=>(s._data=e,s._onClose=t,s))),close:()=>s.set((e=>{var t,s;return e._data?(e._data=null,null===(t=e._onClose)||void 0===t||t.call(e),null===(s=e._onCloseMain)||void 0===s||s.call(e),e):e}))},(()=>t.set((e=>e+1))));return s.v._onCloseMain=e,s.v}function et(e){let{data:t,close:s}=e;const n=Pe(),i=L(!1);function a(e,s){s<0||(t.nodes.splice(s,0,t.nodes.splice(e,1)[0]),i.toggle())}function r(e){t.nodes.splice(e,0,{characterId:1,text:""}),i.toggle()}return(0,j.jsxs)("div",{className:Ke.root,children:[n.isLoading&&(0,j.jsx)(R,{}),w(n),(0,j.jsx)("button",{className:Ke.close,onClick:s}),(0,j.jsxs)("div",{className:Ke.body,children:[(0,j.jsx)("h1",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u0430\u043b\u043e\u0433\u0430"}),(0,j.jsx)(Ve,{}),(0,j.jsx)("div",{className:Ke.nodes,children:t.nodes.map(((e,s)=>(0,j.jsx)(Me,{data:e,deleteNode:()=>function(e){t.nodes.splice(e,1),i.toggle()}(s),moveUp:()=>a(s,s-1),moveDown:()=>a(s,s+1),addUp:()=>r(s),addDown:()=>r(s+1)},s)))}),(0,j.jsx)("button",{className:Ke.addBtn,onClick:()=>{t.nodes.push({characterId:1,text:""}),i.toggle()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u043f\u043b\u0438\u043a\u0443"})]})]})}function tt(e){return JSON.parse(JSON.stringify(e))}const st={root:"styles_root__Ahfmg"},nt={root:"styles_root__H6WP2",close:"styles_close__LpN36",img:"styles_img__lP65O",img_right:"styles_img_right__KYI0+",img_center:"styles_img_center__lkowo",dialog_container:"styles_dialog_container__rAyPs",dialog:"styles_dialog__9ovTV",dialog__title:"styles_dialog__title__yj+t3",dialog__body:"styles_dialog__body__HiqPJ",dialog__text:"styles_dialog__text__gX-Zr",dialog__btns:"styles_dialog__btns__n6R2J",dialog__next:"styles_dialog__next__jEXew",dialog__prev:"styles_dialog__prev__EqKdl"};function it(){const e=Pe(),t=ce(0),s=ce({_data:null,_dialogId:-1,_characters:e,_onClose:void 0,el:()=>s.v._data?(0,j.jsx)(rt,{data:s.v._data,close:s.v.close,characters:s.v._characters}):s.v._dialogId>=0?(0,j.jsx)(at,{dialogId:s.v._dialogId,close:s.v.close,characters:s.v._characters}):(0,j.jsx)(j.Fragment,{}),run:(e,t)=>s.set((s=>(s._dialogId=e,s._onClose=t,s))),runLocal:(e,t)=>s.set((s=>(s._data=e,s._onClose=t,s))),close:()=>s.set((e=>{var t;return e._dialogId<0&&!e._data||(null===(t=e._onClose)||void 0===t||t.call(e,e._dialogId),e._onClose=void 0,e._dialogId=-1,e._data=null),e}))},(()=>t.set((e=>e+1))));return s.v._characters=e,s.v}function at(e){let{dialogId:t,characters:s,close:n}=e;const i=Te(t);return i.isSuccess?(0,j.jsx)(rt,{data:i.data.data,close:n,characters:s}):(0,j.jsxs)("div",{className:nt.root,children:[(0,j.jsx)("button",{className:nt.close,onClick:n}),i.isLoading&&(0,j.jsx)(R,{}),w(i)]})}function rt(e){let{data:t,characters:s,close:n}=e;const[i,a]=(0,A.useState)(0),r=t.nodes[i];if((0,A.useEffect)((()=>a(0)),[t]),!s.isSuccess)return(0,j.jsxs)("div",{className:nt.root,children:[(0,j.jsx)("button",{className:nt.close,onClick:n}),s.isLoading&&(0,j.jsx)(R,{}),w(s)]});if(!r)return(0,j.jsxs)("div",{className:nt.root,children:[(0,j.jsx)("button",{className:nt.close,onClick:n}),(0,j.jsx)("h2",{children:"\u041f\u0443\u0441\u0442\u043e"})]});const l=s.data[r.characterId]||{id:-1,name:"\u0423\u0414\u0410\u041b\u0401\u041d\u041d\u042b\u0419",img:"",orien:1};return(0,j.jsxs)("div",{className:nt.root,children:[(0,j.jsx)("button",{className:nt.close,onClick:n}),(0,j.jsx)("div",{className:nt.dialog_container,children:(0,j.jsxs)("div",{className:nt.dialog,children:[(0,j.jsx)("img",{className:C(nt.img,1==l.orien&&nt.img_right,2==l.orien&&nt.img_center),src:l.img,alt:l.name}),(0,j.jsx)("div",{className:nt.dialog__title,children:l.name}),(0,j.jsxs)("div",{className:nt.dialog__body,children:[(0,j.jsx)("p",{className:nt.dialog__text,children:r.text}),(0,j.jsxs)("div",{className:nt.dialog__btns,children:[i>0?(0,j.jsx)("button",{className:nt.dialog__prev,onClick:()=>a((e=>e-1)),children:"<-"}):(0,j.jsx)("div",{}),i<t.nodes.length-1?(0,j.jsx)("button",{className:nt.dialog__next,onClick:()=>a((e=>e+1)),children:"\u0414\u0430\u043b\u0435\u0435"}):(0,j.jsx)("button",{className:nt.dialog__next,onClick:n,children:"\u041a\u043e\u043d\u0435\u0446"})]})]})]})})]})}function lt(){return(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,j.jsx)("path",{d:"M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"})})}const ot=2;function ct(){const e=L(!1),t=Te(ot,!1),s=ce(null),n=it(),i=$e(e.setT);async function a(e){if(s.v)e(s.v);else if(t.isSuccess&&!t.isStale){const n=tt(t.data.data);s.set(n),e(n)}else if(t.isIdle||t.isStale||t.isError){const n=await t.refetch();if(n.isSuccess){const t=tt(n.data.data);s.set(t),e(t)}}}return(0,A.useEffect)((()=>{!e.v&&s.v&&t.isSuccess&&s.set(tt(t.data.data))}),[e.v]),(0,j.jsxs)(j.Fragment,{children:[t.isFetching&&(0,j.jsx)(R,{}),s.v&&(0,j.jsx)(ze,{title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",itemId:ot,mutatateParams:{data:s.v},mutationFn:_e,open:e.v,close:e.setF}),(0,j.jsxs)("div",{className:st.root,children:[(0,j.jsx)("button",{onClick:()=>a(n.runLocal),children:"\u0414\u0438\u0430\u043b\u043e\u0433 \u043f\u0435\u0440\u0435\u0434 \u0438\u0433\u0440\u043e\u0439"}),(0,j.jsx)("button",{onClick:()=>a(i.open),children:(0,j.jsx)(lt,{})})]}),n.el(),i.el()]})}const dt={root:"styles_root__Fv2Pv"},ht=1;function ut(){const e=L(!1),t=Te(ht,!1),s=ce(null),n=it(),i=$e(e.setT);async function a(e){if(s.v)e(s.v);else if(t.isSuccess&&!t.isStale){const n=tt(t.data.data);s.set(n),e(n)}else if(t.isIdle||t.isStale||t.isError){const n=await t.refetch();if(n.isSuccess){const t=tt(n.data.data);s.set(t),e(t)}}}return(0,A.useEffect)((()=>{!e.v&&s.v&&t.isSuccess&&s.set(tt(t.data.data))}),[e.v]),(0,j.jsxs)(j.Fragment,{children:[t.isFetching&&(0,j.jsx)(R,{}),s.v&&(0,j.jsx)(ze,{title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",itemId:ht,mutatateParams:{data:s.v},mutationFn:_e,open:e.v,close:e.setF}),(0,j.jsxs)("div",{className:dt.root,children:[(0,j.jsx)("button",{onClick:()=>a(n.runLocal),children:"\u0421\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0439 \u0434\u0438\u0430\u043b\u043e\u0433"}),(0,j.jsx)("button",{onClick:()=>a(i.open),children:(0,j.jsx)(lt,{})})]}),n.el(),i.el()]})}const vt={root:"styles_root__RyDEO",error:"styles_error__mpo99",id:"styles_id__+YyjR",img:"styles_img__Q1dE-",inputs:"styles_inputs__+GHP-",changedHighlight:"styles_changedHighlight__0huRM",changed:"styles_changed__-Gqjn",buttons:"styles_buttons__DpOXa",btnMinus:"styles_btnMinus__sOvku",checkbox:"styles_checkbox__3q5xK",description:"styles_description__IsQuf",textarea:"styles_textarea__DP8w4",description_count:"styles_description_count__rC08l",description_count_too_many:"styles_description_count_too_many__9Cvtl",dialogBtns:"styles_dialogBtns__OcBqR"};function mt(){return(0,j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 442.04 442.04",height:"1em",width:"1em",fill:"currentColor",children:[(0,j.jsx)("path",{d:"M221.02,341.304c-49.708,0-103.206-19.44-154.71-56.22C27.808,257.59,4.044,230.351,3.051,229.203 c-4.068-4.697-4.068-11.669,0-16.367c0.993-1.146,24.756-28.387,63.259-55.881c51.505-36.777,105.003-56.219,154.71-56.219 c49.708,0,103.207,19.441,154.71,56.219c38.502,27.494,62.266,54.734,63.259,55.881c4.068,4.697,4.068,11.669,0,16.367 c-0.993,1.146-24.756,28.387-63.259,55.881C324.227,321.863,270.729,341.304,221.02,341.304z M29.638,221.021 c9.61,9.799,27.747,27.03,51.694,44.071c32.83,23.361,83.714,51.212,139.688,51.212s106.859-27.851,139.688-51.212 c23.944-17.038,42.082-34.271,51.694-44.071c-9.609-9.799-27.747-27.03-51.694-44.071 c-32.829-23.362-83.714-51.212-139.688-51.212s-106.858,27.85-139.688,51.212C57.388,193.988,39.25,211.219,29.638,221.021z"}),(0,j.jsx)("path",{d:"M221.02,298.521c-42.734,0-77.5-34.767-77.5-77.5c0-42.733,34.766-77.5,77.5-77.5c18.794,0,36.924,6.814,51.048,19.188 c5.193,4.549,5.715,12.446,1.166,17.639c-4.549,5.193-12.447,5.714-17.639,1.166c-9.564-8.379-21.844-12.993-34.576-12.993 c-28.949,0-52.5,23.552-52.5,52.5s23.551,52.5,52.5,52.5c28.95,0,52.5-23.552,52.5-52.5c0-6.903,5.597-12.5,12.5-12.5 s12.5,5.597,12.5,12.5C298.521,263.754,263.754,298.521,221.02,298.521z"}),(0,j.jsx)("path",{d:"M221.02,246.021c-13.785,0-25-11.215-25-25s11.215-25,25-25c13.786,0,25,11.215,25,25S234.806,246.021,221.02,246.021z"})]})}function gt(){return(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 342.5 342.5",height:"1em",width:"1em",fill:"currentColor",children:(0,j.jsx)("path",{d:"M254.37,22.255c-1.161-0.642-2.53-0.795-3.803-0.428c-1.274,0.367-2.35,1.226-2.992,2.387l-21.758,39.391 c-1.335,2.417-0.458,5.459,1.96,6.794C264.616,90.748,287.5,129.495,287.5,171.52c0,63.649-51.782,115.431-115.431,115.431 S56.638,235.169,56.638,171.52c0-23.888,7.557-47.427,21.382-66.897l34.478,34.478c1.338,1.337,3.315,1.806,5.109,1.21 c1.795-0.596,3.101-2.152,3.374-4.024L139.963,6.271c0.228-1.563-0.295-3.141-1.412-4.258c-1.117-1.117-2.7-1.639-4.258-1.412 L4.278,19.584c-1.872,0.273-3.428,1.579-4.023,3.374c-0.596,1.795-0.127,3.772,1.21,5.109l37.292,37.292 C14.788,95.484,1.638,133,1.638,171.52c0,93.976,76.455,170.431,170.431,170.431c93.976,0,170.431-76.455,170.431-170.431 C342.5,109.478,308.731,52.283,254.37,22.255z"})})}function xt(e){var t,s;let{quest:n}=e;const a=L(!1),r=L(!1),l=L(!1),o=ce(n.name,a.setT),c=ce(n.reward,a.setT),d=L(n.hidden,a.setT),u=ce(n.description,a.setT),v=ce(n.dialog1Id,a.setT),m=ce(n.dialog2Id,a.setT),g=Te(null!==(t=v.v)&&void 0!==t?t:-1,!1),x=Te(null!==(s=m.v)&&void 0!==s?s:-1,!1),f=ce(null),y=ce(null),p=L(!1,a.setT),b=L(!1,a.setT),N=it(),I=$e(),B=function(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>await h(`/api/quest/${e}`,t),onSuccess:e=>{Ee(n,"quests_full",e),Ie(n,"quests"),Ie(n,["dialogs",e.dialog1Id]),Ie(n,["dialogs",e.dialog2Id]),null===t||void 0===t||t(e)},onError:s})}(n.id,E,(()=>E()));function E(e){const t=e||n;o.set(t.name),c.set(t.reward),d.set(t.hidden),u.set(t.description),v.set(t.dialog1Id),m.set(t.dialog2Id),f.set(null),y.set(null),p.setF(),b.setF(),a.setF()}async function k(e,t,s){if(e.v)s(e.v);else if(t.isSuccess&&!t.isStale){const n=tt(t.data.data);e.set(n),s(n)}else if(t.isIdle||t.isStale||t.isError){const n=await t.refetch();if(n.isSuccess){const t=tt(n.data.data);e.set(t),s(t)}}}return(0,A.useEffect)(E,[n]),(0,j.jsxs)("div",{className:C(vt.root,a.v&&vt.changed),children:[N.el(),I.el(),B.isLoading&&(0,j.jsx)(R,{block:!0,r:"0.5rem"}),g.isFetching&&(0,j.jsx)(R,{block:!0,r:"0.5rem"}),x.isFetching&&(0,j.jsx)(R,{block:!0,r:"0.5rem"}),w(B,(e=>(0,j.jsxs)("div",{className:vt.error,children:[(0,j.jsx)("div",{children:e}),(0,j.jsx)("button",{onClick:()=>B.reset(),children:"\u041e\u041a"})]}))),(0,j.jsx)(ze,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0432\u0435\u0441\u0442: "+o.v,itemId:n.id,mutationFn:Qe,open:r.v,close:r.setF}),(0,j.jsx)("div",{className:vt.id,children:n.id}),(0,j.jsxs)("div",{className:vt.inputs,children:[(0,j.jsx)("div",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,j.jsx)("input",{type:"text",value:o.v,onChange:e=>o.set(e.target.value)}),(0,j.jsx)("div",{children:"\u041d\u0430\u0433\u0440\u0430\u0434\u0430"}),(0,j.jsx)("input",{type:"number",value:c.v,onChange:e=>c.set(e.target.valueAsNumber)}),(0,j.jsx)("span",{children:"\u0421\u043a\u0440\u044b\u0442\u044b\u0439"}),(0,j.jsxs)("label",{className:vt.checkbox,children:[(0,j.jsx)("input",{type:"checkbox",checked:d.v,onChange:e=>d.set(e.target.checked)}),(0,j.jsx)("span",{})]}),(0,j.jsx)("div",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,j.jsx)("button",{className:C(vt.description,u.v.length>256&&vt.description_count_too_many),onClick:l.setT,children:u.v}),[{n:1,questId:n.dialog1Id,id:v,data:f,query:g,changed:p},{n:2,questId:n.dialog2Id,id:m,data:y,query:x,changed:b}].map((e=>{let{n:t,questId:s,id:n,data:i,query:a,changed:r}=e;return(0,j.jsxs)(A.Fragment,{children:[(0,j.jsxs)("div",{className:C(r.v&&vt.changedHighlight),children:["\u0414\u0438\u0430\u043b\u043e\u0433 ",t]}),(0,j.jsxs)("div",{className:C(vt.buttons,vt.dialogBtns),children:[null==n.v?(0,j.jsx)(j.Fragment,{children:i.v||null!=s?(0,j.jsx)("button",{onClick:()=>n.set(null!==s&&void 0!==s?s:-1),children:(0,j.jsx)(gt,{})}):(0,j.jsx)("button",{onClick:()=>{n.set(-1),i.set({nodes:[]})},children:"+"})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{onClick:()=>k(i,a,N.runLocal),children:(0,j.jsx)(mt,{})}),(0,j.jsx)("button",{onClick:()=>k(i,a,(e=>{r.setT(),I.open(e)})),children:(0,j.jsx)(lt,{})}),(0,j.jsx)("button",{onClick:()=>n.set(null),children:(0,j.jsx)(Ue,{})})]}),a.isError&&(0,j.jsx)("div",{style:{color:"tomato"},children:"\u041e\u0448\u0438\u0431\u043a\u0430"})]})]},t)}))]}),(0,j.jsxs)("div",{className:vt.buttons,children:[!a.v&&(0,j.jsx)("button",{onClick:r.setT,children:(0,j.jsx)(Ue,{})}),a.v&&(0,j.jsx)("button",{onClick:()=>{B.mutate({name:o.v,description:u.v,reward:c.v,hidden:d.v,dialog1:(null==n.dialog1Id||null!=v.v)&&(p.v&&f.v||void 0),dialog2:(null==n.dialog2Id||null!=m.v)&&(b.v&&y.v||void 0)})},children:(0,j.jsx)(Je,{})}),a.v&&(0,j.jsx)("button",{onClick:()=>E(),children:(0,j.jsx)(Xe,{})})]}),(0,j.jsxs)(ne,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430",open:l.v,close:l.setF,children:[(0,j.jsxs)("h2",{children:['\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430 "',o.v,'"']}),(0,j.jsx)("textarea",{className:vt.textarea,cols:40,rows:10,value:u.v,onChange:e=>u.set(e.target.value)}),(0,j.jsx)("div",{className:vt.description_count,children:(0,j.jsxs)("span",{children:[(0,j.jsx)("span",{className:u.v.length>256?vt.description_count_too_many:"",children:u.v.length}),(0,j.jsx)("span",{children:"/256"})]})})]})]})}const At={quests:"styles_quests__lnETn"};function ft(){var e;Z("\u041a\u0432\u0435\u0441\u0442\u044b"),qe();const t=Se();return(0,j.jsxs)(G,{centeredPage:!0,gap:"0.5rem",homeBtn:!0,forStaff:!0,children:[(0,j.jsx)("div",{className:"calmBack"}),t.isLoading&&(0,j.jsx)(R,{}),w(t),(0,j.jsx)("h1",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430\u043c\u0438"}),(0,j.jsx)(Ye,{}),(0,j.jsx)(ut,{}),(0,j.jsx)(ct,{}),(0,j.jsx)("div",{className:At.quests,children:null===(e=t.data)||void 0===e?void 0:e.map((e=>(0,j.jsx)(xt,{quest:e},e.id)))})]})}function jt(){return(0,i.useQuery)("storeItemsFull",(async()=>await d("/api/store_items_full")))}function yt(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await h(`/api/store_item/${e}/decrease`),onSuccess:e=>{Ee(n,"storeItemsFull",e),Ie(n,"storeItems"),null===t||void 0===t||t(e)},onError:s})}function wt(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await o(`/api/store_item/${e}`),onSuccess:()=>{ke(n,"storeItemsFull",e),Ie(n,"storeItems"),null===t||void 0===t||t()},onError:s})}const pt={root:"styles_root__yl-I8",img:"styles_img__gddIw",form:"styles_form__ASF2C"};function Ct(){var e;const t=ce(null),s=(0,A.useRef)(null),n=(0,A.useRef)(null),a=(0,A.useRef)(null),r=L(!1),l=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await h("/api/store_item",e),onSuccess:t=>{Be(s,"storeItemsFull",t),Ie(s,"storeItems"),null===e||void 0===e||e(t)},onError:t})}((()=>{t.set(null),r.setF(),s.current&&(s.current.value=""),n.current&&(n.current.value=""),a.current&&(a.current.value="")}));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:pt.root,onClick:r.setT,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),(0,j.jsxs)(ne,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",open:r.v,close:r.setF,children:[l.isLoading&&(0,j.jsx)(R,{}),w(l),""==(null===(e=t.v)||void 0===e?void 0:e.data)&&(0,j.jsx)(R,{}),(0,j.jsxs)(K,{className:pt.form,onSubmit:()=>{var e,i,r;const o=null===(e=s.current)||void 0===e?void 0:e.value,c=null===(i=a.current)||void 0===i?void 0:i.valueAsNumber,d=null===(r=n.current)||void 0===r?void 0:r.valueAsNumber;c&&o&&d&&l.mutate({count:c,name:o,price:d,img:t.v||void 0})},children:[(0,j.jsxs)($,{label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",children:[(0,j.jsx)("div",{className:pt.img,children:t.v&&(0,j.jsx)("img",{src:t.v.data,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})}),(0,j.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/gif",style:{display:"none"},onChange:async e=>{var s,n;t.set({data:"",name:""}),t.set(await oe(null===(s=e.target)||void 0===s||null===(n=s.files)||void 0===n?void 0:n[0],""))}})]}),(0,j.jsx)($,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",children:(0,j.jsx)("input",{ref:s,required:!0,type:"text"})}),(0,j.jsx)($,{label:"\u0426\u0435\u043d\u0430",children:(0,j.jsx)("input",{ref:n,required:!0,type:"number"})}),(0,j.jsx)($,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",children:(0,j.jsx)("input",{ref:a,required:!0,type:"number"})}),(0,j.jsx)($,{children:(0,j.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})]})]})}const bt={root:"styles_root__792UO",error:"styles_error__EjE0M",id:"styles_id__EvI3k",img:"styles_img__F6UZc",inputs:"styles_inputs__r6vu+",changed:"styles_changed__aaZPg",buttons:"styles_buttons__X3oNY",btnMinus:"styles_btnMinus__5ZzMA"};function Nt(e){var t,s;let{item:n}=e;const a=L(!1),r=L(!1),l=L(!1),o=ce(null,a.setT),c=ce(n.name,a.setT),d=ce(n.count,a.setT),u=ce(n.price,a.setT),v=function(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>await h(`/api/store_item/${e}`,t),onSuccess:e=>{Ee(n,"storeItemsFull",e),Ie(n,"storeItems"),null===t||void 0===t||t(e)},onError:s})}(n.id,m,(()=>m()));function m(e){o.set(null);const t=e||n;c.set(t.name),d.set(t.count),u.set(t.price),a.setF()}return(0,A.useEffect)(m,[n]),(0,j.jsxs)("div",{className:C(bt.root,a.v&&bt.changed),children:[v.isLoading&&(0,j.jsx)(R,{block:!0,r:"0.5rem"}),""==(null===(t=o.v)||void 0===t?void 0:t.data)&&(0,j.jsx)(R,{block:!0,r:"0.5rem"}),w(v,(e=>(0,j.jsxs)("div",{className:bt.error,children:[(0,j.jsx)("div",{children:e}),(0,j.jsx)("button",{onClick:()=>v.reset(),children:"\u041e\u041a"})]}))),(0,j.jsx)(ze,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440: "+c.v,itemId:n.id,mutationFn:wt,open:r.v,close:r.setF}),(0,j.jsx)(ze,{title:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b-\u0432\u043e \u043d\u0430 1: "+c.v,itemId:n.id,mutationFn:yt,open:l.v,close:l.setF}),(0,j.jsx)("div",{className:bt.id,children:n.id}),(0,j.jsxs)("label",{className:bt.img,children:[(n.img||o.v)&&(0,j.jsx)("img",{src:(null===(s=o.v)||void 0===s?void 0:s.data)||n.img,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),(0,j.jsx)("input",{type:"file",style:{display:"none"},accept:"image/png, image/jpeg, image/gif",onChange:async e=>{var t,s;o.set({data:"",name:""}),o.set(await oe(null===(t=e.target)||void 0===t||null===(s=t.files)||void 0===s?void 0:s[0],"")),e.target.value=""}})]}),(0,j.jsxs)("div",{className:bt.inputs,children:[(0,j.jsx)("div",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,j.jsx)("input",{type:"text",value:c.v,onChange:e=>c.set(e.target.value)}),(0,j.jsx)("div",{children:"\u0426\u0435\u043d\u0430"}),(0,j.jsx)("input",{type:"number",value:u.v,onChange:e=>u.set(e.target.valueAsNumber)}),(0,j.jsx)("div",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),(0,j.jsx)("input",{type:"number",value:d.v,onChange:e=>d.set(e.target.valueAsNumber)})]}),(0,j.jsxs)("div",{className:bt.buttons,children:[!a.v&&(0,j.jsx)("button",{onClick:r.setT,children:(0,j.jsx)(Ue,{})}),!a.v&&(0,j.jsx)("button",{className:bt.btnMinus,onClick:l.setT,children:"-1"}),a.v&&(0,j.jsx)("button",{onClick:()=>{v.mutate({name:c.v,count:d.v,price:u.v,img:o.v||void 0})},children:(0,j.jsx)(Je,{})}),a.v&&(0,j.jsx)("button",{onClick:()=>m(),children:(0,j.jsx)(Xe,{})})]})]})}const It={items:"styles_items__34Dlt"};function Bt(){var e;Z("\u0422\u043e\u0432\u0430\u0440\u044b");const t=jt();return(0,j.jsxs)(G,{centeredPage:!0,gap:"0.5rem",homeBtn:!0,forStaff:!0,children:[t.isLoading&&(0,j.jsx)(R,{}),w(t),(0,j.jsx)("h1",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430\u043c\u0438"}),(0,j.jsx)(Ct,{}),(0,j.jsx)("div",{className:It.items,children:null===(e=t.data)||void 0===e?void 0:e.map((e=>(0,j.jsx)(Nt,{item:e},e.id)))})]})}const Et={root:"styles_root__3AhF7",window:"styles_window__YHycS",map:"styles_map__lp2hs",btns:"styles_btns__P557j",btn:"styles_btn__rCusk",quest:"styles_quest__hR6ry",quest__back:"styles_quest__back__eDhkH",quest__title:"styles_quest__title__GllrO",quest__description:"styles_quest__description__UVd4X",quest__dialog:"styles_quest__dialog__ndnu+",quest__spacer:"styles_quest__spacer__SmzPF",quest__scanner:"styles_quest__scanner__Z9SuT",quest__scanner__link:"styles_quest__scanner__link__H9Sx0",title:"styles_title__AMBJ6"},kt=s.p+"static/media/map1.6a5779cc66678dc08997.png",Ft=s.p+"static/media/map2.b47844e761fca7725668.png",St=s.p+"static/media/map3.7111c93b14349d6d30ed.png",Qt="data:image/png;base64,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",Dt="data:image/png;base64,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",Tt="data:image/png;base64,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",_t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQEAAAD4CAMAAADb2KOqAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAJZQTFRFAAAAAAAA/s5frP/zrP3wBAYGqPntCQ0N99Fqo/Hmnend7tV4meHVicrBap2VdKujf7yz/s5fW4aAtPni49yLYpKL/s5f/s5f/s5fO1dTDxYVQ2NfKz88FR8e/s5fU3t1MktHIzQxS29pHCoo/s5fvPTUxO7D2uOe0OmxktfL/s5f/s5f/s5f/s5fztiZud2yycB4pMOddTVd2gAAADJ0Uk5T/wD////////////////////n/////68RmP//////y///////Mf//////bIJHWf/////Odw79AAAYH0lEQVR4nOVdCZOiyBLug0OQS1pUQBpE7W76mpn//+e2qkBAyCwOQdreL+LFi9idHcmv8q4j7+4nw/rzfbNaPS8ezrB43mw+3g/rq33G3dV+qYz158fm+YGL1cf751VouDIDZN0/NqsG4cs0jM/C9RhgSt9W9BKevw6jftd1GCDSt153AIvN53jfNj4D66+PPkt/NRJGZuDwdcnaV/D8MYZTGJGB9ddq0SxWN2yG52A0Bj4GXPxRORiFgcPXAJaPYjVsbBiegfXH4LpfwbBecWAG1hdFvfZ4fh/skwdlYL25ivgpB0PpwYAMjOX7MHwM4w+GYuBzM7b117EYJD8YhoErWX+dg6/Lv30ABg5XtP4aNhebwsUMrD8mlJ/iY1oGDmOmPi3xPCEDw0S/2Xz5+vr6Rv63nM96UXBRYLyAgcvXf758ezkKj2UIT8eX12VXIi6xhN4MXCT/bE7W/eXpEcXTSzd9WF2dgd7JP1X5l+PxSRBw8TNtIMrQnoX+FPRj4Kuf/DMi/JMkCM3i5yy8zVv+3Yu+lUIfBno5wDnReuGxJrsgaZZpx75L4Ie2Yelq5Y8c31q6hVW/DLEHA+9dFWBGFL8sFlUCQZIU3QzdnXxXhbjzHUs9o+nltQ0Jz70o6MzAuqMHJP6eWH0uu0SgqIlFhN/uPbEmfkZCsHNDK1FKHLRRhF4UdGXgvYv0s1T1C+kVVbecONoHmOhnNHi72Eyk3CW8tnAJPeqEbgx0UoDZ61sR7+jia5bt7tvIXraIMOfg8amFLXRPjjox0CEEzF+LVIdIr1LhO8lewHNt7fQ3vTVy0DkkdGCgfQiYLV9K4mu6E3Vb+ToiK9MEoVEPuhpCewbWLXsAxPOflp+GOsfdexeKTyFHZhomheOy4QM6akFrBtrGwEL7BUX39/Vg1xfiPlTamUI3Cloy0NIFznPfJ6iOP8TanyGIUw6eGtSgEwXtGDi0soDlafklPdxdavkwvDB1ikd+ZOxCQSsGDi0sgHi/dP2lxOwa8zpA3JpMDxq8QQcK2jDw2UzALDN/RbcjNNMbigMWFxq8QXsKWjDw1awAy5dU/ZM4GFX6FIHDKHjhUtA6NWpm4NAo/+sxVX9zJOOvY281O8S2eUEjA40mME/lV4xrLH8OQ2HpEee7Fi376E0MNGlAFv9U52rrn0KMEmYJvJjQzhAaGGjSgFcmv2D0zfkvwN5kMYHjDNppAZ+BdYMCpA5Qd6+7/hlEW2gIi612ErgM8EuB2RsLgKo/hfgMO50qIIeCNl10HgN8Auas/pOs7SQKkFFgNYSEFgGBxwCvFpilHjDxhyt9+kC2JX5IaKaAwwCvHTBLGwDJblL5KQWmxNeCxoCAM8BLBZdMARR/QgM4QYwlri9o7J6iDKzxODh7TUPAdmrpU9h8LWgKCBgDHC+YWoBkDF7+94Qc8ynY9GMA94IzlgRI8Q+wgBMcGhHw7JDvDREGcC84O6YuYGqpyxBpsYg3TRZcbwgzgHvBtA7SJo8B52DpIa4F3I1lmAHUCaR5sBJNLXIVAS0S8IYBjwKQAdQGUg3Qo6kFrkM2aCMdpYCTHkMMoDYw+6EaQOHRFiqeHOKuAGAAzQRSJ6hFUwsLg5ZJeH6MJ0YAA9gBwdkb04Af5gQLbBVecogmRnUG0KYIK4alHxUGzyDGKi8gYIlRnQEsF1oyAuKp5eRA9LmZEZIY1RjAjkikxZDzgzJBADQmHjEGFu0YwNzgnFXD5rTdgEaIJvlMdCsFDolVBjA3yOJgMkFDtBsCXkCAs+MKA0hr9KeHgQI7jVMngvGgwgCiAswLKvbU4rWBz0uPITs4ZwCJhGkqZP9sL3iCzfOGwA7COQNIRcScgP5TOiINEOlm0hvCAFAinTGAbJExG1DdqUVrC5YeY66gvqt+xgCSDLFM4Cf1hBqw5eSGi1p9UGYAUQHWF9Vvh4C7u1DCvWHNGZYZgFWAJYPSDQTCAnLIcQVVJSgzAP8X1A1KPzwbrsJLcFdQVYISA3BFwNyg9cOz4RpopfwE20HVE5QYgEPhy88uiTE4Atox2mAMfIJ//JWqgHlbNkAhW7gdHBAG4PYovR6g3poNUEQSesBkgzAAJsRLei/qJ3dFUIgGXiV+ggzAVeGRXoy4RRUgdqCh+0grkAEwGVgqkqTepAoQuLRKhJVgDTEA/cHZi6Ioxu25wQz0iA2sBBuAATAZmKuK8lO3B1og0tDMcF1nAPSD36qq3mAkPEG00Yj4XmMA3ij7o2nazRTFAHYqViE91xgA/eBcU7Ufc1KkFxxUCdYVBuAe+bemJj/krFBP7JNHAe6YfVQYgIuiP6pm3a4XoBBJRJQalCBlACyK/mqqfqu5wAmiJghPIAPvZwzA+eA/ogI/foukCeGjAHuC1RkDYFk417XkJnYIuJBVQYATw3WZAcgNzP7pmnXbfpDBEZBWyWeZAagwnluJZt50KEyxJ54ALBE3ZQYgR/iXMODcZlV4BtES4FtpixIDoCP8Z2lJeNuxMIUvIL7wq2AAcoSzfxaJhb+BgUATJNAXrgoGoA3juaUr1i3XBDlER5DgdlnBAOQI/+qa8htCAcFeEuC88JAzABUF34mi3n4+lEKXJLBN8H5iAHaEqvIrgiGFL0lgw3B1YgB2hIqkGb8gGFLsJQk8WLM4MQBlhPNEkrRw6k8fCgliBoeMASgU/NUIA9HUXz4UDEUBuwRfHAa+lZvdJwDgaooCOYLnjAEoGP6RJEmf+sMHQ2ApChgP1ykDUI/wRRAkc+oPHw62ooCO4IsxAAbDJ8LA7TcHcriKAibGH4wBsD1CHxC8vUMDKPbEEUCJ8YoxAAZDemzid+TEDDJxBGCTgDEAOcIlvdd/1XdFRoaDmMEBY4AeoJN+Q2l8AnEEKhQPvygDYCigR+mn/uohsdfheEhc4R0YCuhJamvqrx4Ssq2o34CgG8IAeJCUHp8ypv7qQeGr6h9AUBIM7rBQIPyauohhDzNAssI7qCpY/rjb5RdDTFQNyggO93dYKPg9lWEKU9OgYPAOM/DyIx5ZGRY2zMDH/R20W3K8oSslbeEnCRwMIAZmvy4YEmyTBHKFHAZ+UW3MsIcZeL6/A1rlM3qnwpn6kweGnCQJwMACZ+AXdQcYxC4MzCkDt35+pgqEAdgKGAO/KyGiF286+AF2z/y3MRCgsQBj4FfsG5ewQ/OB/wsDUZLADYL/DwN6gtQFmCf8hQwgtSGWD/w2T+jr/wACHu7/PwyEOtYjwuqC39UiurtzdKxPiFXHvy0rNnWsV4w1y39Xo/TOs3Q4FMB9wrff1x/YWWAwPCAM0E6pfsVNs/F3p8TI+gMFw3ukWz67bqc0iMbuyO3NRIf2DdneMbh5/kQfXRj5q07w3Hj4uT9nCOi4Bwmui7BdM+oK9aucp5S3tu02ECAGbugYpuPEbg/T9NjUE/i6UXqCAjpRyjYMrpETya5t+xyxvH0U26aeqCk0y45aTQYssDPTiWjg1vEHen6AnaC4wkN0+9hxXOxn2HhDOsxMkBQivJaxoBvtxyWJgZMNy5TAHaMv9AzJTLjKu+RySDQbIcBzzezjCQFk7X0/tg09JcGKWzqOyHrMoGiQtR/wc0TUEWhjP0AT2AYy98/zrXRAmKAoielvc5Z2scV0QbNbeKmdWUxXBR3h4h4/S0afH1GscVOCwDEc4P1/0dvZSr72dYoCW6ckJE3DU7ywPF1WgaqC1T1+npA+zSyNe+U2CA2jHgW8yNDZqCJF1U1/B2p74JqEg4Q7QMmL9TIBkoqFAuxULUuMR319QrYNo36LZ6uny69qpstx+mJE1YCTtrrJ+dRkBdk4ThkAb97Th5ikEd8eEIkGhNUVzgyXLL/dtHMdOIQDC3aIoms9VqCoUCj45N2wYJ2y8XbQZZ9oQCUK7E2FjYLWrFY5YmTBjyOIvl6VnxgBdpYuvWUDtQhYl0QZq00iuoZR8eZypLOJ6JLeZkCYKMvyVoduBQeOUiOAMICGAvSu2cMfmksn4yTsYkQIODNiL7KYAjwKFi/dEYPdluQFJEWmsKz6+xC+VpefGgHSIOLduPxWqUMap2O8I17wPM7YKpOfkI7/YrCNHUuj7wNpCYGu65ZZzQpkqzpaPlUBDQoFBQNwYqwpJCKP0iehiUB09g/MTP7HR/DVD3Hv5rPgiZ2omm4Zjh2GtUpJtiSAAKICYHPgvWAATIz/ELoVZYQCUSZhoEyA6Cs5AULt9+R9nh5TWRLL4YwQ9iH5SViHT9J9Nr0/QBVOGv7ytRwbRmkWGB3dKrCp8OwhxPKfFInek1Ig5UbSdDN0d/whqrUomNKqgm4ge4GA8wYFY0CNhmaAhIFSYSPHzANYvq7Snyu8gLgPTU06Dc/Ww22QscZZEhm0AeIGwIywdO8YeYznWyWfNHiNvHMMuyAgYAqgkeRwSyhQsga1TNZeUzLpNTOOim+QI84suQg2AlJbI+fKCwbAt2hmbFWUYcPB3nFKcdCnOYASMplkN6TUEOkt9SR9YvjnjmHrhLhnEh2MAdANHMoMwO8R/VGYEgyZE4ixY+dxUHQTQoCer7DoBVvbTJQ0LLKh8exfiac/4LmOzUmXAtgNIEZQfoEBM4M5MwO1a2KYf6JY01c5sgsCAlsTBDUPfzJtCaWLT6S3t3lhJEep3xC3tkHy5frfekIEuwE4Hcofo+G/S8aUIOnmCYLopKf1b92Hdl7WyzbRgMwC2PJmfk9QzLA8N5OwxroIouvQUkLeoRVhiBkB+PrA+zkD8Nt0qRJ0rA6iPN8Tq/Yj+2GUE2UkkpTOhhL3sZVZvmpU+6ZemDZJAtt0duSPRmjWLGJGAD9KdagwAL7TOqNXT4kSFB8l7ndNvdrAMLMkoqYDOz/XAM8k/o49gxy4lsQSIikx6i2ZwE61ZmeYYUAMgdMvD8CS4FEB3WDlPSIsKTopQX4Nf+8kqm7Cvb2cpNg0s/hRYcCLtiet2DmWpYee6LlGwkpClVg+kO0Qs6GuT3ZZFuVtdxyL3IJuABuPfv4m1T1SIqf3jyVJy9bGo71akpvxU+WteVKCagMg/37PsCzLFfeZ+FLiw7odxGyUvBgbDnEN3pbbuIRTYuwR+68aA/DzdFQJSMTO3iq16ZuVpCSr7aWIQck8PdvMOKrqQG4CoWmZYaizekDR0QjnucwlBrFBLOBODvguGcgGJEVCHuxdrGsMwL7w4Y9KdSvNjUVNTaI7nyxx5bdpMlNEubvINFOORFgy0SalPc25BUmxeBnO3kv5stOf58rPXqmuOUGwKqaovk9IAQ9xWbIYJbF3CkUzIcpAnHK1hN3FW7+09bEzzZDHwNZk8kuK7ri8dU3/c5IHtxoqvUvqYVADM4EzFSgxgAzy+WZKkJYsMluUqNreoMq6d4rmpmyYNq9+cRJFIUlPuG2TbYo7vBg+g1/tjkkaqgHlCV+lt+vhh8tpp+Tx7MJF4BjntcKOuCvZdop/SEI3R7idoyemHbXMs/AUsIKaG1BQDQDfK+YogcaGGRVtY5Lbn+dILt38JCl7/q2u4XC8dtC0W94P1Q6xgGvA2ZC38gwLWAlmf5gShMVaRM6ZkotxdEdX1sl92s6xr39xvWoE8LsbDGdjLFpMcpkxF1Pyfnv7rNPt+VQ/PLvo/clxbTNkdHgVAo44AedTLM6m+SAzveaU3tI2KglPZVcYMAZI1lJssm1HPhcDYFvOAnjTj6szjc4YQDxBuoUW5T8m+3bZFQZpF+PkCGgM80Y/G1VDXI6CCtgbzlCZa3U+1QsZ88sOGhdHLMWsXs2Q6gDt/rD/l1m5c/W3jIpQIGngXYoTqjNfzxnAlICdrCqE2tnlPb+MAVLGshaeR5cfyYVGhFkEwWTJ0YBFdbhbZbofMuOT7aUX3i+wy54u9YQ0BlIHKfPLl9FwygiF5JvjAh6ea9PtqjMukblWj2dv08h2WBLTy2wicGhStOMdDRsRp10VdLxjivqYyyoDSJ+gcuMgLO/ve6qSttRjx957IXY0alzIJwJ4CgCOeKzNugUjIttLL1WEfjkcbiUpPcrgOQT2NM8Y7VgO8LrkEwBNgK8xADbOWTAovWMflcNhJEnZ+dPAjePtJCrAxragw9x4BAATn8GHSei5xtKk2105HBIG8jNX148BGehsT3zqOYcAgAHsuH15ymVQDofECqYfgOk0O8EVPPy9HQNs2G/psTq5HA4DSVAmv6dNG0S8TBglAGAAygspA4JQ9AjEsFQbydIPeMmPMcBJhJCB1yAD8IONLNssfvAsGGg/4DVHxgAu/zM47rozA1Jh+245GOjSOKdtuqBBB5C59x0YYL3CUlZIKoPi1w1J0iZ+yI5OssM9Ya0W6MtA6ZmqvV3qGcWKNPUkWF/ieEI4CuIMgJ6Q/oCiFFlhYJcOgmwTaWJX6KucdIBPQNt8gHaJJLXwd15Y6gSKFsmJpjQDV+JkhGgQQBmAH/EW2Gmu/De9cji8cybNCMSINUnf4AFmeBBAGQAPU/xTGQP5usuhUwqHsfQoTPaKl+jwNKA+57yZAbBjPLfY2ZbiCFBcPhXqCmcNlKtCjtmFDGzINy8KYAzAW6h/2bWbPAkgDJTaBfQU20TRwGOX6dCaaFEXrwUDyNhfWh8XUvvlfSPaqRYm6QvIrD0ovGK50KYuXgsG4DbRG1WC4lpMZJS2BikDyhQ6EGkNjbFmI4AYgCfA00ZZyd3tDaM4TENPb0zgCcV0u5hTEjakAigD8IEaWh9K+Ywnjx3tyr7EeZzi3RLPkHg+kGDRGAoRBuCWOeuUqbmuu6Z1uu5Gzy7oV8+ItmyzWODtDTQlQygDyL4JGwKvnVIC0dD19MwYO8d3bT+YWQC3LbRAeiLNDGCbZ6xXlm8d7a1E03TDMYgGCNfuD2zZfUIBzgNP4JTETQwgSjCjm2dCXhRujURVFYUao37dQBDEaQxAgyBDi0iIMoBtns1op0TKL2TLkaMniiRI1yXAs9kO2RNfAcojjXswgByty24hRqXViGLHia+aEO/MphMSKQGtnADOAKIEqSF0Pm8/qPxC6gH5CtCeAIwBJCd4yBrn9kTdAM9ONwebNoc6EIAyAF84oFrwRh+qaThaPA6CUE/l528OdiMAZQBXAnamZoJnzUUnPT3P3xfpTADOAFwfMbDUSLpuUygIM/kb9gYpNl0IwBnADpblWvB4xRGYWzN9mKEpAFAs2iVCLRhAjpMUWvCYoA/pDAp5a2up/K/NBgCdEunNAJYUMC14YoeWrNG9gbizddYHFF6aAiBDJxfQyACWFBQUPDa+CHMhdnZ2eejIz4D7E8BlgGcHaW40qjcgy58dEBOa41+Kbj6wBQNrPCQ+PMxf0uuB2ihniMWda6bvyQhPb630n/jA5tZ4VwbuDxxX8DDLLOFRH5qDILJ1JRO/nflTtGmJdWbg/sDTgoflMaVAAi4K9oa4C63TSXmy/C3Fb9kQ6s4Acic7x1v2dITUcAmxLUrSC8e21k/RvDvWlwG+IaTPdzE1UMwWj+hw4W3t/NboU7vYn6NlN6QXAw2G8DB/y7yBpJpR7wO13t43knT1BeH48jpva/wMXdPAjgzcr3lB8aFQA3pzGHltrwEk61Gzp1geVdP420n8niGgCwP8vIBimXNA8kTdiVtdo2Pv8EV+6Jja6Q0hSU3+/fv7txsDH709QAcGeFVSitwWMqiWE0fgRUE52G9d3zasRD37L0jY/+6m+wz9PWA3Bu4/+c6AJAfz15ens/egFDXRTcMOY993Xd+PQ9sxDNPS9URTq/fCaNjvIf7D82UG0IUBbo2Qs7CkLEDPYvEhtEz6x5C/PQOtKGCq8HbsxsFTp7hfwqrFxvCQDOCdwzrmy7eXY6PgL2+vy9Yp71jyd2Hg/p2fG1VBPcPx+PT0lL66JwhPFMcjk7zfqo8gfycGmtJDkIbZbF5gRnGh7APL342BPhSMgD5NgKEYaEwPr4BB1787A21DwlhYfAy7/n0YmFINLiwAhmKgRYo8jvirSwpADnow0JwijyD/KMvP0IeBa6vBaMvP0I+BK6rBYnNx9cdHTwZIULgGB4vPoWNfHb0ZuD+MHhQGD/0g+jMwNgcjhH4QlzBwP54trN6vJP/FDBCfuBm2WFhtNu+fVxP/fgAG7odUhMXXNWVPMQQDJFX+HIKFMbL+ZgzDAMX6a3WRPYya9nAwHAMUh6+Prm5hsXrebD6+rhL4QAzLAAMxiY/mOLlYrTYfU0p+wggMMKwP7x+bzfPzgiATmeH5+Xk17ZpX8R9OZyg3gTDRXwAAAABJRU5ErkJggg==",Pt="data:image/png;base64,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",Lt=s.p+"static/media/2_2.a06d54a1f7ed4e1d05ce.png",qt={root:"styles_root__cV7H9",btn:"styles_btn__ofavo"};function Rt(e){let{curPage:t=""}=e;return(0,j.jsx)("div",{className:qt.root,children:(0,j.jsxs)("div",{children:[(0,j.jsx)(xe,{small:!0,btn:!0,highlight:"map"==t,children:(0,j.jsx)(F.rU,{className:qt.btn,to:"/map",children:"\u041a\u0430\u0440\u0442\u0430"})}),(0,j.jsx)(xe,{small:!0,btn:!0,highlight:"timetable"==t,children:(0,j.jsx)(F.rU,{className:qt.btn,to:"/timetable",children:"\u041f\u043b\u0430\u043d"})}),(0,j.jsx)(xe,{small:!0,btn:!0,highlight:"store"==t,children:(0,j.jsx)(F.rU,{className:qt.btn,to:"/store",children:"\u041c\u0430\u0433\u0430\u0437"})}),(0,j.jsx)(xe,{small:!0,btn:!0,highlight:"game"==t,children:(0,j.jsx)(F.rU,{className:qt.btn,to:"/game",children:"\u0418\u0433\u0440\u0430"})})]})})}const Yt={root:"styles_root__gZWUz",body:"styles_body__JCH1X",grid:"styles_grid__7zDRw",back:"styles_back__TDJ1u",close:"styles_close__PCOet"};function Ht(e){let{close:t}=e;const s=function(e){const t=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await h("/api/user/set_group",e),onSuccess:s=>{var n;"success"==(null===(n=t.getQueryState("user"))||void 0===n?void 0:n.status)&&t.setQueryData("user",(e=>({...e,group:s.group}))),t.invalidateQueries("quests",{exact:!0}),null===e||void 0===e||e()}})}(t);return(0,j.jsxs)("div",{className:Yt.root,children:[s.isLoading&&(0,j.jsx)(R,{}),(0,j.jsxs)("div",{className:Yt.body,children:[(0,j.jsx)("h2",{className:"title",children:"\u041a\u043e\u043c\u0443 \u0432\u044b \u043f\u043e\u043c\u043e\u0436\u0435\u0442\u0435?"}),w(s,(e=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{style:{color:"tomato"},children:e}),(0,j.jsx)("button",{className:Yt.close,onClick:t,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043a\u0430\u043a \u0433\u043e\u0441\u0442\u044c"})]}))),(0,j.jsxs)("div",{className:Yt.grid,children:[(0,j.jsx)("div",{className:Yt.back}),(0,j.jsx)("div",{className:Yt.back}),(0,j.jsx)("div",{}),(0,j.jsx)("button",{className:"title",onClick:()=>s.mutate({group:1}),children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\u043c"}),(0,j.jsx)("button",{className:"title",onClick:()=>s.mutate({group:2}),children:"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0443"}),(0,j.jsx)("div",{})]})]})]})}function Ut(){const e=u(),t=it(),s=L(!1);return(0,A.useEffect)((()=>{var n;0==(null===(n=e.data)||void 0===n?void 0:n.group)&&t.run(1,s.setT)}),[e.data]),(0,j.jsxs)(j.Fragment,{children:[t.el(),s.v&&(0,j.jsx)(Ht,{close:s.setF})]})}const Mt={root:"styles_root__sa0ap",bodyOuter:"styles_bodyOuter__+xkIs",body:"styles_body__27+PL"};function Xt(e){let{children:t,title:s="Underparty",footer:n,className:i,scrollUpdate:a,onClose:r}=e;const l=(0,A.useRef)(null);return(0,A.useEffect)((()=>{l.current&&l.current.scrollTo(0,0)}),[a]),(0,j.jsxs)("div",{className:C(Mt.root,i),children:[(0,j.jsx)("div",{className:Mt.body,children:(0,j.jsx)("div",{ref:l,children:t})}),(0,j.jsx)("div",{children:n})]})}const Jt={root:"styles_root__xHRh9",map:"styles_map__H3lOS",mark:"styles_mark__MdUS7",mark__mark:"styles_mark__mark__AO5XS"};function Gt(e){let{img:t,imgW:s,imgH:n,objects:i,objectsOpacity:a=1,zoomMin:r=.8,zoomMax:l=1,disablePadding:o=!1,fillOnStart:c=!1}=e;const d=(0,A.useRef)(null),h=ce({x:0,y:0,w:s,h:n,zoom:1,toCenter:!0,markClick:void 0,window:{w:0,h:0},moving:{active:!1,sx:0,sy:0,six:0,siy:0},zooming:{active:!1,sd:0,sz:0}});function u(e){h.set((t=>(t.markClick=e,{...t})))}return(0,A.useEffect)((()=>h.set((e=>({...e,s:0,y:0,w:s,h:n,zoom:1,toCenter:!0})))),[t,n,s]),(0,A.useEffect)((()=>{if(!d.current)return;const e=d.current;function t(){h.set((t=>(t.window.w=e.clientWidth,t.window.h=e.clientHeight,t.toCenter&&(t.toCenter=!1,t.zoom=c?Math.max(t.window.w/s,t.window.h/n):Math.min(t.window.w/s,t.window.h/n),t.w=s*t.zoom,t.h=n*t.zoom,t.x=(t.window.w-t.w)/2,t.y=(t.window.h-t.h)/2),{...t})))}return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[d,h.v.toCenter,n,s]),(0,A.useEffect)((()=>{if(!d.current)return;const e=d.current;function t(e){e.preventDefault(),h.set((t=>(t.moving.active=!0,t.moving.sx=e.screenX,t.moving.sy=e.screenY,t.moving.six=t.x,t.moving.siy=t.y,{...t})))}function i(e){e.preventDefault(),h.set((t=>{if(!t.moving.active)return t;const s=e.screenX-t.moving.sx,n=e.screenY-t.moving.sy;t.x=t.moving.six+s,t.y=t.moving.siy+n;return s*s+n*n>100&&(t.markClick=void 0),u(t),{...t}}))}function a(e){e.preventDefault(),h.set((e=>{if(e.moving.active=!1,e.markClick){const t=e.markClick;e.markClick=void 0,setTimeout(t)}return{...e}}))}function c(e,t){e.zoom=Math.max(Math.min(e.zoom,l),Math.min(e.window.w/s,e.window.h/n)*r),e.x-=e.window.w/2,e.y-=e.window.h/2,e.x/=t,e.y/=t,e.x*=e.zoom,e.y*=e.zoom,e.x+=e.window.w/2,e.y+=e.window.h/2,e.w=s*e.zoom,e.h=n*e.zoom,u(e)}function u(e){o?(e.w<e.window.w?e.x=(e.window.w-e.w)/2:e.x=Math.max(Math.min(e.x,0),-(e.w-e.window.w)),e.h<e.window.h?e.y=(e.window.h-e.h)/2:e.y=Math.max(Math.min(e.y,0),-(e.h-e.window.h))):(e.x=Math.max(Math.min(e.x,e.window.w/2),-(e.w-e.window.w/2)),e.y=Math.max(Math.min(e.y,e.window.h/2),-(e.h-e.window.h/2)))}function v(e){e.preventDefault(),h.set((t=>{const s=t.zoom;return t.zoom=e.deltaY<0?1.1*t.zoom:t.zoom/1.1,c(t,s),{...t}}))}function m(e){e.preventDefault(),h.set((t=>{if(1==e.touches.length)return t.moving.active=!0,t.moving.sx=e.touches[0].clientX,t.moving.sy=e.touches[0].clientY,t.moving.six=t.x,t.moving.siy=t.y,{...t};if(2==e.touches.length){t.moving.active=!1,t.zooming.active=!0;const s=e.touches[0].clientX,n=e.touches[0].clientY,i=s-e.touches[1].clientX,a=n-e.touches[1].clientY;return t.zooming.sd=i*i+a*a,t.zooming.sz=t.zoom,{...t}}return t}))}function g(e){e.preventDefault(),h.set((t=>{if(t.moving.active&&1==e.touches.length){const s=e.touches[0].clientX-t.moving.sx,n=e.touches[0].clientY-t.moving.sy;t.x=t.moving.six+s,t.y=t.moving.siy+n;return s*s+n*n>100&&(t.markClick=void 0),u(t),{...t}}if(t.zooming.active&&2==e.touches.length){const s=t.zoom,n=e.touches[0].clientX,i=e.touches[0].clientY,a=n-e.touches[1].clientX,r=i-e.touches[1].clientY,l=a*a+r*r;return t.zoom=t.zooming.sz*Math.sqrt(l/t.zooming.sd),t.markClick=void 0,c(t,s),{...t}}return t}))}function x(e){e.preventDefault(),h.set((t=>{if(t.moving.active=!1,t.zooming.active=!1,1==e.touches.length&&(t.moving.active=!0,t.moving.sx=e.touches[0].clientX,t.moving.sy=e.touches[0].clientY,t.moving.six=t.x,t.moving.siy=t.y),t.markClick){const e=t.markClick;t.markClick=void 0,setTimeout(e)}return{...t}}))}return e.addEventListener("wheel",v),e.addEventListener("mousedown",t),e.addEventListener("mousemove",i),e.addEventListener("mouseup",a),e.addEventListener("touchstart",m),e.addEventListener("touchmove",g),e.addEventListener("touchend",x),()=>{e.removeEventListener("wheel",v),e.removeEventListener("mousedown",t),e.removeEventListener("mousemove",i),e.removeEventListener("mouseup",a),e.removeEventListener("touchstart",m),e.removeEventListener("touchmove",g),e.removeEventListener("touchend",x)}}),[d,r,l,o,n,s]),(0,j.jsx)("div",{className:Jt.root,ref:d,children:(0,j.jsxs)("div",{className:Jt.map,style:{"--x":`${h.v.x}px`,"--y":`${h.v.y}px`,"--w":`${h.v.w}px`,"--h":`${h.v.h}px`},children:[(0,j.jsx)("img",{src:t,alt:"\u041a\u0430\u0440\u0442\u0430"}),(i||[]).filter((e=>!!e)).map(((e,t)=>(0,j.jsxs)("div",{className:Jt.mark,onMouseDown:()=>u(e.onClick),onTouchStart:()=>u(e.onClick),style:{left:`${e.x}%`,top:`${e.y}%`,width:`${e.w}%`,height:`${e.h}%`,opacity:a},children:[(0,j.jsx)("img",{src:e.img,alt:"\u041c\u0435\u0442\u043a\u0430"}),(0,j.jsx)("div",{className:Jt.mark__mark,style:{animationDelay:`-${150*t}ms`},children:"!"})]},t)))]})})}const Ot={root:"styles_root__54Zaf"};function zt(e){let{className:t}=e;return(0,j.jsx)("h1",{className:C(Ot.root,t),children:"Underparty"})}function Wt(){Z("\u041a\u0430\u0440\u0442\u0430"),qe(),function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];(0,A.useEffect)((()=>{const e=t.map((e=>{const t=document.createElement("link");return t.rel="preload",t.href=e,t.as="image",document.head.appendChild(t),t}));return()=>{e.forEach((e=>document.head.removeChild(e)))}}),[t])}(kt,Ft,St,Qt,Dt,Tt,_t,Pt,Lt);const e=it(),t=De(),s=de(null,(s=>{s&&null!=s.dialogId&&!s.opened&&e.run(s.dialogId,(()=>{t.mutate(s.id),s.opened=!0}))})),n=Fe(),i=ce(0,(()=>s.set(null)));function a(e,t,i,a,r,l){if(!n.isSuccess)return null;const o=n.data.find((t=>t.id==e));return!o||o.completed?null:{img:t,x:i,y:a,w:r,h:l,onClick:()=>s.set(o)}}return(0,j.jsxs)(G,{centeredPage:!0,className:Et.root,footer:(0,j.jsx)(Rt,{curPage:"map"}),children:[e.el(),(0,j.jsx)(Ut,{}),n.isLoading&&(0,j.jsx)(R,{}),(0,j.jsx)(zt,{className:Et.title}),(0,j.jsxs)(Xt,{className:Et.window,onClose:()=>s.set(null),children:[w(n),(0,j.jsx)("div",{className:Et.map,style:{display:s.v?"none":""},children:(0,j.jsx)(Gt,{img:[kt,Ft,St][i.v],imgW:[2366,2366,1971][i.v],imgH:[2560,2560,1841][i.v],zoomMin:1,disablePadding:!0,fillOnStart:!0,objects:n.isSuccess?[[a(1,Qt,1.4,1.7,13,9.8),a(2,Dt,30,30,12,9.8),a(3,Tt,40,40,12,9.8),a(4,_t,30,70,12,9.8)],[a(1,Qt,1.4,1.7,13,9.8),a(5,Pt,80,20,16,9.8),a(6,Lt,40,30,20,9.8)],[],[]][i.v]:[]})}),s.v&&(0,j.jsxs)("div",{className:Et.quest,children:[(0,j.jsx)(xe,{small:!0,btn:!0,className:Et.quest__back,children:(0,j.jsx)("button",{className:"clearBtn",onClick:()=>s.set(null),children:"\u043d\u0430\u0437\u0430\u0434"})}),(0,j.jsxs)("div",{className:Et.quest__title,children:[(0,j.jsx)("span",{children:s.v.name}),(0,j.jsxs)("span",{children:[s.v.reward," \u041c"]})]}),(0,j.jsx)(xe,{small:!0,children:(0,j.jsx)("div",{className:Et.quest__description,children:s.v.description||"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f"})}),null!=s.v.dialogId&&(0,j.jsx)(xe,{small:!0,btn:!0,children:(0,j.jsx)("button",{className:C(Et.quest__dialog,"clearBtn"),onClick:()=>s.v&&null!=s.v.dialogId&&e.run(s.v.dialogId),children:"\u0412\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435"})}),(0,j.jsx)("div",{className:Et.quest__spacer}),(0,j.jsx)(xe,{small:!0,btn:!0,className:Et.quest__scanner,children:(0,j.jsx)(F.rU,{to:"/scanner",className:Et.quest__scanner__link,children:(0,j.jsx)("div",{className:"title",children:"\u0421\u0434\u0430\u0442\u044c"})})})]})]}),(0,j.jsxs)("div",{className:Et.btns,children:[(0,j.jsx)(xe,{small:!0,btn:!0,highlight:0==i.v,children:(0,j.jsx)("button",{onClick:()=>i.set(0),className:C(Et.btn,"clearBtn"),children:"\u042d\u0442\u0430\u0436 1"})}),(0,j.jsx)(xe,{small:!0,btn:!0,highlight:1==i.v,children:(0,j.jsx)("button",{onClick:()=>i.set(1),className:C(Et.btn,"clearBtn"),children:"\u042d\u0442\u0430\u0436 2"})}),(0,j.jsx)(xe,{small:!0,btn:!0,highlight:2==i.v,children:(0,j.jsx)("button",{onClick:()=>i.set(2),className:C(Et.btn,"clearBtn"),children:"\u043c\u0430\u0440\u043a\u0435\u0442"})})]})]})}var Zt=s(741);function Vt(e){let{code:t,scale:s=10,margin:n=1,color:i="#000000",colorBg:a="#ffffff"}=e;const[r,l]=(0,A.useState)("");return(0,A.useEffect)((()=>{t&&(l(""),Zt.toDataURL(t,{errorCorrectionLevel:"H",scale:s,margin:n,color:{dark:i,light:a}},((e,t)=>l(t))))}),[t,i,s,n,a]),(0,j.jsx)("img",{src:r,alt:t,style:{width:"100%"}})}const Kt={root:"styles_root__sSzNc",qr:"styles_qr__cpZSD"};function $t(e){var t;let{role:s}=e;Z("\u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435");const n=u(),i={worker:"\u0432\u043e\u043b\u043e\u043d\u0442\u0451\u0440\u0430",manager:"\u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0435\u0433\u043e"}[s],a={worker:"\u0432\u043e\u043b\u043e\u043d\u0442\u0451\u0440\u043e\u043c",manager:"\u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u043c"}[s];return i?(0,j.jsxs)(G,{centered:!0,gap:"1rem",height100:!0,className:Kt.root,homeBtn:!0,forStaff:!0,children:[(0,j.jsxs)("h1",{children:["\u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 \u0434\u043e ",i]}),(0,j.jsx)("div",{className:Kt.qr,children:(0,j.jsx)(Vt,{code:`promote_${s}_${null===(t=n.data)||void 0===t?void 0:t.id}`,colorBg:"#ffffff00",scale:13})}),(0,j.jsxs)("h3",{children:["\u041f\u043e\u0441\u043b\u0435 \u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u044c \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0441\u044f ",a]})]}):(0,j.jsx)(G,{children:"\u041e\u0448\u0438\u0431\u043a\u0430!"})}const es="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA4QAAACBCAMAAACvtYQnAAAAAXNSR0IB2cksfwAAAAlwSFlzAABcRgAAXEYBFJRDQQAAAJZQTFRFAAAAAAAA////RjFPiEc7/+e9oKmd/8kOoEoAU1NQfFs1HRQhQCxIKBwuNSU84tSzjpWLWFlVs7WjEg0UHxANv72nDgcHwHUEb3JsZTQrqK6fY2RgzMasBwQFmqKX9+K62c6wLiA0PB8a7Nu3zYcHsWACJhQUSychNBwZoUwEXzEpAAAAeX12blEv3p0Jej81g4mAAAAA6QvGggAAADJ0Uk5TAP///////////////////////////////////////////////////////8P//////yzgQytLAAAG90lEQVR4nO3d21rbOBRA4WxICDQhJJzP0CmlnWmn7bz/y00syyfJhnwQJG17/RctDb0QqVdjHQijET6YyHg8Fok9jK0S+fTpU5pfk8j+/n6aQ0M0RBiUyNPTU5pDQzREGJTIdDpNc2iIhgiDIkL4+hdhlqCk+hURIVwmwXG/MiRCqNLfCGOPogMRwtXDCIUIoUoWoeS/xB7KthAhdOldhAkvjBpECBcRBkaEcBFhYEQIFxEGRoTw9WyzngihT58ilKT36Q2+iwI+IgyKCOGzET7HHsf7pX4nahAhXIpPzHgjJkKoRISBESFcaiMUmUwas7//fiiJkNVRNKndJ/Qi/CFECJVURzjJOqweSH1h1OB2FC4iDIwI4epbhDGHtBEihEtrhJJFeL33WE4M0/4uwgpzQvh0npghQvSIxgjtvej1Xm4doPyrIkFuR9GGCIMiQviIMCgihEvniRkToS3wICcKticyzAnhIsLAiBCuPkS4tCWq+BKIEC6V+4TSFaGk/3pIhHBpj/D+frVaR7haESG0UhihXRo1EV4eHNgXxFX2kT3JlnKJRAgXEQZGhHBpjfA4T8+J0HAOdieGCOFTt1lPhOgbxREul+sIl8v77KObmxuT4PExEUIbxRGu8n16s0Vxr+J1kAjRhgiDIkK41J2YsWuj9QgP3Olgyl8KEcJFhIERIVx9iPDm8tIkeHaW+r3oKBv/r1+/0h4iAlO3T9gS4VLJdNDg+wnhIsLAiBAuxRE2p4MP6U8HDSKEiwgDI0K4VEb45fb2Oo/w8udPk+Dt7YOGe9EREaKNrs16862ER+X7WvzRNB00iBA+ZRFmtRURrm5MhNfX15oi/Pr1q4qRIhxNEdoJYRGhPap2pCdBNuvRhgiDIkK4dJ2YqSL8eXn5J58QPj7mazKxx7YhkYuLCxVPNkLRGuGNpvOidSzMwKU8wmMV50XreCWES9c+oRfho7IEmRPCR4SBESFcWiNcLpd7e0dfVK3JGOwTwqU1QlXnRetYmIFLU4RFgo9ne3tnt2vq7kVH2Rfx9PSkbMz4aHo2622EZ9mL4JfJRGOCzAnRhgiDIkL4FEZ49vCgNEEiRBuNEZYvgxqG3USEcGk6MVMuzBwVEcYe0RsQIVwKI5xM1N6LjogQPiIMjAiRqyZTCvcJNSfIZj0KRBgNESIjcnX1bK8DPRE2b0ZTH20nIkQma+57V4TJXh/1CNXsTZiBimU/IkL0I8LYo9mQtCBCFCuiV/blpL5Zn/KNaRVhogP0iezs7JhfDPtHVkdBhMEQIbrYvcHfv6v06o8neoWUEaY5vDZVf02JPsMIqLZBXxkpiVDNmsyoM0KRH7FHhtiURxh7IJvrjFDR14CPYVdHRRa7FUn9AJuJMNGxdei6HeV+FEQYCBGiS9bfYRbeSfbRvIww7dvR+mE7JexyqOxUvxmsj+LVCBO9QJIdWJcXI5Tm34w1RsShNUJ1iBAd1v/+WXULkausufM8SONc8k9yTWxB54ww83d2dq3aoGWaOCgiRBgGEaKDyCzLbSan48JfeZUNXBPvZiPMUjtpyXB/f79YJyXC4bDb8ptGWP1PjbfYMEKDCIeCCIMiQjiqtc8NIyyXSrk83iZPS1pWR4sl0vofeZYHgAhDI0I0FGfSarm1rY46HRaVcoG8Re12VLwEi9tRIhwOIgyPCNFAhOERIRxi38ainln92NquPbnmRcic8I1e3KxnTjhERBgaEcLnRNZ0UjbXiJBr482IED4iDIoI0Wp99zmftyQ4n8/Oz02E5+fF3yDC93kxwun04uKCCAepPLbmEPlnXK2FSjVFjD1gxV6LkNXRgSLCcIgQbewS6d2GEcYerm6vfT9h8wGe7aEgwoCIEL7yCMzzYuGszpycfLu6IsKtMj9/qbXA9eNEOFDVObQ7/6jaSf19uYlwC16M0PsUz/YwEGFQRAhXlWBrhMVyaLWjz2XxXubHoLVE2PYoz/YQEGFwRAiX6cvcb7YdmtndnZV2dw8PD7ks3stE6N14TqdEOFyvRei8KsYern5mk8L8iHrbmdFIsNzH4PkejHWEv8d3d1WE89azpPM5EW4BEaKFe2wti61lfsiJta0oCisjtI9Ks0oiHBbv7CgRfqANIqy9C0bkwSKgdYVFhoez2be177NGl7PZjHeW2Yr2CEfN8IhwkMqFGbtB77zvaPWWo7EHql3xo9Hs794nvI8xGCLm7Ohi8XyavwPw6Wl1mHSxOLWPcmG8FxGim5kH1nfvRT6Xr4O80eH2SDUPbP9E6ycxBEQYCBGiW7Fx34xwVn+USwP4SF6EUm5NECEQiBPh5zUiBIIqi7P7VfXNZOYpQABECESXRUhuQERECESWRxh7FMCgkSAQGRECAAC85H9dUmyofnI0YwAAAABJRU5ErkJggg==",ts="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAAuCAYAAAD0kU3xAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtElEQVR4nO2cUY7DIAxEN6veJceMesyeJv2iclEIxLHBTOd9tRIEyGADNu2yb+v+R6bnf3QHiA0UEoSH/LI8X6P6QRTs2/r5TIsEgUKCQCFBoJAgUEgQKCQIj3qRfsjtdM7Z0eisntUzjuq2tnv0jFTX6sjXxSL3ba0O+upL0fZD23ZeRtPfVEfWtRq3u0XWZp4cyFmZUrlafc0ESs85Ei9q0GToGnl3NnrUl0JZuNNeuFqk9TrgzVE/l+erKngiL9dz3G4WGXXmouK+RlrMylkseiQuFklr7I/rZoeW1A9zIWmNY3CzSFpjXxhrBcFUyNnOjUjQIkGgkCBUAwItQW1Zbma3OmrHrU3fSaoWWco0kFg0hehk4DhyKucuLam2Hu1q2mteI9HdaiRyL9girGqzQxcbj0tCcr2My+U0VinR6sXIZO1MqPKRSczWo0kvftlLTBsQ0IqGKrb6hoB0sVpr1LppjbvNryBG8CAlNJ5u+AVlefWwJGrkl26BhZe45VotX/AIsTRtWt1Bsh7vIv8MAn3mo8FfLANCIUGgkCBQSBAoJAhf50jUqMcvQIsEgUKC8AZ00sAcaiLsEQAAAABJRU5ErkJggg==",ss={root:"styles_root__CEdGL",background:"styles_background__dxeLP",body:"styles_body__o-6ZK",window:"styles_window__ASnVo",title:"styles_title__6wHPv",btn:"styles_btn__lL+tu",btn_empty:"styles_btn_empty__3NneV",items:"styles_items__yJ9sj",quests:"styles_quests__58NxQ",quest:"styles_quest__65tbN",quest_completed:"styles_quest_completed__6XOvB",questDescription:"styles_questDescription__bMEbk",questDescription__body:"styles_questDescription__body__-HZ3d"};function ns(){Z("\u041a\u0432\u0435\u0441\u0442\u044b");const e=it(),t=De(),s=de(null,(s=>{s&&null!=s.dialogId&&!s.opened&&e.run(s.dialogId,(()=>{t.mutate(s.id),s.opened=!0}))})),n=Fe();return(0,j.jsxs)(G,{centeredPage:!0,gap:"1em",className:ss.root,footer:(0,j.jsx)(Rt,{curPage:"quest"}),children:[e.el(),(0,j.jsx)("div",{className:ss.background}),(0,j.jsx)("h1",{className:ss.title,children:"Underparty"}),n.isLoading&&(0,j.jsx)(R,{}),(0,j.jsxs)("div",{className:ss.body,children:[(0,j.jsx)(Xt,{className:ss.window,title:"\u041a\u0432\u0435\u0441\u0442\u044b",footer:(0,j.jsx)("img",{className:ss.items,src:es,alt:""}),onClose:()=>s.set(null),children:s.v?(0,j.jsxs)("div",{className:ss.questDescription,children:[(0,j.jsxs)("button",{className:C(ss.quest,s.v.completed&&ss.quest_completed),onClick:()=>s.set(null),children:[(0,j.jsx)("span",{children:s.v.name}),(0,j.jsx)("span",{children:as(s.v.reward)})]},s.v.id),s.v&&null!=s.v.dialogId?(0,j.jsx)("button",{onClick:()=>s.v&&null!=s.v.dialogId&&e.run(s.v.dialogId),children:"\u0412\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435"}):(0,j.jsx)("div",{}),(0,j.jsx)("div",{className:ss.questDescription__body,children:s.v.description||"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f"}),(0,j.jsx)(F.rU,{to:"/scanner",className:ss.btn,children:(0,j.jsx)("img",{src:ts,alt:"\u0421\u0434\u0430\u0442\u044c"})})]}):(0,j.jsxs)("div",{className:ss.quests,children:[w(n),n.data&&is.concat(n.data).map((e=>(0,j.jsxs)("button",{className:C(ss.quest,e.completed&&ss.quest_completed),onClick:()=>s.set(e),children:[(0,j.jsx)("span",{children:e.name}),(0,j.jsx)("span",{children:as(e.reward)})]},e.id)))]})}),s.v?(0,j.jsx)("div",{className:ss.btn_empty}):(0,j.jsx)(F.rU,{to:"/scanner",className:ss.btn,children:(0,j.jsx)("img",{src:ts,alt:"\u0421\u0434\u0430\u0442\u044c"})})]})]})}const is=[{id:-1,name:"\u0411\u0430\u0440\u0430\u0445\u043e\u043b\u043a\u0430",description:"\u0421\u0434\u0430\u0439\u0442\u0435 \u043e\u0434\u043d\u043e [\u0411\u0410\u0420\u0410\u0425\u041b\u041e], \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u043c\u0435\u043d\u044f\u0442\u044c \u0435\u0433\u043e \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0435 [\u0411\u0410\u0420\u0410\u0425\u041b\u041e] \u0438\u043b\u0438 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u0432\u0430\u043b\u044e\u0442\u0443 GGG!",reward:1/0,completed:!1,dialogId:-1,opened:!1}];function as(e){return isFinite(e)?e+"G":"\u221e"}function rs(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>{const t=await h("/api/scanner",e);return s.setQueryData("user",(e=>((e=e||{auth:!1,id:"",balance:0,roles:[],name:"",last_name:"",photo:"",operations:[],group:-1,gameOpened:!1}).balance=t.balance,"ok"==t.res&&"promote"==t.action&&Ie(s,"user"),"ok"==t.res&&"quest"==t.action&&Ie(s,"quests"),e))),t},onSuccess:e,onError:t})}const ls={root:"styles_root__QdJnV",msg:"styles_msg__plnAU",msg_visible:"styles_msg_visible__G0rDm",msg_dimmed:"styles_msg_dimmed__0Xs60",bar:"styles_bar__VuYbs",bar_full:"styles_bar_full__poY0b"},os={error:"styles_error__EtK3I",video:"styles_video__b88Zl"},cs=s.p+"static/media/beep.38f199e084efe5461ffd.mp3";function ds(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=ce(new Audio),n=L(!1);return(0,A.useEffect)((()=>{s.set((()=>{const s=new Audio(e);return s.preload="auto",t&&s.addEventListener("ended",s.play),n.v&&s.play(),s}))}),[e,t]),(0,A.useEffect)((()=>{n.v?(s.v.currentTime=0,s.v.play()):s.v.pause()}),[n.v,s.v]),{play:n.setT,stop:n.setF}}var hs=s(1096);let us=e=>{},vs=()=>{},ms=!1,gs=null,xs=null;function As(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(!xs){gs=document.createElement("div"),document.body.appendChild(gs),gs.style.display="flex",gs.style.backgroundColor="black";const e=document.createElement("video");gs.appendChild(e),xs=new hs.Z(e,(e=>us(e.data)),{highlightScanRegion:!0,maxScansPerSecond:10})}(0,A.useEffect)((()=>(setTimeout((()=>{var e;return null===(e=xs)||void 0===e?void 0:e.start().catch((()=>{setTimeout((()=>{var e;null===(e=xs)||void 0===e||e.start().catch((()=>vs()))}),250)}))}),100),()=>{var e;null===(e=xs)||void 0===e||e.stop()})),[]);const[s,n]=(0,A.useState)(!1),[i,a]=(0,A.useState)(""),[r,l]=(0,A.useState)(ms),o=ds(cs);return us=i=>{s||e||(a(i),n(!0),o.play(),setTimeout((()=>{a(""),n(!1)}),t))},vs=()=>{ms=!0,l(!0)},r?{scanned:i,scanner:(0,j.jsxs)("div",{className:os.error,children:[(0,j.jsx)("h1",{children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043a\u0430\u043c\u0435\u0440\u0435"}),(0,j.jsx)("p",{children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u043c\u0435\u0440\u044b \u044d\u0442\u043e\u043c\u0443 \u0441\u0430\u0439\u0442\u0443 \u0438 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0443, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0442\u0435."}),(0,j.jsx)("p",{children:"\u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."})]})}:{scanned:i,scanner:(0,j.jsx)("div",{children:(0,j.jsx)("div",{ref:e=>{e&&(e.innerHTML="",e.appendChild(gs))},className:os.video})})}}function fs(e){let{useMutation:t,onScan:s,formatMsg:n,onRes:i,className:a,pause:r}=e;const[l,o]=(0,A.useState)(""),[c,d]=(0,A.useState)(""),h=(0,A.useRef)(null),u=t((e=>{o(n(e)),d(""),g(),null===i||void 0===i||i(e)}),(e=>{o(""),d(y(e)),g()})),{scanned:v,scanner:m}=As(!u.isIdle||r);function g(){var e;setTimeout((()=>u.reset()),1e3),null===(e=h.current)||void 0===e||e.classList.add(ls.bar_full),setTimeout((()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.classList.remove(ls.bar_full)}),100)}return(0,A.useEffect)((()=>{if(""==v||!u.isIdle)return;o(""),d("");const e=s(v);e?u.mutate(e):d("\u041d\u0435 \u043e\u043f\u043e\u0437\u043d\u0430\u043d\u043e")}),[v]),(0,j.jsxs)("div",{className:C(ls.root,a),children:[u.isLoading&&(0,j.jsx)(R,{}),m,(0,j.jsxs)("div",{className:C(ls.msg,(l||c)&&ls.msg_visible,(l||c)&&u.isIdle&&ls.msg_dimmed),children:[(0,j.jsx)("h2",{children:l}),(0,j.jsx)("h2",{children:c})]}),(0,j.jsx)("div",{ref:h,className:ls.bar})]})}const js={root:"styles_root__CrawG",background:"styles_background__sRVhE","anim-background":"styles_anim-background__FEgkK",body:"styles_body__WfmVk",gold:"styles_gold__NCkdw"};function ys(){var e,t,s,i;Z("\u0421\u043a\u0430\u043d\u0435\u0440");const a=L(!1),r=ce(null,a.setT),l=(0,n.s0)();return(0,j.jsxs)(G,{centeredPage:!0,gap:"1em",className:js.root,footer:(0,j.jsx)(Rt,{}),homeBtn:!0,children:[(0,j.jsx)("div",{className:js.background}),(0,j.jsx)(Xt,{title:"QR-\u0410\u043a\u0442\u0438\u0432\u0430\u0442\u043e\u0440",disableScroll:!0,className:js.body,onClose:()=>l(-1),children:(0,j.jsx)(fs,{useMutation:rs,pause:a.v,onScan:e=>{const t=["quest_","item_","send_","promote_"];for(const s of t)if(e.startsWith(s))return{code:e};return null},formatMsg:e=>{var t;return null!==(t={ok:"",wrong:"\u041d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 QR",error:e.msg}[e.res])&&void 0!==t?t:e.res},onRes:e=>{"ok"==e.res&&r.set(e)}})}),(0,j.jsxs)(ne,{title:"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043e",open:a.v,close:a.setF,children:["quest"==(null===(e=r.v)||void 0===e?void 0:e.action)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{children:"\u041a\u0432\u0435\u0441\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d!"}),(0,j.jsx)("br",{}),(0,j.jsx)("h2",{children:r.v.msg}),(0,j.jsx)("br",{}),(0,j.jsxs)("h2",{children:[(0,j.jsx)("span",{children:"\u041d\u0430\u0433\u0440\u0430\u0434\u0430: "}),(0,j.jsxs)("span",{className:js.gold,children:[r.v.value,"\u041c"]})]})]}),"store"==(null===(t=r.v)||void 0===t?void 0:t.action)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{children:"\u041a\u0443\u043f\u043b\u0435\u043d\u043e!"}),(0,j.jsx)("br",{}),(0,j.jsx)("h2",{children:r.v.msg}),(0,j.jsx)("br",{}),(0,j.jsxs)("h2",{children:[(0,j.jsx)("span",{children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e: "}),(0,j.jsxs)("span",{className:js.gold,children:[r.v.value,"\u041c"]})]})]}),"send"==(null===(s=r.v)||void 0===s?void 0:s.action)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{children:r.v.value>0?"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"\u0412\u044b\u0447\u0442\u0435\u043d\u043e"}),(0,j.jsx)("br",{}),(0,j.jsxs)("h1",{className:js.gold,children:[r.v.value>0?"+":"",r.v.value,"\u041c"]})]}),"promote"==(null===(i=r.v)||void 0===i?void 0:i.action)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{children:"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),(0,j.jsx)("br",{}),(0,j.jsxs)("h2",{children:["\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b ",{worker:"\u0432\u043e\u043b\u043e\u043d\u0442\u0451\u0440",manager:"\u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439"}[r.v.msg]||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"]})]})]})]})}const ws={block:"styles_block__jLSvl",value:"styles_value__AMUT8",action:"styles_action__S+Amy",reusable:"styles_reusable__AlAhN",checkbox:"styles_checkbox__5B3El",qr:"styles_qr__NIQPC",send:"styles_send__R5BDM",check:"styles_check__tkMiQ",notUsed:"styles_notUsed__BJDX-",used:"styles_used__GIw2A"};function ps(){var e,t,s,n,a,r,l,o;Z("\u041a\u0430\u0437\u043d\u0430\u0447\u0435\u0439\u0441\u0442\u0432\u043e");const c=L(!1),d=ce(null,c.setT),u=(v=d.set,(0,i.useMutation)({mutationFn:async e=>await h("/api/send",e),onSuccess:v}));var v;const m=function(e){return(0,i.useMutation)({mutationFn:async e=>await h("/api/send_check",{id:e}),onSuccess:e})}(),g=L(!1),x=ce(1);function A(e){u.mutate({value:x.v,positive:e,reusable:g.v}),m.reset()}return(0,j.jsxs)(G,{centered:!0,homeBtn:!0,forStaff:!0,children:[(0,j.jsx)("h2",{children:"\u041a\u0430\u0437\u043d\u0430\u0447\u0435\u0439\u0441\u0442\u0432\u043e"}),u.isLoading&&(0,j.jsx)(R,{}),m.isLoading&&(0,j.jsx)(R,{}),w(u),(0,j.jsxs)("div",{className:ws.block,children:[(0,j.jsx)("input",{className:ws.value,type:"number",name:"value",value:x.v,onChange:e=>x.set(Math.max(1,e.target.valueAsNumber))}),(0,j.jsxs)("label",{className:ws.reusable,children:[(0,j.jsx)("span",{children:"\u041c\u043d\u043e\u0433\u043e\u0440\u0430\u0437\u043e\u0432\u044b\u0439"}),(0,j.jsxs)("div",{className:ws.checkbox,children:[(0,j.jsx)("input",{type:"checkbox",checked:g.v,onChange:e=>g.set(e.target.checked)}),(0,j.jsx)("span",{})]})]}),(0,j.jsxs)("div",{className:ws.action,children:[(0,j.jsx)("button",{onClick:()=>A(!0),children:"\u041d\u0430\u0447\u0438\u0441\u043b\u0438\u0442\u044c"}),(0,j.jsx)("button",{onClick:()=>A(!1),children:"\u0421\u043f\u0438\u0441\u0430\u0442\u044c"})]})]}),(0,j.jsxs)(ne,{title:null!==(e=d.v)&&void 0!==e&&e.reusable?"\u041c\u043d\u043e\u0433\u043e\u0440\u0430\u0437\u043e\u0432\u044b\u0439":"\u041e\u0434\u043d\u043e\u0440\u0430\u0437\u043e\u0432\u044b\u0439",open:c.v,close:c.setF,children:[(0,j.jsx)("div",{className:ws.qr,children:(0,j.jsx)(Vt,{code:"send_"+(null===(t=d.v)||void 0===t?void 0:t.id),colorBg:"#ffffff00",scale:13})}),(0,j.jsxs)("div",{className:ws.send,children:[(0,j.jsx)("h2",{children:null!==(s=d.v)&&void 0!==s&&s.positive?"\u0417\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435":"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,j.jsxs)("h1",{children:[null!==(n=d.v)&&void 0!==n&&n.positive?"+":"-",null===(a=d.v)||void 0===a?void 0:a.value," G"]})]}),w(m),!(null!==(r=d.v)&&void 0!==r&&r.reusable)&&(0,j.jsxs)("div",{className:ws.check,children:[(0,j.jsx)("button",{onClick:()=>{var e;return m.mutate((null===(e=d.v)||void 0===e?void 0:e.id)||"")},children:"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c"}),(0,j.jsx)("span",{className:null!==(l=m.data)&&void 0!==l&&l.successful?ws.used:ws.notUsed,children:null!==(o=m.data)&&void 0!==o&&o.successful?"\u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434":"\u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d"})]})]})]})}const Cs={root:"styles_root__0CejE",list:"styles_list__4uN5e",title:"styles_title__u3Xt9",items:"styles_items__n-Fvc",item:"styles_item__zIxt2",item__img:"styles_item__img__r3iEr",item__desc:"styles_item__desc__wbcAM",item_few:"styles_item_few__nkL6C",item_ended:"styles_item_ended__Mn60C"};function bs(){var e;Z("\u041c\u0430\u0433\u0430\u0437\u0438\u043d");const t=(0,i.useQuery)("storeItems",(async()=>await d("/api/store_items")));return(0,j.jsxs)(G,{centeredPage:!0,gap:"1em",className:Cs.root,footer:(0,j.jsx)(Rt,{curPage:"store"}),children:[t.isLoading&&(0,j.jsx)(R,{}),(0,j.jsx)("h1",{className:C("title",Cs.title),children:"Underparty"}),(0,j.jsx)(Xt,{title:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d",className:Cs.list,children:(0,j.jsxs)("div",{className:Cs.items,children:[w(t),null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.map((e=>(0,j.jsxs)(F.rU,{to:"/scanner",className:C(Cs.item,"few"==e.count&&Cs.item_few,"no"==e.count&&Cs.item_ended),children:[(0,j.jsx)("div",{className:Cs.item__img,children:(0,j.jsx)("div",{children:e.img?(0,j.jsx)("img",{src:e.img,alt:"\u0422\u043e\u0432\u0430\u0440"}):(0,j.jsx)("div",{})})}),(0,j.jsx)(xe,{small:!0,dark:!0,btn:!0,children:(0,j.jsxs)("div",{className:Cs.item__desc,children:[(0,j.jsxs)("span",{children:[e.name," - "]}),(0,j.jsxs)("span",{children:[e.price,"\u041c"]})]})})]},e.id)))]})})]})}const Ns={root:"styles_root__E5y+5",body:"styles_body__nvDgq",list:"styles_list__6yPeV",items:"styles_items__UxmDm",item:"styles_item__F46+o",item_title:"styles_item_title__X67MD",btns:"styles_btns__Ctsik",btn:"styles_btn__pG0e4",title:"styles_title__3QqY9"};function Is(){Z("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435");const e=ce(0),t=[Bs,Es,ks,Fs][e.v];return(0,j.jsxs)(G,{centeredPage:!0,className:Ns.root,footer:(0,j.jsx)(Rt,{curPage:"timetable"}),children:[(0,j.jsx)(zt,{className:Ns.title}),(0,j.jsxs)("div",{className:Ns.body,children:[(0,j.jsx)(Xt,{className:Ns.list,scrollUpdate:e.v,children:(0,j.jsx)("div",{className:Ns.items,children:t.map(((e,t)=>e.title?(0,j.jsx)("div",{className:Ns.item_title,children:e.text},t):(0,j.jsx)(xe,{small:!0,dark:!0,children:(0,j.jsx)("div",{className:Ns.item,children:e.text})},t)))})}),(0,j.jsxs)("div",{className:Ns.btns,children:[(0,j.jsx)(xe,{small:!0,btn:!0,highlight:0==e.v,children:(0,j.jsx)("button",{onClick:()=>e.set(0),className:C(Ns.btn,"title"),children:"\u0421\u0446\u0435\u043d\u044b"})}),(0,j.jsx)(xe,{small:!0,btn:!0,highlight:1==e.v,children:(0,j.jsx)("button",{onClick:()=>e.set(1),className:C(Ns.btn,"title"),children:"\u0410\u0432\u0442\u043e\u0433\u0440\u0430\u0444"})}),(0,j.jsx)(xe,{small:!0,btn:!0,highlight:2==e.v,children:(0,j.jsx)("button",{onClick:()=>e.set(2),className:C(Ns.btn,"title"),children:"\u041b\u0435\u043a\u0446\u0438\u0438"})}),(0,j.jsx)(xe,{small:!0,btn:!0,highlight:3==e.v,children:(0,j.jsx)("button",{onClick:()=>e.set(3),className:C(Ns.btn,"title"),children:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b"})})]})]})]})}const Bs=[{text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0446\u0435\u043d\u0430:",title:!0},{text:"12:50 - \u041e\u0442\u043a\u0440\u044b\u0442\u0438\u0435"},{text:"13:00 - \u0428\u0438\u043c\u0430 \u041d\u043e\u0440\u0438 - Undertale \u043d\u0430 \u0440\u043e\u044f\u043b\u0435"},{text:"13:30 - \u041a\u043e\u0441\u043f\u043b\u0435\u0439 \u0434\u0435\u0444\u0438\u043b\u0435 \u0431\u043b\u043e\u043a 1"},{text:"14:00 - \u041c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u043b\u043e\u043a \u0433\u043e\u0441\u0442\u0435\u0439"},{text:"14:30 - \u041a\u043e\u0441\u043f\u043b\u0435\u0439 \u0434\u0435\u0444\u0438\u043b\u0435 \u0431\u043b\u043e\u043a 2"},{text:"15:00 - \u041c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u043b\u043e\u043a \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432"},{text:"15:30 - \u0410\u0443\u043a\u0446\u0438\u043e\u043d"},{text:"16:00 - \u0412\u044b\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435 Empire of Geese"},{text:"17:00 - Underevent \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044f"},{text:"17:30 - \u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430 \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u0421\u0430\u043d\u0441\u0430"},{text:"18:00 - \u041d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435"},{text:"18:40 - \u0411\u043b\u043e\u043a \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0439"},{text:"19:40 - \u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435"},{text:"\u041c\u0430\u043b\u0430\u044f \u0441\u0446\u0435\u043d\u0430:",title:!0},{text:"12:00 - \u041e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u043e\u0442 \u044e\u0442\u0443\u0431\u0435\u0440\u043e\u0432"},{text:"12:40 - \u041b\u043e\u0442\u0435\u0440\u0435\u044f"},{text:"13:00 - Undertale Quiz AU"},{text:"13:30 - Jackbox \u0441 \u044e\u0442\u0443\u0431\u0435\u0440\u0430\u043c\u0438"},{text:"14:20 - WonderNope \u0430\u0432\u0442\u043e\u0433\u0440\u0430\u0444 \u0441\u0435\u0441\u0441\u0438\u044f"},{text:"14:40 - \u0418\u0433\u043e\u0440\u044c \u0427\u0430\u0439 \u0430\u0432\u0442\u043e\u0433\u0440\u0430\u0444 \u0441\u0435\u0441\u0441\u0438\u044f"},{text:"15:00 - \u041b\u043e\u0442\u0435\u0440\u0435\u044f"},{text:"15:10 - \u041c\u0430\u0440\u0441\u0438\u043b\u044c\u0435\u0437 \u0430\u0432\u0442\u043e\u0433\u0440\u0430\u0444 \u0441\u0435\u0441\u0441\u0438\u044f"},{text:"15:30 - \u041f\u0440\u0435\u0434\u043f\u043e\u043a\u0430\u0437 \u043f\u0435\u0441\u043d\u0438 FolkStudio"},{text:"15:40 - Sirus \u0438 Folkstudio \u0430\u0432\u0442\u043e\u0433\u0440\u0430\u0444 \u0441\u0435\u0441\u0441\u0438\u044f"},{text:"16:00 - \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0438\u0433\u0440\u044b Insult Goatbro"},{text:"16:10 - InkBlot \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u0438 \u0430\u0432\u0442\u043e\u0433\u0440\u0430\u0444 \u0441\u0435\u0441\u0441\u0438\u044f"},{text:"16:40 - Undertale quiz original"},{text:"17:00 - \u041b\u043e\u0442\u0435\u0440\u0435\u044f"},{text:"17:30 - Marina aka mari \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0432\u0441\u0435\u043b\u0435\u043d\u043d\u043e\u0439 Kamitale"},{text:"17:50 - Sans\u0430\u0446\u0438\u044f \u041f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0444\u0438\u043b\u044c\u043c\u0430"},{text:"18:00 - \u0418\u0442\u043e\u0433\u0438 \u043a\u043e\u043d\u043a\u0443\u0440\u0441\u043e\u0432 \u043c\u0430\u0440\u043a\u0435\u0442\u0430"},{text:"18:10 - Everybody 1-2 switch"},{text:"19:00 - \u0414\u0438\u0441\u043a\u043e\u0442\u0435\u043a\u0430"},{text:"19:50 - \u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435"}],Es=[{text:"13:30 - \u0410\u043d\u0442\u0438\u041a\u0435\u043a"},{text:"14:00 - \u0411\u0435\u043c\u043e\u043d"},{text:"14:30 - JF Voice \u0438 FolkStudio"},{text:"15:00 - \u041d\u0435\u0430\u0434\u0435\u043a\u0432\u0430\u0442 \u0420\u0435\u043a\u043e\u0440\u0434\u0441"},{text:"15:30 - WonderNope"},{text:"16:00 - \u0418\u0433\u043e\u0440\u044c \u0427\u0430\u0439 (\u0442\u0432)"},{text:"16:30 - \u0429\u0438\u0449 (\u0438\u0433\u0440\u0430 \u0432 Uno)"}],ks=[{text:"13:00 - \u041e \u0444\u0440\u0430\u043d\u0448\u0438\u0437\u0435 Hylics"},{text:"13:40 - \u0418\u043d\u0434\u0438 \u0438\u0433\u0440\u044b \u043a\u0430\u043a \u0438\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e"},{text:"14:10 - \u041a\u0430\u043a \u043d\u0430\u0439\u0442\u0438 \u2728\u0442\u0443 \u0441\u0430\u043c\u0443\u044e\u2728 \u0438\u0434\u0435\u044e \u0434\u043b\u044f \u0438\u0433\u0440\u044b"},{text:"14:40 - \u041a\u0440\u0430\u0443\u0434\u0444\u0430\u043d\u0434\u0438\u043d\u0433 \u0430\u0432\u0442\u043e\u0440\u0441\u043a\u043e\u0439 \u0438\u0433\u0440\u044b"},{text:"15:20 - \u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 Touhou Project \u0438 \u043a\u0430\u043a \u0435\u0433\u043e \u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u044f\u0442\u044c?"},{text:"16:00 - \u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0430\u0434 \u0432 \u0438\u0433\u0440\u043e\u0432\u043e\u0439 \u0438\u043d\u0434\u0443\u0441\u0442\u0440\u0438\u0438"},{text:"16:40 - \u0410\u043d\u0430\u043b\u0438\u0437 \u0438\u0433\u0440 \u0434\u043b\u044f \u0433\u0435\u0439\u043c-\u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u043e\u0432 \u0438 \u043e\u0431\u0437\u043e\u0440\u0449\u0438\u043a\u043e\u0432"}],Fs=[{text:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b:",title:!0},{text:"Unfair Undyne 11:00 - 17:30"},{text:"Endless Sans 11:00 - 17:30"},{text:"Underverse Battles 14:00"},{text:"\u0420\u0435\u0442\u0440\u043e \u0442\u0443\u0440\u043d\u0438\u0440\u044b:",title:!0},{text:"Sega - Ultimate Mortal Combat 3 - 13:00"},{text:"Ps 1 - Tekken 3 - 15:00"},{text:"Snes - Super Tetris 3 - 17:00"}],Ss={user:"styles_user__WUZvf",title:"styles_title__Gd1jL",toggle:"styles_toggle__qlIwC",toggleInp:"styles_toggleInp__fGE-7",userInfo:"styles_userInfo__vgBlw",operations:"styles_operations__MGBbv"};function Qs(){var e;Z("Users");const t=(0,i.useQuery)("users",(async()=>await d("/api/users")));return(0,j.jsxs)(G,{centeredPage:!0,homeBtn:!0,gap:8,forDev:!0,children:[t.isLoading&&(0,j.jsx)("h3",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),w(t),null===(e=t.data)||void 0===e?void 0:e.map((e=>(0,j.jsxs)("div",{className:Ss.user,children:[(0,j.jsx)("input",{type:"checkbox",className:Ss.toggleInp,id:`user${e.id}`}),(0,j.jsxs)("label",{className:Ss.title,htmlFor:`user${e.id}`,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:e.login}),(0,j.jsx)("div",{style:{color:"blue"},children:e.id}),(0,j.jsx)("div",{children:"|"}),(0,j.jsx)("div",{children:e.name})]}),(0,j.jsxs)("div",{children:[e.deleted&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{style:{color:"tomato"},children:"deleted"}),(0,j.jsx)("div",{children:"|"})]}),(0,j.jsx)("span",{children:e.roles.join(", ")}),(0,j.jsx)("div",{className:Ss.toggle})]})]}),(0,j.jsx)("div",{className:Ss.userInfo,children:(0,j.jsxs)("div",{children:[(0,j.jsx)("h4",{children:"Operations"}),(0,j.jsx)("div",{className:Ss.operations,children:e.operations.map(((e,t)=>(0,j.jsx)("div",{children:Ds(e)},t)))})]})})]},e.id)))]})}function Ds(e){const t={page:"#990099",add:"#008000",get:"#008000",change:"#006fb3",delete:"#b30000"};for(const s in t)if(e.startsWith(s))return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{style:{color:t[s]},children:s}),(0,j.jsx)("span",{children:e.slice(s.length)})]});return(0,j.jsx)("span",{children:e})}const Ts={btn:"styles_btn__w12Ul"};function _s(){return(0,j.jsxs)(G,{centered:!0,homeBtn:!0,gap:"1rem",forStaff:!0,children:[g("manage_store")&&(0,j.jsx)(F.rU,{to:"/manage_store",className:Ts.btn,children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043e\u043c"}),g("manage_quest")&&(0,j.jsx)(F.rU,{to:"/manage_quest",className:Ts.btn,children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430\u043c\u0438"}),g("page_worker_quest")&&(0,j.jsx)(F.rU,{to:"/worker_quest",className:Ts.btn,children:"\u0414\u043b\u044f \u043a\u0432\u0435\u0441\u0442\u043e\u0432\u0438\u043a\u043e\u0432"}),g("page_worker_store")&&(0,j.jsx)(F.rU,{to:"/worker_store",className:Ts.btn,children:"\u0414\u043b\u044f \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u043e\u0432"}),g("send_any")&&(0,j.jsx)(F.rU,{to:"/send",className:Ts.btn,children:"\u041a\u0430\u0437\u043d\u0430\u0447\u0435\u0439\u0441\u0442\u0432\u043e"}),g("promote_worker")&&(0,j.jsx)(F.rU,{to:"/promote_worker",className:Ts.btn,children:"\u041f\u043e\u0432\u044b\u0441\u0438\u0442\u044c \u0434\u043e \u0432\u043e\u043b\u043e\u043d\u0442\u0451\u0440\u0430"}),g("promote_manager")&&(0,j.jsx)(F.rU,{to:"/promote_manager",className:Ts.btn,children:"\u041f\u043e\u0432\u044b\u0441\u0438\u0442\u044c \u0434\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0435\u0433\u043e"}),g("manage_games")&&(0,j.jsx)(F.rU,{to:"/game_settings",className:Ts.btn,children:"\u0418\u0433\u0440\u0430"})]})}const Ps={root:"styles_root__Ch43Y",quests:"styles_quests__CJF3F",quest:"styles_quest__la9IG",quest_hidden:"styles_quest_hidden__895fL",qr:"styles_qr__CpwFg",questCard:"styles_questCard__LUpC3"};function Ls(){var e,t,s,n;Z("Qr \u041a\u0432\u0435\u0441\u0442\u044b");const i=Se(),a=L(!1),r=ce(null,a.setT);return(0,j.jsxs)(G,{centered:!0,homeBtn:!0,gap:"1rem",height100:!0,className:Ps.root,forStaff:!0,children:[i.isLoading&&(0,j.jsx)(R,{}),w(i),(0,j.jsx)("h2",{children:"\u041a\u0430\u043a\u043e\u0439 \u043a\u0432\u0435\u0441\u0442 \u0432\u044b \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0435?"}),(0,j.jsx)("div",{className:Ps.quests,children:null===(e=i.data)||void 0===e?void 0:e.map((e=>(0,j.jsx)("button",{onClick:()=>r.set(e),className:C(Ps.quest,e.hidden&&Ps.quest_hidden),children:e.name},e.id)))}),(0,j.jsxs)(ne,{title:"\u041a\u043e\u0434 \u043a\u0432\u0435\u0441\u0442\u0430",open:a.v,close:a.setF,children:[(0,j.jsx)("div",{className:Ps.qr,children:(0,j.jsx)(Vt,{code:`quest_${null===(t=r.v)||void 0===t?void 0:t.id_big}`,colorBg:"#ffffff00",scale:13})}),(0,j.jsxs)("div",{className:Ps.questCard,children:[(0,j.jsx)("div",{children:null===(s=r.v)||void 0===s?void 0:s.name}),(0,j.jsxs)("div",{children:[null===(n=r.v)||void 0===n?void 0:n.reward," G"]})]}),(0,j.jsx)("h3",{children:"QR-\u043a\u043e\u0434 \u0434\u043b\u044f \u0437\u0430\u0447\u0451\u0442\u0430 \u043a\u0432\u0435\u0441\u0442\u0430"})]})]})}const qs={items:"styles_items__ph2vL",item:"styles_item__t2Q7S",item__img:"styles_item__img__9MSeY",item__desc:"styles_item__desc__vFBVd",qr:"styles_qr__Sgcly",item_small:"styles_item_small__EPwTh"};function Rs(){var e,t,s,n,i,a;Z("Qr \u0422\u043e\u0432\u0430\u0440\u044b");const r=jt(),l=L(!1),o=ce(null,l.setT);return(0,j.jsxs)(G,{centeredPage:!0,gap:"1rem",height100:!0,homeBtn:!0,forStaff:!0,children:[(0,j.jsx)("h1",{children:"\u041f\u0440\u043e\u0434\u0430\u0436\u0430"}),r.isLoading&&(0,j.jsx)(R,{}),w(r),(0,j.jsx)("div",{className:qs.items,children:null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.map((e=>(0,j.jsxs)("button",{className:qs.item,onClick:()=>o.set(e),children:[(0,j.jsx)("div",{className:qs.item__img,children:e.img?(0,j.jsx)("img",{src:e.img,alt:"\u0422\u043e\u0432\u0430\u0440"}):(0,j.jsx)("div",{})}),(0,j.jsxs)("div",{className:qs.item__desc,children:[(0,j.jsx)("span",{children:e.name}),(0,j.jsxs)("span",{children:[e.price," G"]})]})]},e.id)))}),(0,j.jsxs)(ne,{title:"\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430",open:l.v,close:l.setF,children:[(0,j.jsx)("div",{className:qs.qr,children:(0,j.jsx)(Vt,{code:`item_${null===(t=o.v)||void 0===t?void 0:t.id_big}`,colorBg:"#ffffff00",scale:13})}),(0,j.jsxs)("div",{className:qs.item_small,children:[(0,j.jsx)("div",{className:qs.item__img,children:null!==(s=o.v)&&void 0!==s&&s.img?(0,j.jsx)("img",{src:null===(n=o.v)||void 0===n?void 0:n.img,alt:"\u0422\u043e\u0432\u0430\u0440"}):(0,j.jsx)("div",{})}),(0,j.jsx)("div",{children:null===(i=o.v)||void 0===i?void 0:i.name}),(0,j.jsxs)("div",{children:[null===(a=o.v)||void 0===a?void 0:a.price," G"]})]}),(0,j.jsx)("h3",{children:"QR-\u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0438 \u0442\u043e\u0432\u0430\u0440\u0430"})]})]})}const Ys={root:"styles_root__lfouU",title:"styles_title__VD3jB",title2:"styles_title2__U2DmF",title3:"styles_title3__eIdeM",subtitle:"styles_subtitle__FPJqV",window:"styles_window__hv3AU",text:"styles_text__LeEDg",chooseTeam:"styles_chooseTeam__5JofH",press:"styles_press__jAlFs",press__btn:"styles_press__btn__w-3Uv",circle:"styles_circle__+PsDd","anim-circle":"styles_anim-circle__cc5jy",tourney_winners:"styles_tourney_winners__N9K6Q"};function Hs(){return(0,i.useQuery)("gameDuration",(async()=>await d("/api/game/duration")))}function Us(){return(0,i.useQuery)("gameCounter",(async()=>await d("/api/game/counter")))}function Ms(){return(0,i.useQuery)("gameStartStr",(async()=>await d("/api/game/startStr")))}function Xs(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await h("/api/game/duration",{duration:e}),onSuccess:t=>{s.setQueryData("gameDuration",t),null===e||void 0===e||e(t)},onError:t})}function Js(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await h("/api/game/counter",{counter:e}),onSuccess:t=>{s.setQueryData("gameCounter",t),null===e||void 0===e||e(t)},onError:t})}function Gs(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await h("/api/game/startStr",{startStr:e}),onSuccess:t=>{s.setQueryData("gameStartStr",t),null===e||void 0===e||e(t)},onError:t})}function Os(){const e=u(),t=it(),s=function(e){const t=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await l("/api/user/open_game"),onSuccess:()=>{var s;"success"==(null===(s=t.getQueryState("user"))||void 0===s?void 0:s.status)&&t.setQueryData("user",(e=>({...e,gameOpened:!0}))),null===e||void 0===e||e()}})}();return(0,A.useEffect)((()=>{e.data&&!e.data.gameOpened&&t.run(2,(()=>s.mutate()))}),[e.data]),(0,j.jsx)(j.Fragment,{children:t.el()})}function zs(){return(0,i.useQuery)("tourneyCharacters",(async()=>await d("/api/tourney/characters")))}function Ws(e,t){return null===e||void 0===e?void 0:e.find((e=>e.id==t))}function Zs(){return(0,i.useQuery)("tourney",(async()=>await d("/api/tourney")))}function Vs(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await o(`/api/tourney/characters/${e}`),onSuccess:()=>{ke(n,"tourneyCharacters",e),null===t||void 0===t||t()},onError:s})}function Ks(e,t,s){return ln((t=>[`/api/tourney/nodes/${e}`,t]),t,s)}function $s(e,t,s){return ln((()=>["/api/tourney/start_game_at_node",{nodeId:e}]),t,s)}function en(e,t){return ln((()=>"/api/tourney/select_next_game"),e,t)}function tn(e,t){return ln((()=>"/api/tourney/start_game"),e,t)}function sn(e,t){return ln((()=>"/api/tourney/end_game"),e,t)}function nn(e,t){return ln((()=>"/api/tourney/end_tourney"),e,t)}function an(e,t){return ln((()=>"/api/tourney/unend_tourney"),e,t)}function rn(e,t){return ln((()=>"/api/tourney/reset"),e,t)}function ln(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>{const s=e(t),n="string"==typeof s?[s,void 0]:s;return await h(...n)},onSuccess:e=>{n.setQueryData("tourney",e),null===t||void 0===t||t()},onError:s})}function on(){var e,t,s,n,a,r,l,o,c,u,v,m,g,x,f,y,p,b,N,I;Z("\u0418\u0433\u0440\u0430"),(0,A.useEffect)((()=>{const e=document.querySelector('meta[name="viewport"]');if(!e)return;const t=e.getAttribute("content")||"";return e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"),()=>e.setAttribute("content",t)}),[]);const B=(0,i.useQuery)("gameState",(async()=>await d("/api/game/state"))),E=zs(),k=ce(0),F=ce(0),S=ce(0),Q=ce(Date.now()),D=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await h("/api/game/click",{count:e}),onSuccess:t=>{s.setQueryData("gameState",t),null===e||void 0===e||e()},onError:t})}((()=>Q.set(Date.now())),(()=>Q.set(Date.now()))),T=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await h("/api/game/select_team",{team:e}),onSuccess:t=>{s.setQueryData("gameState",t),null===e||void 0===e||e()},onError:t})}(),_=Ws(E.data,null===(e=B.data)||void 0===e?void 0:e.opponent1Id),P=Ws(E.data,null===(t=B.data)||void 0===t?void 0:t.opponent2Id),L=1==(null===(s=B.data)||void 0===s?void 0:s.winner)?_:2==(null===(n=B.data)||void 0===n?void 0:n.winner)?P:null,q=1==(null===(a=B.data)||void 0===a?void 0:a.team)?_:2==(null===(r=B.data)||void 0===r?void 0:r.team)?P:null,Y=Ws(E.data,null===(l=B.data)||void 0===l?void 0:l.tourneyWinner1),H=Ws(E.data,null===(o=B.data)||void 0===o?void 0:o.tourneyWinner2),U=Ws(E.data,null===(c=B.data)||void 0===c?void 0:c.tourneyWinner3);return(0,A.useEffect)((()=>{var e;if(B.isFetching)return;if("going"==(null===(e=B.data)||void 0===e?void 0:e.state))return;0!=F.v&&F.set(0);const t=setTimeout((()=>B.refetch()),5e3);return()=>clearTimeout(t)}),[B.isFetching]),(0,A.useEffect)((()=>{if(!B.data)return;if(k.set(B.data.counter),B.data.counter<0)return;const e=setInterval((()=>{k.set((t=>(0==(t=Math.max(t-1,0))&&(B.refetch(),clearInterval(e)),t)))}),1e3);return()=>clearInterval(e)}),[B.data]),(0,A.useEffect)((()=>{var e;if("going"!=(null===(e=B.data)||void 0===e?void 0:e.state))return;const t=setInterval((()=>{B.refetch()}),5e3),s=()=>clearInterval(t);return F.v<=0||D.isLoading||Date.now()-Q.v<S.v||(D.mutate(F.v),F.set(0),S.set((n=1e3,void 0!=(i=3e3)?Math.floor(Math.random()*(n-i))+i:Math.floor(Math.random()*n)))),s;var n,i}),[F.v,null===(u=B.data)||void 0===u?void 0:u.state]),(0,j.jsxs)(j.Fragment,{children:["start"==(null===(v=B.data)||void 0===v?void 0:v.state)&&(0,j.jsx)(Os,{}),(0,j.jsxs)(G,{centeredPage:!0,gap:"1em",className:Ys.root,footer:(0,j.jsx)(Rt,{curPage:"game"}),children:[B.isLoading&&(0,j.jsx)(R,{}),w(B),T.isLoading&&(0,j.jsx)(R,{}),w(T),(0,j.jsx)("h1",{className:C("title",Ys.title),children:"Underparty"}),(0,j.jsxs)(Xt,{className:Ys.window,children:[(B.isLoading||"wait"==(null===(m=B.data)||void 0===m?void 0:m.state))&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:Ys.text,children:(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:"\u0427\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0438 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0446\u043e\u0432\u043a\u0443 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u0446\u0435\u043d\u0443"}),(null===(g=B.data)||void 0===g?void 0:g.start)&&(0,j.jsxs)("span",{children:[" \u0432 ",B.data.start]})]})})}),0!=(null===(x=B.data)||void 0===x?void 0:x.team)||"start"!=(null===(f=B.data)||void 0===f?void 0:f.state)&&"going"!=(null===(y=B.data)||void 0===y?void 0:y.state)?(0,j.jsxs)(j.Fragment,{children:["start"==(null===(p=B.data)||void 0===p?void 0:p.state)&&(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:Ys.text,children:[(0,j.jsxs)("div",{className:Ys.title2,children:[(null===q||void 0===q?void 0:q.name)||"N/A"," \u043f\u043e\u0431\u0435\u0434\u0438\u0442!"]}),(0,j.jsx)("h2",{className:Ys.subtitle,children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u043d\u0430\u0447\u0430\u043b\u0430"}),(0,j.jsxs)("h1",{className:Ys.title,children:[Math.floor(k.v/60),":",(k.v%60).toString().padStart(2,"0")]})]})}),"going"==(null===(b=B.data)||void 0===b?void 0:b.state)&&(0,j.jsxs)("button",{className:Ys.press,onClick:e=>{!function(e){const t=e instanceof HTMLButtonElement?e:e.parentElement,s=document.createElement("div");t.appendChild(s),s.classList.add(Ys.circle),setTimeout((()=>t.removeChild(s)),1e3)}(e.target),F.set((e=>e+1))},children:[(0,j.jsxs)("h1",{className:Ys.title2,children:[(null===q||void 0===q?void 0:q.name)||"N/A"," \u043f\u043e\u0431\u0435\u0434\u0438\u0442!"]}),(0,j.jsx)("div",{className:C("title",Ys.press__btn),children:"\u0416\u043c\u0438!!!"})]})]}):(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:Ys.text,children:[(0,j.jsx)("div",{className:Ys.title2,children:"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u0435\u043d"}),(0,j.jsxs)("div",{className:Ys.chooseTeam,children:[(0,j.jsx)("button",{onClick:()=>T.mutate(1),children:(null===_||void 0===_?void 0:_.name)||"N/A"}),(0,j.jsx)("button",{onClick:()=>T.mutate(2),children:(null===P||void 0===P?void 0:P.name)||"N/A"})]})]})}),"end"==(null===(N=B.data)||void 0===N?void 0:N.state)&&(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:Ys.text,children:[(0,j.jsxs)("div",{className:Ys.title2,children:[(null===L||void 0===L?void 0:L.name)||"..."," \u043f\u043e\u0431\u0435\u0436\u0434\u0430\u0435\u0442!"]}),(0,j.jsx)("h1",{className:Ys.title3,children:0==B.data.winner?"\u0418\u0433\u0440\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430!":B.data.team==B.data.winner?"\u041f\u043e\u0431\u0435\u0434\u0430!":"\u041f\u0440\u043e\u0438\u0433\u0440\u044b\u0448!"})]})}),"tourneyEnd"==(null===(I=B.data)||void 0===I?void 0:I.state)&&(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:Ys.text,children:[(0,j.jsx)("div",{className:Ys.title2,children:"\u0422\u0443\u0440\u043d\u0438\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d!"}),(0,j.jsxs)("div",{className:Ys.tourney_winners,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{src:null===Y||void 0===Y?void 0:Y.img,alt:(null===Y||void 0===Y?void 0:Y.name)||"N/A"}),(0,j.jsx)("div",{children:"1 \u043c\u0435\u0441\u0442\u043e"}),(0,j.jsx)("div",{children:(null===Y||void 0===Y?void 0:Y.name)||"N/A"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{src:null===H||void 0===H?void 0:H.img,alt:(null===H||void 0===H?void 0:H.name)||"N/A"}),(0,j.jsx)("div",{children:"2 \u043c\u0435\u0441\u0442\u043e"}),(0,j.jsx)("div",{children:(null===H||void 0===H?void 0:H.name)||"N/A"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{src:null===U||void 0===U?void 0:U.img,alt:(null===U||void 0===U?void 0:U.name)||"N/A"}),(0,j.jsx)("div",{children:"3 \u043c\u0435\u0441\u0442\u043e"}),(0,j.jsx)("div",{children:(null===U||void 0===U?void 0:U.name)||"N/A"})]})]})]})})]})]})]})}const cn={input:"styles_input__xbjXW",openScreen:"styles_openScreen__MsUEq",start:"styles_start__RrOg2",tourney:"styles_tourney__LbJvy",hidden:"styles_hidden__l9l0C"},dn={root:"styles_root__5HVzG",curGameState:"styles_curGameState__gIzIY",characterName:"styles_characterName__UzYST",node:"styles_node__0tgzb",nodeC:"styles_nodeC__prjKp",nodeCollapsed:"styles_nodeCollapsed__47HCo",nodeId:"styles_nodeId__rEPYi",nodeData:"styles_nodeData__mDSf1",img:"styles_img__fag15",btn:"styles_btn__T4qpB",winnerSelect:"styles_winnerSelect__xkBSA",ctrlBtns:"styles_ctrlBtns__a0fV2",collapseBtn:"styles_collapseBtn__Mfde+",third:"styles_third__XWyfv"};function hn(){return(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,j.jsx)("path",{d:"M320-273v-414q0-17 12-28.5t28-11.5q5 0 10.5 1.5T381-721l326 207q9 6 13.5 15t4.5 19q0 10-4.5 19T707-446L381-239q-5 3-10.5 4.5T360-233q-16 0-28-11.5T320-273Zm80-207Zm0 134 210-134-210-134v268Z"})})}function un(){var e,t,s,n,i,a,r,l;const o=Zs(),c=zs(),d=xn(null===(e=o.data)||void 0===e?void 0:e.tree,(null===(t=o.data)||void 0===t?void 0:t.curGameNodeId)||0,(null===(s=o.data)||void 0===s?void 0:s.third)||-1),h=Ws(c.data,null===d||void 0===d?void 0:d.characterId),u=Ws(c.data,null===d||void 0===d||null===(n=d.left)||void 0===n?void 0:n.characterId),v=Ws(c.data,null===d||void 0===d||null===(i=d.right)||void 0===i?void 0:i.characterId),m=(null===(a=o.data)||void 0===a?void 0:a.tree)&&c.data&&function(e,t){let s=[e],n=[],i=[];for(;0!=s.length;){for(const e of s){var a;const n=s.filter((t=>t.characterId==e.characterId));n.length>1&&i.push(`\u041d\u043e\u0434\u044b \u0441 id=[${n.map((e=>e.id)).join(", ")}] \u0438\u043c\u0435\u044e\u0442 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430: ${null===(a=Ws(t,e.characterId))||void 0===a?void 0:a.name}`)}for(const e of s){var r,l,o,c,d,h,u;if(e.left&&n.push(e.left),e.right&&n.push(e.right),-1!=e.characterId&&(e.left||e.right))e.characterId!=(null===(r=e.left)||void 0===r?void 0:r.characterId)&&e.characterId!=(null===(l=e.right)||void 0===l?void 0:l.characterId)&&i.push(`\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c \u043d\u043e\u0434\u044b id=${e.id} \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430\u043c\u0438: ${null===(o=Ws(t,e.characterId))||void 0===o?void 0:o.name} != [${null===(c=Ws(t,null===(d=e.left)||void 0===d?void 0:d.characterId))||void 0===c?void 0:c.name}, ${null===(h=Ws(t,null===(u=e.right)||void 0===u?void 0:u.characterId))||void 0===h?void 0:h.name}]`)}s=n,n=[]}return Array.from(new Set(i))}(o.data.tree,c.data);return(0,j.jsxs)("div",{className:dn.root,children:[c.isLoading&&(0,j.jsx)(R,{}),w(c),o.data&&c.data&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:dn.curGameState,children:[(0,j.jsx)("span",{children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0438\u0433\u0440\u0430: "}),d?(0,j.jsxs)("span",{children:[(0,j.jsx)("span",{className:dn.characterName,children:null!==(r=null===u||void 0===u?void 0:u.name)&&void 0!==r?r:"N/A"}),(0,j.jsx)("span",{children:" vs "}),(0,j.jsx)("span",{className:dn.characterName,children:null!==(l=null===v||void 0===v?void 0:v.name)&&void 0!==l?l:"N/A"}),(0,j.jsx)(vn,{})]}):(0,j.jsx)("span",{children:"\u043d\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e"}),(0,j.jsxs)("span",{children:[(0,j.jsx)("span",{children:"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c: "}),(0,j.jsx)(mn,{tourney:o,winner:h,oponent1:u,oponent2:v})]})]}),(0,j.jsx)("div",{style:{marginTop:"0.5rem"},children:"\u0422\u0443\u0440\u043d\u0438\u0440\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430:"}),m&&m.map((e=>(0,j.jsx)("h3",{style:{color:"tomato"},children:e}))),(0,j.jsx)(gn,{tree:o.data.tree,characters:c.data}),(0,j.jsx)("div",{style:{marginTop:"0.5rem"},children:"\u0422\u0440\u0435\u0442\u044c\u0435 \u043c\u0435\u0441\u0442\u043e:"}),(0,j.jsx)(An,{tree:o.data.tree,third:o.data.third,characters:c.data})]})]})}function vn(){const e=L(!1);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:dn.btn,onClick:e.setT,children:(0,j.jsx)(Xe,{})}),(0,j.jsx)(ze,{title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0438\u0433\u0440\u0443",itemId:-1,mutationFn:$s,open:e.v,close:e.setF})]})}function mn(e){var t,s,n;let{tourney:i,winner:a,oponent1:r,oponent2:l}=e;const o=ce((null===a||void 0===a?void 0:a.id)||-1),c=L(!1),d=Ks((null===(t=i.data)||void 0===t?void 0:t.curGameNodeId)||-1);(0,A.useEffect)((()=>{o.set((null===a||void 0===a?void 0:a.id)||-1)}),[null===a||void 0===a?void 0:a.id]);const h=o.v==(null===a||void 0===a?void 0:a.id)?a.name:o.v==(null===r||void 0===r?void 0:r.id)?r.name:o.v==(null===l||void 0===l?void 0:l.id)?l.name:"\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442";return(0,j.jsxs)(j.Fragment,{children:[d.isLoading&&(0,j.jsx)(R,{}),w(d),c.v?(0,j.jsxs)(j.Fragment,{children:[i.isFetching&&(0,j.jsx)(R,{}),(0,j.jsxs)("select",{className:dn.winnerSelect,value:o.v,onChange:e=>o.set(parseInt(e.target.value,10)),children:[(0,j.jsx)("option",{value:"-1",children:"\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),(0,j.jsx)("option",{value:(null===r||void 0===r?void 0:r.id)||"-1",children:null!==(s=null===r||void 0===r?void 0:r.name)&&void 0!==s?s:"N/A"}),(0,j.jsx)("option",{value:(null===l||void 0===l?void 0:l.id)||"-1",children:null!==(n=null===l||void 0===l?void 0:l.name)&&void 0!==n?n:"N/A"})]}),(0,j.jsx)("button",{className:dn.btn,onClick:()=>{d.mutate({characterId:o.v}),c.setF()},children:(0,j.jsx)(Je,{})}),(0,j.jsx)("button",{className:dn.btn,onClick:c.setF,children:(0,j.jsx)(Xe,{})})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{className:dn.characterName,children:h}),r&&l&&(0,j.jsx)("button",{className:dn.btn,onClick:()=>{i.refetch(),c.setT()},children:(0,j.jsx)(lt,{})})]})]})}function gn(e){var t,s,n,i;let{tree:a,characters:r,c:l=!1}=e;const o=L(!0),c=L(!1),d=ce(a.characterId),h=r.find((e=>e.id==d.v)),u=Ks(a.id),v=Ws(r,null===(t=a.left)||void 0===t?void 0:t.characterId),m=Ws(r,null===(s=a.right)||void 0===s?void 0:s.characterId);return(0,A.useEffect)((()=>{d.set(a.characterId)}),[a.characterId]),(0,j.jsxs)("div",{className:C(dn.node,l&&dn.nodeC,o.v&&dn.nodeCollapsed),children:[(0,j.jsx)("div",{className:dn.nodeId,children:a.id}),(0,j.jsxs)("div",{className:dn.nodeData,children:[h?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("img",{src:null===h||void 0===h?void 0:h.img,alt:null===h||void 0===h?void 0:h.name}),(0,j.jsx)("div",{children:null===h||void 0===h?void 0:h.name})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:dn.img}),(0,j.jsx)("div",{children:"\u041d\u0435\u0442 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044f"})]}),(0,j.jsx)("div",{style:{flexGrow:1}}),u.isLoading&&(0,j.jsx)(R,{block:!0}),w(u),d.v!=a.characterId&&(0,j.jsxs)("span",{className:dn.ctrlBtns,children:[(0,j.jsx)("button",{onClick:()=>u.mutate({characterId:d.v}),children:(0,j.jsx)(Je,{})}),(0,j.jsx)("button",{onClick:()=>{d.set(a.characterId),u.reset()},children:(0,j.jsx)(Xe,{})})]}),v&&m&&(0,j.jsx)("button",{onClick:c.setT,children:(0,j.jsx)(hn,{})}),(0,j.jsxs)("select",{value:d.v,onChange:e=>d.set(parseInt(e.target.value,10)),children:[(0,j.jsx)("option",{value:"-1",children:"\u041d\u0435\u0442 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044f"}),r.map((e=>(0,j.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(a.left||a.right)&&(0,j.jsx)("button",{className:dn.collapseBtn,onClick:o.toggle})]}),(0,j.jsx)(ze,{title:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430"}),(0,j.jsxs)("h4",{children:[null!==(n=null===v||void 0===v?void 0:v.name)&&void 0!==n?n:"N/A"," vs ",null!==(i=null===m||void 0===m?void 0:m.name)&&void 0!==i?i:"N/A"]})]}),itemId:a.id,mutationFn:$s,open:c.v,close:c.setF}),a.left&&(0,j.jsx)(gn,{tree:a.left,characters:r,c:!l}),a.right&&(0,j.jsx)(gn,{tree:a.right,characters:r,c:l})]})}function xn(e,t,s){if(!e)return null;if(e.id==t)return e;if(-3==t){var n,i,a,r,l,o,c,d,h,u,v,m;return{id:-3,characterId:s,left:{id:-2,characterId:(null!==(n=e.left)&&void 0!==n&&n.characterId&&-1!=(null===(i=e.left)||void 0===i?void 0:i.characterId)?(null===(a=e.left.left)||void 0===a?void 0:a.characterId)==(null===(r=e.left)||void 0===r?void 0:r.characterId)?null===(l=e.left.right)||void 0===l?void 0:l.characterId:null===(o=e.left.left)||void 0===o?void 0:o.characterId:null)||-1,left:null,right:null},right:{id:-2,characterId:(null!==(c=e.right)&&void 0!==c&&c.characterId&&-1!=(null===(d=e.right)||void 0===d?void 0:d.characterId)?(null===(h=e.right.left)||void 0===h?void 0:h.characterId)==(null===(u=e.right)||void 0===u?void 0:u.characterId)?null===(v=e.right.right)||void 0===v?void 0:v.characterId:null===(m=e.right.left)||void 0===m?void 0:m.characterId:null)||-1,left:null,right:null}}}return xn(e.left,t,s)||xn(e.right,t,s)}function An(e){var t,s,n,i,a,r,l,o,c,d,h,u,v,m;let{tree:g,third:x,characters:f}=e;const y=L(!1),p=ce(x),C=Ws(f,p.v),b=function(e,t){return ln((e=>["/api/tourney/third",e]),e,t)}(),N=null!==(t=g.left)&&void 0!==t&&t.characterId&&-1!=(null===(s=g.left)||void 0===s?void 0:s.characterId)?(null===(n=g.left.left)||void 0===n?void 0:n.characterId)==(null===(i=g.left)||void 0===i?void 0:i.characterId)?null===(a=g.left.right)||void 0===a?void 0:a.characterId:null===(r=g.left.left)||void 0===r?void 0:r.characterId:null,I=null!==(l=g.right)&&void 0!==l&&l.characterId&&-1!=(null===(o=g.right)||void 0===o?void 0:o.characterId)?(null===(c=g.right.left)||void 0===c?void 0:c.characterId)==(null===(d=g.right)||void 0===d?void 0:d.characterId)?null===(h=g.right.right)||void 0===h?void 0:h.characterId:null===(u=g.right.left)||void 0===u?void 0:u.characterId:null,B=Ws(f,N),E=Ws(f,I);return(0,A.useEffect)((()=>{p.set(x)}),[x]),(0,j.jsxs)("div",{className:dn.third,children:[(0,j.jsxs)("div",{className:dn.node,children:[(0,j.jsxs)("div",{className:dn.nodeData,children:[C?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("img",{src:null===C||void 0===C?void 0:C.img,alt:null===C||void 0===C?void 0:C.name}),(0,j.jsx)("div",{children:null===C||void 0===C?void 0:C.name})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:dn.img}),(0,j.jsx)("div",{children:"\u041d\u0435\u0442 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044f"})]}),(0,j.jsx)("div",{style:{flexGrow:1}}),b.isLoading&&(0,j.jsx)(R,{block:!0}),w(b),p.v!=x&&(0,j.jsxs)("span",{className:dn.ctrlBtns,children:[(0,j.jsx)("button",{onClick:()=>b.mutate({characterId:p.v}),children:(0,j.jsx)(Je,{})}),(0,j.jsx)("button",{onClick:()=>{p.set(x),b.reset()},children:(0,j.jsx)(Xe,{})})]}),B&&E&&(0,j.jsx)("button",{onClick:y.setT,children:(0,j.jsx)(hn,{})}),(0,j.jsxs)("select",{value:p.v,onChange:e=>p.set(parseInt(e.target.value,10)),children:[(0,j.jsx)("option",{value:"-1",children:"\u041d\u0435\u0442 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044f"}),f.map((e=>(0,j.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,j.jsx)(ze,{title:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{children:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438\u0433\u0440\u0443"}),(0,j.jsxs)("h4",{children:[null!==(v=null===B||void 0===B?void 0:B.name)&&void 0!==v?v:"N/A"," vs ",null!==(m=null===E||void 0===E?void 0:E.name)&&void 0!==m?m:"N/A"]})]}),itemId:-3,mutationFn:$s,open:y.v,close:y.setF})]}),(0,j.jsx)("div",{className:dn.node,children:(0,j.jsx)("div",{className:dn.nodeData,children:B?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("img",{src:null===B||void 0===B?void 0:B.img,alt:null===B||void 0===B?void 0:B.name}),(0,j.jsx)("div",{children:null===B||void 0===B?void 0:B.name})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:dn.img}),(0,j.jsx)("div",{children:"\u041d\u0435\u0442 \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u0432\u0448\u0435\u0433\u043e"})]})})}),(0,j.jsx)("div",{className:dn.node,children:(0,j.jsx)("div",{className:dn.nodeData,children:E?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("img",{src:null===E||void 0===E?void 0:E.img,alt:null===E||void 0===E?void 0:E.name}),(0,j.jsx)("div",{children:null===E||void 0===E?void 0:E.name})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:dn.img}),(0,j.jsx)("div",{children:"\u041d\u0435\u0442 \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u0432\u0448\u0435\u0433\u043e"})]})})})]})}const fn={btn:"styles_btn__l5n2e"};function jn(e){let{h:t,bt:s,rt:n,disabled:i,className:a,mutation:r,children:l}=e;const o=L(!1),c=L(!1),d=ce(null),h=r(c.setT,d.set);return(0,j.jsxs)(j.Fragment,{children:[h.isLoading&&(0,j.jsx)(R,{}),(0,j.jsx)("button",{className:a,disabled:i,onClick:o.setT,children:l}),(0,j.jsxs)(ne,{open:o.v,close:o.setF,closeOnOutclick:!0,children:[(0,j.jsx)("h2",{children:t}),(0,j.jsx)("br",{}),(0,j.jsx)("button",{className:fn.btn,onClick:()=>{o.setF(),h.mutate()},children:s})]}),(0,j.jsx)(ne,{open:c.v,close:c.setF,closeOnOutclick:!0,children:(0,j.jsx)("h2",{children:n})}),(0,j.jsx)(ne,{open:!!d.v,close:()=>d.set(null),closeOnOutclick:!0,children:w(h)})]})}function yn(){var e,t,s,n,i;Z("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0433\u0440\u044b");const a=Zs();return(0,j.jsxs)(G,{centeredPage:!0,homeBtn:!0,gap:"2rem",forStaff:!0,children:[(0,j.jsx)("h1",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0433\u0440\u044b"}),a.isLoading&&(0,j.jsx)(R,{}),w(a),(0,j.jsx)(F.rU,{to:"/tourney_screen",className:cn.openScreen,children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u044d\u043a\u0440\u0430\u043d"}),(0,j.jsx)(F.rU,{to:"/game_characters",className:cn.openScreen,children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438 \u0442\u0443\u0440\u043d\u0438\u0440\u0430"}),(0,j.jsx)(wn,{text:"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430",type:"text",query:Ms,getv:e=>(null===e||void 0===e?void 0:e.startStr)||"",newv:e=>e.value,mutation:Gs}),(0,j.jsx)(wn,{text:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0438\u0433\u0440\u044b (\u0441\u0435\u043a.)",type:"number",query:Hs,getv:e=>(null===e||void 0===e?void 0:e.duration)||0,newv:e=>e.valueAsNumber,mutation:Xs}),(0,j.jsx)(wn,{text:"\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u043e\u0442\u0441\u0447\u0451\u0442 (\u0441\u0435\u043a.)",type:"number",query:Us,getv:e=>(null===e||void 0===e?void 0:e.counter)||0,newv:e=>e.valueAsNumber,mutation:Js}),(0,j.jsxs)("div",{className:cn.tourney,children:[(0,j.jsx)("h3",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u043c"}),(0,j.jsxs)("div",{children:[(0,j.jsx)(jn,{className:cn.start,h:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0438\u0433\u0440\u0443?",bt:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",rt:"\u0418\u0433\u0440\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u0430!",disabled:!a.data||(null===(e=a.data)||void 0===e?void 0:e.showGame),mutation:en,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0438\u0433\u0440\u0443"}),(0,j.jsx)(jn,{className:cn.start,h:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438\u0433\u0440\u0443?",bt:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c",rt:"\u0418\u0433\u0440\u0430 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u0430!",disabled:!a.data||(null===(t=a.data)||void 0===t?void 0:t.showGame)||-1==a.data.curGameNodeId,mutation:tn,children:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438\u0433\u0440\u0443"}),(0,j.jsx)(jn,{className:cn.start,h:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0438\u0433\u0440\u0443?",bt:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c",rt:"\u0418\u0433\u0440\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430!",disabled:!(null!==(s=a.data)&&void 0!==s&&s.showGame),mutation:sn,children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0438\u0433\u0440\u0443"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{flexGrow:1}}),(0,j.jsx)(jn,{className:C(cn.start,!(null!==(n=a.data)&&void 0!==n&&n.ended)&&cn.hidden),h:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0442\u0443\u0440\u043d\u0438\u0440\u0430?",bt:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",rt:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0442\u0443\u0440\u043d\u0438\u0440\u0430 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e!",mutation:an,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0442\u0443\u0440\u043d\u0438\u0440\u0430"}),(0,j.jsx)(jn,{className:C(cn.start,(null===(i=a.data)||void 0===i?void 0:i.ended)&&cn.hidden),h:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0443\u0440\u043d\u0438\u0440?",bt:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c",rt:"\u0422\u0443\u0440\u043d\u0438\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d!",mutation:nn,children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0443\u0440\u043d\u0438\u0440"})]})]}),(0,j.jsx)(un,{}),(0,j.jsx)(jn,{className:cn.start,h:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0435\u0441\u044c \u0442\u0443\u0440\u043d\u0438\u0440?",bt:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",rt:"\u0412\u0435\u0441\u044c \u0442\u0443\u0440\u043d\u0438\u0440 \u0441\u0431\u0440\u043e\u0448\u0435\u043d!",mutation:rn,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0435\u0441\u044c \u0442\u0443\u0440\u043d\u0438\u0440"})]})}function wn(e){let{text:t,type:s,getv:n,newv:i,query:a,mutation:r}=e;const l=ce(n()),o=a(),c=r();return(0,A.useEffect)((()=>l.set(n(o.data))),[o.data]),(0,j.jsxs)("div",{className:cn.input,children:[o.isLoading&&(0,j.jsx)(R,{}),c.isLoading&&(0,j.jsx)(R,{}),w(o),w(c),(0,j.jsx)("span",{children:t}),(0,j.jsx)("input",{type:s,value:l.v,onChange:e=>l.set(i(e.target))}),o.data&&l.v!=n(o.data)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{onClick:()=>c.mutate(l.v),children:(0,j.jsx)(Je,{})}),(0,j.jsx)("button",{onClick:()=>l.set(n(o.data)),children:(0,j.jsx)(Xe,{})})]})]})}const pn={root:"styles_root__rT4Gh",back:"styles_back__awg9C",barShake:"styles_barShake__Ur9jk",going:"styles_going__+UF8o",shake:"styles_shake__zxQyZ",bar:"styles_bar__U71pT",bar__img:"styles_bar__img__JCN39",barLeft:"styles_barLeft__XSCZr",barRight:"styles_barRight__GNhlX",dot:"styles_dot__QlpbG",nums:"styles_nums__QEHWB",msg:"styles_msg__5G-O7",soundBtn:"styles_soundBtn__VzFT+",frame:"styles_frame__aLrbS",rects:"styles_rects__tHlp8",rect:"styles_rect__BhPFH"},Cn=s.p+"static/media/ost.94ca648024fe47b97502.mp3";const bn=new class{constructor(){this.barPercent="50",this.error=null,this.updateScreen=void 0,this.navigate=null,this.state=null,this.counterV=0,this.startI=0,this.counterTimer=void 0,this.stoped=!1}get isGoing(){var e;return"going"==(null===(e=this.state)||void 0===e?void 0:e.state)}get opponentLeftId(){var e;return(null===(e=this.state)||void 0===e?void 0:e.opponent1Id)||-1}get opponentRightId(){var e;return(null===(e=this.state)||void 0===e?void 0:e.opponent2Id)||-1}get winnerId(){var e,t;return 1==(null===(e=this.state)||void 0===e?void 0:e.winner)?this.opponentLeftId:2==(null===(t=this.state)||void 0===t?void 0:t.winner)?this.opponentRightId:-1}get titleType(){var e;return this.error?"error":{wait:"wait",start:"counter",going:"counter",end:"winner",tourneyEnd:"tourneyEnd","":""}[(null===(e=this.state)||void 0===e?void 0:e.state)||""]||"load"}start(e,t){this.stoped=!1,this.startI++,this.state=null,this.navigate=t,this.updateScreen=e,this.updateState(this.startI),this.counterTimer=setInterval((()=>this.counter()),1e3)}stop(){this.stoped=!0,this.startI++,clearInterval(this.counterTimer)}counter(){var e;!this.stoped&&this.state&&(this.counterV>0&&(this.counterV--,null===(e=this.updateScreen)||void 0===e||e.call(this)))}async updateState(e){var t;if(e!=this.startI)return;const s=new Date;try{const t=await d("/api/game/state_full");if(e!=this.startI)return;this.state=t,this.error=null}catch(i){var n;if(e!=this.startI)return;return this.state=null,this.error=y(i),void(null===(n=this.updateScreen)||void 0===n||n.call(this))}finally{if(e!=this.startI)return;const t=+new Date-+s,n=1e3;setTimeout((()=>this.updateState(e)),Math.max(0,n-t))}this.onNewState(),null===(t=this.updateScreen)||void 0===t||t.call(this)}onNewState(){var e;this.state&&(this.barPercent=this.getBarPercent(this.state),Math.abs(this.counterV-this.state.counter)>2&&(this.counterV=this.state.counter),this.state.showGame&&"tourneyEnd"!=this.state.state||null===(e=this.navigate)||void 0===e||e.call(this,"/tourney_screen"))}getCounter(){return this.state?`${Math.floor(this.counterV/60)}:${(this.counterV%60).toString().padStart(2,"0")}`:"0:00"}getBarPercent(e){const t=e.clicks1+e.clicks2;return 0==t?"50":""+e.clicks1/t*100}};function Nn(){const e=(0,n.s0)(),t=ce(0);return(0,A.useEffect)((()=>(bn.start((()=>t.set((e=>e+1))),e),()=>bn.stop())),[]),bn}function In(){Z("\u0418\u0433\u0440\u0430");const e=Nn(),t=zs(),s=ds(Cn,!0),n=L(!1),i=(0,A.useRef)(null),a=Ws(t.data,e.opponentLeftId),r=Ws(t.data,e.opponentRightId),l=Ws(t.data,e.winnerId);return(0,A.useEffect)((()=>{n.v&&(e.isGoing?s.play():s.stop())}),[e.isGoing,n.v]),(0,A.useEffect)((()=>{if(!i.current||!e.isGoing)return;const t=setInterval((()=>{e.isGoing&&i.current&&function(e){const t=document.createElement("div");e.appendChild(t),t.style.top=100*Math.random()+"%",t.style.left=100*Math.random()+"%",setTimeout((()=>e.removeChild(t)),1e3)}(i.current)}),100);return()=>clearInterval(t)}),[i,e.isGoing]),(0,j.jsxs)("div",{className:C(pn.root,e.isGoing&&pn.going),style:{"--bar":e.barPercent},children:[(0,j.jsx)("div",{className:pn.rects,ref:i}),(0,j.jsx)("div",{className:pn.frame}),(0,j.jsx)("div",{className:pn.barShake,children:(0,j.jsxs)("div",{className:pn.bar,children:[(0,j.jsxs)("div",{className:pn.barLeft,style:{"--color":null===a||void 0===a?void 0:a.color},children:[(0,j.jsx)("span",{children:null===a||void 0===a?void 0:a.name}),(0,j.jsx)("div",{className:pn.bar__img,children:(0,j.jsx)("img",{src:null===a||void 0===a?void 0:a.img,alt:null===a||void 0===a?void 0:a.name})}),(0,j.jsx)("div",{className:pn.nums})]}),(0,j.jsxs)("div",{className:pn.barRight,style:{"--color":null===r||void 0===r?void 0:r.color},children:[(0,j.jsx)("div",{className:pn.bar__img,children:(0,j.jsx)("img",{src:null===r||void 0===r?void 0:r.img,alt:null===r||void 0===r?void 0:r.name})}),(0,j.jsx)("span",{children:null===r||void 0===r?void 0:r.name})]})]})}),(0,j.jsx)("div",{className:pn.msg,children:(0,j.jsxs)("div",{children:["error"==e.titleType&&(0,j.jsx)("h3",{style:{color:"tomato",textAlign:"center"},children:e.error}),"load"==e.titleType&&(0,j.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),"wait"==e.titleType&&(0,j.jsx)("span",{children:"\u0421\u043a\u043e\u0440\u043e \u043d\u0430\u0447\u0430\u043b\u043e!"}),"counter"==e.titleType&&(0,j.jsx)("span",{children:e.getCounter()}),"winner"==e.titleType&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{children:"\u041f\u043e\u0431\u0435\u0436\u0434\u0430\u0435\u0442 "}),(0,j.jsx)("span",{className:"title",style:{marginLeft:"0.25em"},children:null===l||void 0===l?void 0:l.name}),(0,j.jsx)("span",{children:"!"})]}),!n.v&&(0,j.jsx)("button",{className:pn.soundBtn,onClick:n.setT,children:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a"})]})})]})}const Bn={root:"styles_root__szDCT",img:"styles_img__Csllz",form:"styles_form__nIKFj"};function En(){var e;const t=L(!1),s=ce(null),n=(0,A.useRef)(null),a=(0,A.useRef)(null),r=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await h("/api/tourney/characters",e),onSuccess:t=>{Be(s,"tourneyCharacters",t),null===e||void 0===e||e(t)},onError:t})}((()=>{s.set(null),t.setF(),n.current&&(n.current.value="")}));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("button",{className:Bn.root,onClick:t.setT,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),(0,j.jsxs)(ne,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",open:t.v,close:t.setF,children:[r.isLoading&&(0,j.jsx)(R,{}),w(r),""==(null===(e=s.v)||void 0===e?void 0:e.data)&&(0,j.jsx)(R,{}),(0,j.jsxs)(K,{className:Bn.form,onSubmit:()=>{var e,t;const i=null===(e=n.current)||void 0===e?void 0:e.value,l=null===(t=a.current)||void 0===t?void 0:t.value;i&&l&&s.v&&""!=s.v.data&&r.mutate({name:i,color:l,img:s.v})},children:[(0,j.jsxs)($,{label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",children:[(0,j.jsx)("div",{className:Bn.img,children:s.v&&(0,j.jsx)("img",{src:s.v.data,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})}),(0,j.jsx)("input",{type:"file",required:!0,accept:"image/png, image/jpeg, image/gif",style:{position:"absolute",opacity:0},onChange:async e=>{var t,n;s.set({data:"",name:""}),s.set(await oe(null===(t=e.target)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0],""))}})]}),(0,j.jsx)($,{label:"\u0418\u043c\u044f",children:(0,j.jsx)("input",{ref:n,required:!0,type:"text"})}),(0,j.jsx)($,{label:"\u0426\u0432\u0435\u0442",children:(0,j.jsx)("input",{ref:a,required:!0,type:"color"})}),(0,j.jsx)($,{children:(0,j.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})]})]})}const kn={root:"styles_root__kxT4-",error:"styles_error__B1x55",id:"styles_id__Ykhw5",img:"styles_img__-VBvV",inputs:"styles_inputs__lWaKt",changed:"styles_changed__No1PX",buttons:"styles_buttons__DnTOD",btnMinus:"styles_btnMinus__XR9tq"};function Fn(e){var t,s;let{character:n}=e;const a=L(!1),r=L(!1),l=ce(null,a.setT),o=ce(n.name,a.setT),c=ce(n.color,a.setT),d=function(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>await h(`/api/tourney/characters/${e}`,t),onSuccess:e=>{Ee(n,"tourneyCharacters",e),null===t||void 0===t||t(e)},onError:s})}(n.id,u,(()=>u()));function u(e){l.set(null);const t=e||n;o.set(t.name),a.setF()}return(0,A.useEffect)(u,[n]),(0,j.jsxs)("div",{className:C(kn.root,a.v&&kn.changed),children:[d.isLoading&&(0,j.jsx)(R,{block:!0,r:"0.5rem"}),""==(null===(t=l.v)||void 0===t?void 0:t.data)&&(0,j.jsx)(R,{block:!0,r:"0.5rem"}),w(d,(e=>(0,j.jsxs)("div",{className:kn.error,children:[(0,j.jsx)("div",{children:e}),(0,j.jsx)("button",{onClick:()=>d.reset(),children:"\u041e\u041a"})]}))),(0,j.jsx)(ze,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430: "+o.v,itemId:n.id,mutationFn:Vs,open:r.v,close:r.setF}),(0,j.jsx)("div",{className:kn.id,children:n.id}),(0,j.jsxs)("label",{className:kn.img,children:[(n.img||l.v)&&(0,j.jsx)("img",{src:(null===(s=l.v)||void 0===s?void 0:s.data)||n.img,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),(0,j.jsx)("input",{type:"file",style:{display:"none"},accept:"image/png, image/jpeg, image/gif",onChange:async e=>{var t,s;l.set({data:"",name:""}),l.set(await oe(null===(t=e.target)||void 0===t||null===(s=t.files)||void 0===s?void 0:s[0],"")),e.target.value=""}})]}),(0,j.jsxs)("div",{className:kn.inputs,children:[(0,j.jsx)("div",{children:"\u0418\u043c\u044f"}),(0,j.jsx)("input",{type:"text",value:o.v,onChange:e=>o.set(e.target.value)}),(0,j.jsx)("div",{children:"\u0426\u0432\u0435\u0442"}),(0,j.jsx)("input",{type:"color",value:c.v,onChange:e=>c.set(e.target.value)})]}),(0,j.jsxs)("div",{className:kn.buttons,children:[!a.v&&(0,j.jsx)("button",{onClick:r.setT,children:(0,j.jsx)(Ue,{})}),a.v&&(0,j.jsx)("button",{onClick:()=>{d.mutate({name:o.v,color:c.v,img:l.v||void 0})},children:(0,j.jsx)(Je,{})}),a.v&&(0,j.jsx)("button",{onClick:()=>u(),children:(0,j.jsx)(Xe,{})})]})]})}const Sn={characters:"styles_characters__5+NeE"};function Qn(){var e;Z("\u0422\u0443\u0440\u043d\u0438\u0440 | \u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438");const t=zs();return(0,j.jsxs)(G,{centeredPage:!0,gap:"0.5rem",homeBtn:!0,forStaff:!0,children:[(0,j.jsx)("div",{className:"calmBack"}),t.isLoading&&(0,j.jsx)(R,{}),w(t),(0,j.jsx)("h1",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\u043c\u0438 \u0442\u0443\u0440\u043d\u0438\u0440\u0430"}),(0,j.jsx)(En,{}),(0,j.jsx)("div",{className:Sn.characters,children:null===(e=t.data)||void 0===e?void 0:e.map((e=>(0,j.jsx)(Fn,{character:e},e.id)))})]})}const Dn={root:"styles_root__ghv+v"};class Tn{constructor(e,t){this.characters=t,this.tree=void 0,this.third=void 0,this.transform={dx:0,dy:0,s:1},this.anim=[],this.RECT={x:-10.5*_n.S,y:-5.5*_n.S,w:24*_n.S,h:12*_n.S},this.RECT_ENDEN={x:-1*_n.S,y:-2*_n.S,w:5*_n.S,h:7.5*_n.S},this.showRect=this.RECT,this.tree=new _n(this.characters,{id:-1,characterId:-1},-1),this.third=new _n(this.characters,{id:-1,characterId:-1},-1),this.updateData(e),window.setTourneyTransform=(e,t,s)=>this.transform={dx:e,dy:t,s:s},window.setTourneyTransform(-50,-100,.35),window.setTourneyTransform(-50,-100,.6)}updateData(e){const t=-1==this.tree.data.id;t?this.tree=Pn(e.tree,e.curGameNodeId,this.characters):this.tree.updateData(e.tree,e.curGameNodeId);const s=e.tree.left,n=e.tree.right;if(s&&n){var i,a;const r=(s.characterId<=0?null:s.characterId==(null===(i=s.left)||void 0===i?void 0:i.characterId)?s.right:s.left)||{id:-2,characterId:-1,left:null,right:null},l=(n.characterId<=0?null:n.characterId==(null===(a=n.left)||void 0===a?void 0:a.characterId)?n.right:n.left)||{id:-2,characterId:-1,left:null,right:null},o=new _n(this.characters,r,e.curGameNodeId),c=new _n(this.characters,l,e.curGameNodeId);t?(this.third=new _n(this.characters,{id:-3,characterId:e.third},e.curGameNodeId,o,c),o.parent=this.third,c.parent=this.third):this.third.updateData({id:-3,characterId:e.third,left:r,right:l},e.curGameNodeId)}let r=this.showRect;if(e.ended)r=this.RECT_ENDEN;else if(e.curGameNodeId>=0){const t=this.tree.getBounds(e.curGameNodeId);r=t||this.RECT}else r=-3==e.curGameNodeId?{x:-2*_n.S,y:3*_n.S,w:7*_n.S,h:4*_n.S}:this.RECT;if(t)this.showRect=r;else if(JSON.stringify(r)!=JSON.stringify(this.showRect)){const e=this.showRect,t={...e};this.showRect=r;let s=0;const n=(e,t)=>e+(t-e)*Math.sin(s*Math.PI/2);this.anim.push(((i,a,l)=>{s+=i/1e3,t.x=n(e.x,r.x),t.y=n(e.y,r.y),t.w=n(e.w,r.w),t.h=n(e.h,r.h),this.transform.s=this.calcScale(t,{w:a,h:l});const{cx:o,cy:c}=this.findRectCenter(t);return this.transform.dx=a/2-o,this.transform.dy=l/2-c,s>1}))}}draw(e){e.save(),e.translate(this.transform.dx,this.transform.dy),e.scale(this.transform.s,this.transform.s),this.third.draw(e,-1),this.tree.draw(e),e.strokeStyle="red",e.lineWidth=4,e.restore()}update(e,t,s){if(0==this.anim.length){this.transform.s=this.calcScale(this.showRect,{w:t,h:s});const{cx:n,cy:i}=this.findRectCenter(this.showRect);this.transform.dx=t/2-n,this.transform.dy=s/2-i,this.tree.update(e),this.third.update(e)}else for(let n=this.anim.length-1;n>=0;n--)this.anim[n](e,t,s)&&this.anim.splice(n,1)}calcScale(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.05;const n=t.w*s,i=t.h*s;return Math.min(t.w/(e.w+2*n),t.h/(e.h+2*i))}findRectCenter(e){return{cx:(e.x+e.w/2)*this.transform.s,cy:(e.y+e.h/2)*this.transform.s}}}class _n{constructor(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.characters=e,this.data=t,this.curGameNodeId=s,this.left=n,this.right=i,this.S=_n.S,this.t=0,this.newCharacterId=void 0,this.parent=void 0,this.newCharacterId=t.characterId}draw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.save();const s=[4,5,6,7].includes(t),n=this.characters[this.data.characterId];if(-1==t&&e.translate(0,4*this.S),e.fillStyle="#fff2b5",1==t&&(e.fillStyle="#f9e064"),this.data.id==this.curGameNodeId&&(e.fillStyle="#ffab40"),e.fillRect(0,0,3*this.S,this.S),n&&(e.drawImage(n.img,s?2*this.S:0,0,this.S,this.S),e.font="20px monsterfriendforerusbylya, ZeroCool, Arial",e.fillStyle="#4a0001",e.fillText(n.name,s?.05*this.S:1.05*this.S,this.S/2+10,1.9*this.S)),e.strokeStyle="gray",n&&(e.strokeStyle=n.color),e.lineWidth=4,e.strokeRect(0,0,3*this.S,this.S),e.strokeRect(s?2*this.S:0,0,this.S,this.S),e.font="20px monsterfriendforerusbylya, ZeroCool, Arial",e.fillStyle="#ff7700",1==t&&-1!=this.data.characterId&&e.fillText("\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c",1.05*this.S,30,1.9*this.S),-1==t&&-1!=this.data.characterId&&e.fillText("\u0422\u0440\u0435\u0442\u044c\u0435 \u043c\u0435\u0441\u0442\u043e",1.05*this.S,30,1.9*this.S),this.parent&&-1!=this.parent.data.characterId&&(2!=t&&3!=t||this.parent.data.characterId==this.data.characterId?this.parent.data.characterId!=this.data.characterId&&(e.fillStyle="#00000055",e.fillRect(0,0,3*this.S,this.S)):e.fillText("\u0412\u0442\u043e\u0440\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",1.05*this.S,30,1.9*this.S)),e.strokeStyle="gray",e.lineWidth=4,1==t)e.save(),e.translate(0,1.5*-this.S),this.left&&this.left.draw(e,2),e.translate(0,3*this.S),this.right&&this.right.draw(e,3),e.restore(),e.translate(1.5*this.S,0),this.drawLines(e,[[0,0],[0,-.5]],[[0,1],[0,.5]],!0,!1);else if(2==t)e.save(),e.translate(4.5*-this.S,.9*this.S),this.left&&this.left.draw(e,4),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,5),e.restore(),e.translate(1.5*this.S,0),this.drawLines(e,[[0,-.5],[-2,0],[0,2.5],[-.5,0],[0,-.5],[-.5,0]],[[0,-.5],[-2,0],[0,2.5],[-.5,0],[0,.5],[-.5,0]]);else if(3==t)e.save(),e.translate(4.5*this.S,2.1*-this.S),this.left&&this.left.draw(e,8),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,9),e.restore(),e.translate(1.5*this.S,1*this.S),this.drawLines(e,[[0,.5],[2,0],[0,-2.5],[.5,0],[0,-.5],[.5,0]],[[0,.5],[2,0],[0,-2.5],[.5,0],[0,.5],[.5,0]]);else if(4==t)e.save(),e.translate(2*-this.S,3.4*-this.S),this.left&&this.left.draw(e,6),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,7),e.restore(),e.translate(2*this.S,0),this.drawLines(e,[[0,-2.3],[-.5,0],[0,-.5],[-.5,0]],[[0,-2.3],[-.5,0],[0,.5],[-.5,0]]);else if(5==t)e.save(),e.translate(2*-this.S,2.2*this.S),this.left&&this.left.draw(e,6),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,7),e.restore(),e.translate(2*this.S,1*this.S),this.drawLines(e,[[0,2.3],[-.5,0],[0,-.5],[-.5,0]],[[0,2.3],[-.5,0],[0,.5],[-.5,0]]);else if(6==t)e.save(),e.translate(4*-this.S,1.5*-this.S),this.left&&this.left.draw(e,6),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,7),e.restore(),e.translate(0,.5*this.S),this.drawLines(e,[[-.5,0],[0,-.9],[-.5,0]],[[-.5,0],[0,-.9],[-.5,0]]);else if(7==t)e.save(),e.translate(4*-this.S,.3*this.S),this.left&&this.left.draw(e,6),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,7),e.restore(),e.translate(0,.5*this.S),this.drawLines(e,[[-.5,0],[0,.9],[-.5,0]],[[-.5,0],[0,.9],[-.5,0]]);else if(8==t)e.save(),e.translate(2*this.S,3.4*-this.S),this.left&&this.left.draw(e,10),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,11),e.restore(),e.translate(1*this.S,0),this.drawLines(e,[[0,-2.3],[.5,0],[0,-.5],[.5,0]],[[0,-2.3],[.5,0],[0,.5],[.5,0]]);else if(9==t)e.save(),e.translate(2*this.S,2.2*this.S),this.left&&this.left.draw(e,10),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,11),e.restore(),e.translate(1*this.S,1*this.S),this.drawLines(e,[[0,2.3],[.5,0],[0,-.5],[.5,0]],[[0,2.3],[.5,0],[0,.5],[.5,0]]);else if(10==t)e.save(),e.translate(4*this.S,1.5*-this.S),this.left&&this.left.draw(e,10),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,11),e.restore(),e.translate(3*this.S,.5*this.S),this.drawLines(e,[[.5,0],[0,-.9],[.5,0]],[[.5,0],[0,-.9],[.5,0]]);else if(11==t)e.save(),e.translate(4*this.S,.3*this.S),this.left&&this.left.draw(e,10),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,11),e.restore(),e.translate(3*this.S,.5*this.S),this.drawLines(e,[[.5,0],[0,.9],[.5,0]],[[.5,0],[0,.9],[.5,0]]);else if(-1==t)e.save(),e.translate(2*-this.S,1.4*this.S),this.left&&this.left.draw(e,-2),e.translate(4*this.S,0),this.right&&this.right.draw(e,-3),e.restore(),e.translate(1.5*this.S,1*this.S),this.drawLines(e,[[0,.9],[-.5,0]],[[0,.9],[.5,0]]);else if(-2==t){e.translate(1.5*this.S,0),this.drawLine0(e,[[0,-4.9]]);const t=this.characters[this.newCharacterId];t&&(e.strokeStyle=t.color);const s=this.data.characterId==this.newCharacterId?1:this.t;this.drawLine0(e,[[0,-4.9],[-.5,0],[0,.5],[-.5,0]],!0,s)}else if(-3==t){e.translate(1.5*this.S,0),this.drawLine0(e,[[0,-4.9]]);const t=this.characters[this.newCharacterId];t&&(e.strokeStyle=t.color);const s=this.data.characterId==this.newCharacterId?1:this.t;this.drawLine0(e,[[0,-4.9],[.5,0],[0,.5],[.5,0]],!0,s)}e.restore()}update(e){var t,s;this.t+=e/1500,this.t>1&&(this.data.characterId=this.newCharacterId),null===(t=this.left)||void 0===t||t.update(e),null===(s=this.right)||void 0===s||s.update(e)}drawLine(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(0==t.length)return;const i=(t=t.map((e=>[e[0]*this.S,e[1]*this.S]))).reduce(((e,t)=>e+Math.abs(t[0])+Math.abs(t[1])),0)*n;if(s){let e=t[0][0],s=t[0][1];for(let n=1;n<t.length;n++)e+=t[n][0],s+=t[n][1],t[n][0]*=-1,t[n][1]*=-1;t.push([e,s]),t.reverse(),t.pop()}e.beginPath();let a=t[0][0],r=t[0][1];e.moveTo(a,r);let l=0;for(let o=1;o<t.length&&!(l>i);o++){const s=Math.abs(t[o][0])+Math.abs(t[o][1]),n=l+s<i?1:(i-l)/s;l+=s,a+=t[o][0]*n,r+=t[o][1]*n,e.lineTo(a,r)}e.stroke()}_drawLine(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0==t.length)return;t=t.map((e=>[e[0]*this.S,e[1]*this.S])),e.beginPath();let n=t[0][0],i=t[0][1];e.moveTo(n,i);for(let a=1;a<t.length;a++)n+=t[a][0]*s,i+=t[a][1]*s,e.lineTo(n,i);e.stroke()}drawLine0(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.drawLine(e,[[0,0],...t],s,n)}drawLines(e,t,s){var n,i;let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4]?this.drawLine0.bind(this):this.drawLine.bind(this),l=function(t){return r(e,t,a,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)},o=this.newCharacterId<0?0:this.newCharacterId==(null===(n=this.left)||void 0===n?void 0:n.data.characterId)?-1:this.newCharacterId==(null===(i=this.right)||void 0===i?void 0:i.data.characterId)?1:0,c=this.data.characterId==this.newCharacterId?1:this.t;if(this.left&&l(t),this.right&&l(s),0!=o){const n=this.characters[this.newCharacterId];if(-1==o){var d;if(this.right)e.strokeStyle=null===(d=this.characters[this.right.data.characterId])||void 0===d?void 0:d.color,l(s,c);e.strokeStyle=null===n||void 0===n?void 0:n.color,this.left&&l(t,c)}else{var h;if(this.left)e.strokeStyle=null===(h=this.characters[this.left.data.characterId])||void 0===h?void 0:h.color,l(t,c);e.strokeStyle=null===n||void 0===n?void 0:n.color,this.right&&l(s,c)}}}getBounds(e){var t=this;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";const n=function(s,n,i,a){var r,l;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return e==t.data.id?{x:s*t.S,y:n*t.S,w:i*t.S,h:a*t.S}:(null===(r=t.left)||void 0===r?void 0:r.getBounds(e,o))||(null===(l=t.right)||void 0===l?void 0:l.getBounds(e,c))};return"1"==s?n(-1,-2,5,5,"2","3"):"2"==s?n(-4.5,-2,8,4,"4","5"):"4"==s?n(-6.5,-4,5,4.5,"6","7"):"5"==s?n(-6.5,.5,5,4.5,"6.5","7.5"):"6"==s||"7"==s?n(-10.5,-5.5,8,5.2):"6.5"==s||"7.5"==s?n(-10.5,1.3,8,5.2):"3"==s?n(0,-1,8,4,"8","9"):"8"==s?n(4.5,-4,5,4.5,"10","11"):"9"==s?n(4.5,.5,5,4.5,"10.5","11.5"):"10"==s||"11"==s?n(5.5,-5.5,8,5.2):"10.5"==s||"11.5"==s?n(5.5,1.3,8,5.2):null}updateData(e,t){var s,n;this.newCharacterId=e.characterId,this.curGameNodeId=t,this.t=0,e.left&&(null===(s=this.left)||void 0===s||s.updateData(e.left,t)),e.right&&(null===(n=this.right)||void 0===n||n.updateData(e.right,t))}}function Pn(e,t,s){const n=e.left&&Pn(e.left,t,s),i=e.right&&Pn(e.right,t,s),a=new _n(s,{id:e.id,characterId:e.characterId},t,n,i);return n&&(n.parent=a),i&&(i.parent=a),a}_n.S=100;const Ln=new class{constructor(){this.canvas=null,this.ctx=null,this.startI=0,this.pt=0,this.stoped=!1,this.error="",this.navigate=null,this.state=null,this.characters=void 0,this.tree=void 0,this.x=0,this.y=0,this.dx=1,this.dy=1,this.s=100}start(e){this.navigate=e,this.stoped=!1,this.error="",this.startI++,this.loadCharacters(),requestAnimationFrame(this.loop.bind(this,this.startI)),this.updateState(this.startI)}stop(){this.stoped=!0,this.startI++}async updateState(e){if(e!=this.startI)return;const t=new Date,s=JSON.stringify(this.state);try{const t=await d("/api/tourney");if(e!=this.startI)return;this.state=t,this.error=""}catch(n){if(e!=this.startI)return;return this.state=null,void(this.error=y(n))}finally{if(e!=this.startI)return;const s=+new Date-+t,n=1e3;setTimeout((()=>this.updateState(e)),Math.max(0,n-s))}JSON.stringify(this.state)!=s&&this.onNewState()}async loadCharacters(){if(null!==this.characters)try{this.characters=await d("/api/tourney/characters")}catch(e){return this.characters=void 0,void(this.error=y(e))}}onNewState(){var e;if(this.state&&this.characters){if(this.tree)this.tree.updateData(this.state);else{const e={};this.characters.forEach((t=>{const s=new Image;s.src=t.img,e[t.id]={...t,img:s}})),this.tree=new Tn(this.state,e)}!this.state.ended&&this.state.showGame&&(null===(e=this.navigate)||void 0===e||e.call(this,"/game_screen"))}}loop(e,t){if(e!=this.startI)return;const s=t-this.pt;if(this.pt=t,this.canvas){const e=window.innerWidth,t=window.innerHeight;if(this.canvas.width=e,this.canvas.height=t,this.error){if(this.ctx){this.ctx.save(),this.ctx.font="3em ZeroCool, Arial",this.ctx.fillStyle="orange";const s=this.ctx.measureText(this.error);this.ctx.fillText(this.error,Math.max(0,(e-s.width)/2),(t-s.actualBoundingBoxAscent)/2,e),this.ctx.restore()}}else if(this.state&&this.characters){var n;this.x+=this.dx*s*.5,this.y+=this.dy*s*.5,this.x>this.canvas.width-this.s&&(this.x=this.canvas.width-this.s,this.dx=-1),this.x<0&&(this.x=0,this.dx=1),this.y>this.canvas.height-this.s&&(this.y=this.canvas.height-this.s,this.dy=-1),this.y<0&&(this.y=0,this.dy=1),null===(n=this.tree)||void 0===n||n.update(s,this.canvas.width,this.canvas.height),this.draw()}else if(this.ctx){this.ctx.save(),this.ctx.font="3em ZeroCool, Arial",this.ctx.fillStyle="orange";const s="\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",n=this.ctx.measureText(s);this.ctx.fillText(s,Math.max(0,(e-n.width)/2),(t-n.actualBoundingBoxAscent)/2,e),this.ctx.restore()}}requestAnimationFrame(this.loop.bind(this,e))}draw(){var e;this.canvas&&this.ctx&&this.state&&this.characters&&(this.ctx.fillRect(this.x,this.y,this.s,this.s),null===(e=this.tree)||void 0===e||e.draw(this.ctx))}setCanvas(e){this.canvas=e,this.ctx=e.getContext("2d"),this.draw()}};function qn(){const e=(0,n.s0)();return(0,A.useEffect)((()=>(Ln.start(e),()=>Ln.stop())),[]),Ln}function Rn(){Z("\u0422\u0443\u0440\u043d\u0438\u0440");const e=qn();return(0,j.jsx)("div",{className:Dn.root,children:(0,j.jsx)("canvas",{ref:t=>t&&e.setCanvas(t)})})}function Yn(){var e,t;const s=u();function i(e,t,i){var a;return(0,j.jsx)(n.AW,{path:t,element:null!==(a=s.data)&&void 0!==a&&a.auth?null==e||m(s,e)?i:(0,j.jsx)(z,{}):(0,j.jsx)(n.Fg,{to:"/"})})}return(0,j.jsxs)("div",{className:"root",children:[(0,j.jsx)(f,{}),(0,j.jsx)(I,{}),s.isLoading&&(0,j.jsx)(x.Z,{}),w(s),s.isSuccess&&(0,j.jsxs)(n.Z5,{children:[(0,j.jsx)(n.AW,{path:"/",element:null!==(e=s.data)&&void 0!==e&&e.auth?(0,j.jsx)(n.Fg,{to:"/map"}):(0,j.jsx)(fe,{})}),(0,j.jsx)(n.AW,{path:"/auth",element:null!==(t=s.data)&&void 0!==t&&t.auth?(0,j.jsx)(n.Fg,{to:"/"}):(0,j.jsx)(ee,{})}),(0,j.jsx)(n.AW,{path:"/timetable",element:(0,j.jsx)(Is,{})}),(0,j.jsx)(n.AW,{path:"/quest",element:(0,j.jsx)(ns,{})}),(0,j.jsx)(n.AW,{path:"/store",element:(0,j.jsx)(bs,{})}),(0,j.jsx)(n.AW,{path:"/map",element:(0,j.jsx)(Wt,{})}),i(null,"/game",(0,j.jsx)(on,{})),i(null,"/scanner",(0,j.jsx)(ys,{})),i("page_worker","/worker",(0,j.jsx)(_s,{})),i("manage_store","/manage_store",(0,j.jsx)(Bt,{})),i("manage_quest","/manage_quest",(0,j.jsx)(ft,{})),i("manage_games","/game_characters",(0,j.jsx)(Qn,{})),i("manage_games","/game_settings",(0,j.jsx)(yn,{})),i("manage_games","/game_screen",(0,j.jsx)(In,{})),i("manage_games","/tourney_screen",(0,j.jsx)(Rn,{})),i("page_worker_quest","/worker_quest",(0,j.jsx)(Ls,{})),i("page_worker_store","/worker_store",(0,j.jsx)(Rs,{})),i("promote_worker","/promote_worker",(0,j.jsx)($t,{role:"worker"})),i("promote_manager","/promote_manager",(0,j.jsx)($t,{role:"manager"})),i("send_any","/send",(0,j.jsx)(ps,{})),i("page_debug","/debug",(0,j.jsx)(ie,{})),i("page_debug","/log",(0,j.jsx)(Ce,{})),i("page_users","/users",(0,j.jsx)(Qs,{})),(0,j.jsx)(n.AW,{path:"*",element:(0,j.jsx)(O,{})})]})]})}}}]);
//# sourceMappingURL=530.31d280cf.chunk.js.map