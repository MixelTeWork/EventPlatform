"use strict";(self.webpackChunkevent_platform=self.webpackChunkevent_platform||[]).push([[99],{9538:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Bn});var n=s(7689),i=s(1933);class a extends Error{}async function l(e,t,s){const n=await fetch(t,{method:e,headers:{"Content-Type":"application/json"},body:void 0===s?null:JSON.stringify(s)});if(!n.ok)throw new a((await n.json()).msg);return n}function r(e,t){return l("POST",e,t)}function o(e,t){return l("DELETE",e,t)}async function c(e,t,s){const n=await l(e,t,s);return await n.json()}function d(e){return c("GET",e)}function u(e,t){return c("POST",e,t)}function h(){return(0,i.useQuery)("user",v)}async function v(){const e=await fetch("/api/user"),t=await e.json();if(401==e.status)return{auth:!1,id:"",balance:0,roles:[],name:"",last_name:"",photo:"",operations:[],group:-1,gameOpened:!1};if(!e.ok)throw new a(t.msg);const s=t;return s.auth=!0,s}function m(e,t){var s,n;return!(null===(s=e.data)||void 0===s||!s.auth||null===(n=e.data)||void 0===n||!n.operations.includes(t))}function x(e){return m(h(),e)}var g=s(5086),j=s(2791);function f(){const{pathname:e}=(0,n.TH)();return(0,j.useEffect)((()=>{window.scrollTo(0,0)}),[e]),null}var y=s(184);function p(e,t){const s=e instanceof a?e.message:"\u041e\u0448\u0438\u0431\u043a\u0430";return t?t(s):s}function A(e,t,s){if(!e.isError)return null;return(t||b)(p(e.error,s))}function b(e){return(0,y.jsx)("h3",{style:{color:"tomato",textAlign:"center"},children:e})}function w(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e=>!!e)).join(" ")}const S={root:"styles_root__hzHjz",visible:"styles_visible__6aD-n",close:"styles_close__3L8iW",message:"styles_message__oF8zk"};let k="";function C(){const[e,t]=(0,j.useState)("");return(0,j.useEffect)((()=>{const e=setInterval((()=>{const e=function(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}("MESSAGE_TO_FRONTEND");e!=k&&(k=e||"",t(k))}),1e3);return()=>{clearInterval(e)}}),[t]),(0,y.jsxs)("div",{className:w(S.root,""!=e&&S.visible),children:[(0,y.jsx)("button",{className:S.close,onClick:()=>t("")}),(0,y.jsx)("div",{className:S.message,children:_(e)})]})}function _(e){return'"'==e.at(0)&&(e=e.slice(1)),'"'==e.at(-1)&&(e=e.slice(0,-1)),e}const I={root:"styles_root__4DGhY"};function N(){const e=(0,n.s0)();return(0,y.jsx)("div",{className:I.root,children:(0,y.jsx)("button",{onClick:()=>e(-1),className:"button button_light",children:"\u041d\u0430\u0437\u0430\u0434"})})}var E=s(1087);const F={root:"styles_root__Zvl9c",forStaff:"styles_forStaff__LB5NA",forDev:"styles_forDev__dHemG",home:"styles_home__o+-s7",block:"styles_block__a1SM7",balance:"styles_balance__PLLCC",user:"styles_user__0ltHf",img:"styles_img__vhWmb",menu:"styles_menu__WWgPh",menuVisible:"styles_menuVisible__mMGZn"},Q=s.p+"static/media/avatar.b8d0a59b442a96cc65e6.png";const L={root:"styles_root__BdzzK",spinner:"styles_spinner__rlI86","lds-ring":"styles_lds-ring__jnLuB"};function B(e){let{color:t,zIndex:s,block:n,r:i=0}=e;return(0,y.jsx)("div",{className:L.root,style:{position:n?"absolute":"fixed",borderRadius:i},children:(0,y.jsxs)("div",{className:L.spinner,style:{"--color":t,zIndex:s},children:[(0,y.jsx)("div",{}),(0,y.jsx)("div",{}),(0,y.jsx)("div",{}),(0,y.jsx)("div",{})]})})}function D(){return(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,y.jsx)("path",{d:"M240-200h120v-200q0-17 11.5-28.5T400-440h160q17 0 28.5 11.5T600-400v200h120v-360L480-740 240-560v360Zm-80 0v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H560q-17 0-28.5-11.5T520-160v-200h-80v200q0 17-11.5 28.5T400-120H240q-33 0-56.5-23.5T160-200Zm320-270Z"})})}function J(e){var t,s,a,l;let{homeBtn:o=!1,forStaff:c=!1,forDev:d=!1}=e;const[u,v]=(0,j.useState)(!1),x=(0,n.s0)(),g=function(e){const t=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await r("/api/logout"),onSuccess:()=>{t.setQueryData("user",(e=>({auth:!1,id:"",balance:0,roles:[],name:"",last_name:"",photo:"",operations:[],group:-1,gameOpened:!1}))),null===e||void 0===e||e()}})}((()=>{v(!1)})),f=h();return(0,y.jsxs)("div",{className:w(F.root,c&&F.forStaff,d&&F.forDev),children:[(0,y.jsx)(E.rU,{to:"/",className:F.home,children:o&&(0,y.jsx)(D,{})}),(0,y.jsxs)("span",{className:F.block,children:[(0,y.jsxs)("div",{className:w(F.balance,"title"),children:[(null===(t=f.data)||void 0===t?void 0:t.balance)||0,"\u041c"]}),(0,y.jsxs)("button",{className:w(F.user,"title"),onClick:()=>{var e;return null!==(e=f.data)&&void 0!==e&&e.auth?v((e=>!e)):x("/")},children:[(0,y.jsx)("span",{children:null!==(s=f.data)&&void 0!==s&&s.auth?null===(a=f.data)||void 0===a?void 0:a.name:"\u0412\u043e\u0439\u0442\u0438"}),(0,y.jsx)("img",{className:F.img,src:(null===(l=f.data)||void 0===l?void 0:l.photo)||Q,alt:"avatar"})]}),(0,y.jsxs)("div",{className:w(F.menu,u&&F.menuVisible),children:[m(f,"page_debug")&&(0,y.jsx)(E.rU,{to:"/debug",children:"</>"}),m(f,"page_worker")&&(0,y.jsx)(E.rU,{to:"/worker",children:"[-^-]"}),(0,y.jsx)("button",{onClick:()=>g.mutate(),disabled:"idle"!=g.status&&"error"!=g.status,children:"\u0412\u044b\u0439\u0442\u0438"})]})]}),"loading"==g.status&&(0,y.jsx)(B,{})]})}const T={root:"styles_root__xvR2N",hasFooter:"styles_hasFooter__lMS3o",body:"styles_body__S-p4X",body_centered:"styles_body_centered__NzRPU",body_centeredPage:"styles_body_centeredPage__R-EzO"};function R(e){let{children:t,className:s,forStaff:n=!1,forDev:i=!1,homeBtn:a=!1,styles:l,centered:r=!1,centeredPage:o=!1,height100:c=!1,gap:d=0,header:u,footer:h}=e;return void 0===u&&(u=(0,y.jsx)(J,{homeBtn:a,forStaff:n,forDev:i})),(0,y.jsxs)("div",{className:w(T.root,!!h&&T.hasFooter),style:{...l,maxHeight:c?"100dvh":""},children:[u||(0,y.jsx)("div",{}),(0,y.jsx)("div",{className:w(T.body,s,r&&T.body_centered,o&&T.body_centeredPage,n&&"forStaff",i&&"forDev"),style:{gap:d,maxHeight:c?"100%":""},children:t}),h]})}function G(){return(0,y.jsx)(R,{centered:!0,header:(0,y.jsx)(N,{}),children:"\u0422\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043d\u0435\u0442"})}function M(){return(0,y.jsx)(R,{centered:!0,header:(0,y.jsx)(N,{}),children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u043d\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"})}const q={back:"styles_back__uuJZO",form:"styles_form__n7Rcu"};function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u0418\u043d\u0434\u0438\u043a\u043e\u043d";(0,j.useEffect)((()=>{const s=document.title,n="object"!=typeof e?[e]:e;return document.title=[t,...n].filter((e=>!!e)).join(" | "),()=>{document.title=s}}),[e,t])}const U={form:"styles_form__cFFCH",field:"styles_field__5rpBk"};function H(e){let{className:t,style:s,onSubmit:n,children:i}=e;const a=(0,j.useRef)(null);return(0,y.jsx)("form",{className:w(U.form,t),style:s,ref:a,onSubmit:e=>{if(e.preventDefault(),!a.current)return;const t=new FormData(a.current);n(t)},children:i})}function K(e){let{label:t,className:s,style:n,children:i}=e;return(0,y.jsxs)("label",{className:w(U.field,s),style:n,children:[(0,y.jsx)("span",{children:t}),i]})}function W(){Y("\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f");const[e,t]=(0,j.useState)(""),s=(0,j.useRef)(null),n=(0,j.useRef)(null),l=function(e){const t=(0,i.useQueryClient)(),s=(0,i.useMutation)({mutationFn:async e=>{const t=await u("/api/auth",e);return t.auth=!0,t},onSuccess:e=>{t.setQueryData("user",e)},onError:t=>{null===e||void 0===e||e(t instanceof a?t.message:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437")}});return s}(t);return(0,y.jsxs)(R,{header:null,centered:!0,centeredPage:!0,gap:"2em",children:[(0,y.jsx)(E.rU,{to:"/",className:q.back}),(0,y.jsx)("h2",{children:"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435!"}),(0,y.jsx)("h3",{children:"\u0412\u044b \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u043b\u0438 \u044d\u0442\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c"}),e&&(0,y.jsx)("h3",{children:e}),l.isLoading&&(0,y.jsx)(B,{}),(0,y.jsxs)(H,{className:q.form,onSubmit:function(){var e,t;const i=(null===(e=s.current)||void 0===e?void 0:e.value)||"",a=(null===(t=n.current)||void 0===t?void 0:t.value)||"";l.mutate({login:i,password:a})},children:[(0,y.jsx)(K,{label:"\u041b\u043e\u0433\u0438\u043d",children:(0,y.jsx)("input",{ref:s,type:"text",name:"login",required:!0})}),(0,y.jsx)(K,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",children:(0,y.jsx)("input",{ref:n,type:"password",name:"password",required:!0})}),(0,y.jsx)("button",{type:"submit",className:"button button_light button_small",disabled:"loading"==l.status,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}const P={root:"styles_root__7P05R"},V={root:"styles_root__O0923",hidden:"styles_hidden__eYJaf",open:"styles_open__35Vcu",popup:"styles_popup__L-0H0",header:"styles_header__o87wG",close:"styles_close__w0Yhz",body:"styles_body__t75Nd"};function z(e){let{children:t,open:s=!1,close:n,title:i="",footer:a,closeOnOutclick:l=!1}=e;const r=(0,j.useRef)(null),[o,c]=(0,j.useState)(s),[d,u]=(0,j.useState)(!s);return(0,j.useEffect)((()=>{if(s){u(!1);const e=setTimeout((()=>c(!0)),100);return()=>clearTimeout(e)}c(!1);const e=setTimeout((()=>u(!0)),250);return()=>clearTimeout(e)}),[s]),(0,y.jsx)("div",{ref:r,className:w(V.root,o&&V.open,d&&V.hidden),onClick:e=>{l&&e.target==r.current&&(null===n||void 0===n||n())},children:(0,y.jsxs)("div",{className:V.popup,children:[(i||n)&&(0,y.jsxs)("div",{className:V.header,children:["string"==typeof i?(0,y.jsx)("h3",{children:i}):i,n&&(0,y.jsx)("button",{className:V.close,onClick:n})]}),(0,y.jsx)("div",{className:V.body,children:t}),(0,y.jsx)("div",{className:V.footer,children:a})]})})}function X(){const[e,t]=(0,j.useState)(""),[s,n]=(0,j.useState)("Log"),i=(0,j.useRef)(null),a=(e,s)=>async()=>{n(e),t("Loading");try{const e=await fetch(s),n=await e.text();t(n),setTimeout((()=>{var e,t,s,n;return null===(e=i.current)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.scrollTo(0,null===(s=i.current)||void 0===s||null===(n=s.parentElement)||void 0===n?void 0:n.scrollHeight)}),150)}catch(a){t(JSON.stringify(a))}};return(0,y.jsxs)(R,{centered:!0,gap:"1rem",className:P.root,homeBtn:!0,forDev:!0,children:[(0,y.jsx)(E.rU,{to:"/users",children:"Users"}),(0,y.jsx)(E.rU,{to:"/log",children:"Log"}),(0,y.jsx)("button",{onClick:a("Log errors","/api/debug/log_errors"),children:"Log errors"}),(0,y.jsx)("button",{onClick:a("Log info","/api/debug/log_info"),children:"Log info"}),(0,y.jsx)("button",{onClick:a("Log requests","/api/debug/log_requests"),children:"Log requests"}),(0,y.jsx)("button",{onClick:a("Log frontend","/api/debug/log_frontend"),children:"Log frontend"}),(0,y.jsx)(z,{title:s,open:""!=e,close:()=>t(""),children:(0,y.jsx)("pre",{ref:i,children:e})})]})}const O={root:"styles_root__h8xNs",auth:"styles_auth__quDS1",logo:"styles_logo__2UaYh",btn:"styles_btn__xIQ7b"},Z="data:image/png;base64,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",$="data:image/png;base64,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";async function ee(e,t){const s=await new Promise((t=>{var s=new FileReader;s.addEventListener("loadend",(e=>{t({result:s.result,error:s.error})})),s.readAsDataURL(e)}));return s.error?(console.error(s.error),null):{data:s.result,name:t}}function te(e,t){const[s,n]=(0,j.useState)(e);return t?{v:s,set:e=>{n(e),t()}}:{v:s,set:n}}function se(e,t){const[s,n]=(0,j.useState)(e);return t?{v:s,set:function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n((n=>{const i=e instanceof Function?e(n):e;return s||t(i,n),i}))}}:{v:s,set:n}}const ne={root:"styles_root__ek8XR",open:"styles_open__DpDD1",body:"styles_body__kj341",msgWide:"styles_msgWide__xAoa-",msg1:"styles_msg1__Ennl+",msg2box:"styles_msg2box__jxXEx",msg2:"styles_msg2__2yRTi",msg_error:"styles_msg_error__92wvX",msg_error_open:"styles_msg_error_open__6-pHY",msg3:"styles_msg3__jxfL8",openFile:"styles_openFile__Wzz+z"},ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAeCAMAAABHRo19AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFOQABaQEE//7a/PLIAAAA9LBVbEE5j0E66NexUQIDmmtdrod1Yx8d9rxq//3Y9bRc//vT//3U//7Y9K9TxC+D4AAAABR0Uk5T/////wD+//////////7iO6kTZpGXerr/AAABG0lEQVR4nLXU7a6DIAyA4a4FrMBU9P7v9QCK4GfQk72/qOGZRDNBCOFGTA1OjB3mhnLY5HcKCLi4NrrL7bvGgF24sZozOPQdapViLIZNjMPoQMQztxDz+EtoIeWxgtNMuDeIDol5vcSVWDMhQk+oi9+rxQDKY3nA9AtsmC0oZvUGx0Fj2v4Ya2ve49hPsL5/YP7V4vUDu8VxP9tiiLhNLcde54DbnPV4HRL+pBa8zh43nyJjzLpuzjDe4LLX2Frb6D3WSDW4ofjOuj32VeDlW7LDTER8hq0OmTn2B5RyElu8L+Nm+wFjKWX/BFNu6H3iASaZ8zBUi3WJJ5Gxaa4Kf+F55b+r4hBIxrpO8Zdu4nXVuTNcWX+0AqZ/4D/l7BfA1CFE1AAAAABJRU5ErkJggg==",ae=s.p+"static/media/avatar.b8d0a59b442a96cc65e6.png";var le=s(6564);const re={root:"styles_root__ggNxk",small:"styles_small__zhXkP",type2:"styles_type2__Nnbbx",box:"styles_box__MGwpJ",box_back:"styles_box_back__kKr9l",outline_back:"styles_outline_back__DoVQi"};function oe(e){let{children:t,type2:s=!1,small:n=!1,dark:i=!1,highlight:a=!1,className:l}=e;return(0,y.jsx)("div",{className:w(re.root,n&&re.small,l),children:t})}function ce(e){let{open:t}=e;const s=te(""),n=function(e){const t=(0,i.useQueryClient)(),s=(0,i.useMutation)({mutationFn:async e=>{const t=await u("/api/auth_ticket",e);return t.auth=!0,t},onSuccess:e=>{t.setQueryData("user",e)},onError:t=>{null===e||void 0===e||e(t instanceof a?t.message:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437")}});return s}(s.set);return(0,y.jsxs)("div",{className:w(ne.root,t&&ne.open),children:[n.isLoading&&(0,y.jsx)(B,{}),(0,y.jsxs)("div",{className:ne.body,children:[(0,y.jsx)(oe,{className:ne.msgWide,children:(0,y.jsxs)("div",{className:ne.msg1,children:[(0,y.jsx)("img",{src:ie,alt:"\u0418\u043d\u0434\u0438 \u043a\u043e\u043d"}),(0,y.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u044b..."})]})}),(0,y.jsx)(oe,{type2:!0,className:ne.msg2box,children:(0,y.jsxs)("div",{className:ne.msg2,children:[(0,y.jsx)("img",{src:ae,alt:"Avatar"}),(0,y.jsx)("h2",{className:"title",children:"\u0410\u0434\u043c\u0438\u043d"}),(0,y.jsx)("span",{children:"\u0442\u0435\u043a\u0441\u0442"})]})}),(0,y.jsx)(oe,{type2:!0,className:w(ne.msg2box,ne.msg_error,s.v&&ne.msg_error_open),children:(0,y.jsxs)("div",{className:ne.msg2,children:[(0,y.jsx)("img",{src:ae,alt:"Avatar"}),(0,y.jsx)("h2",{className:"title",children:"\u0410\u0434\u043c\u0438\u043d"}),(0,y.jsxs)("span",{children:["\u0412 \u0434\u043e\u0441\u0442\u0443\u043f\u0435 \u043e\u0442\u043a\u0430\u0437\u0430\u043d\u043e! ",s.v]})]})}),(0,y.jsx)(oe,{className:w(ne.msg3,ne.msgWide),children:(0,y.jsxs)("label",{className:ne.openFile,children:[(0,y.jsx)("div",{className:"title",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u0438\u043b\u0435\u0442"}),(0,y.jsx)("input",{type:"file",style:{display:"none"},accept:"image/png, image/jpeg, image/gif",disabled:n.isLoading,onChange:async e=>{var t,i;s.set("");const a=await ee(null===(t=e.target)||void 0===t||null===(i=t.files)||void 0===i?void 0:i[0],"");if(e.target.value="",!a)return;const l=new le.ZP,r=await l.decodeFromImage(a.data),o=null===r||void 0===r?void 0:r.data;if(!o||!o.match(/\d+-\d+-\d+-\d+-\d+/))return s.set("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 QR-\u043a\u043e\u0434\u0430 \u0438\u043b\u0438 \u043e\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439."),void fetch("/api/auth_ticket_err",{method:"POST"});n.mutate({code:o})}})]})})]})]})}function de(e,t){const[s,n]=(0,j.useState)(e);let i=n;return t&&(i=e=>{n(e),t()}),{v:s,set:i,setT:()=>i(!0),setF:()=>i(!1),toggle:()=>i((e=>!e))}}function ue(){const e=de(!1);return(0,y.jsxs)("div",{className:O.root,children:[(0,y.jsx)(E.rU,{to:"/auth",className:O.auth}),(0,y.jsx)("div",{}),(0,y.jsx)("img",{className:O.logo,src:Z,alt:"\u0418\u043d\u0434\u0438 \u043a\u043e\u043d"}),(0,y.jsx)("button",{className:O.btn,onClick:e.setT,children:(0,y.jsx)("img",{src:$,alt:"\u0412\u0445\u043e\u0434"})}),(0,y.jsx)(ce,{open:e.v})]})}function he(e){const t=e;return t.date=new Date(e.date),t}function ve(e,t){return`${e}`.padStart(t,"0")}function me(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){return e?arguments.length>1&&void 0!==arguments[1]&&arguments[1]?`${e.getFullYear()}.${ve(e.getMonth()+1,2)}.${ve(e.getDate(),2)}`:`${ve(e.getDate(),2)}.${ve(e.getMonth()+1,2)}.${e.getFullYear()}`:""}(e,arguments.length>2&&void 0!==arguments[2]&&arguments[2])+" "+function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=`${ve(e.getHours(),2)}:${ve(e.getMinutes(),2)}`;return t?s+`:${ve(e.getSeconds(),2)}`:s}(e,t)}const xe={btns:"styles_btns__aRipu",table:"styles_table__QLr-h",changesCell:"styles_changesCell__0wQDJ",changes:"styles_changes__EyS9f",btn:"styles_btn__H7b72"};function ge(){var e,t,s;Y("Log");const n=function(){const e=(0,i.useQueryClient)();return()=>{e.removeQueries("log"),e.invalidateQueries("logLen")}}(),a=te(0),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=(0,i.useQueryClient)(),s=async e=>(await d(`/api/debug/log?p=${e}`)).map(he);return t.prefetchQuery(["log",e-1],(()=>s(e-1))),t.prefetchQuery(["log",e+1],(()=>s(e+1))),(0,i.useQuery)(["log",e],(()=>s(e)))}(a.v),r=null!==(e=null===(t=(0,i.useQuery)("logLen",(async()=>await d("/api/debug/log_len"))).data)||void 0===t?void 0:t.len)&&void 0!==e?e:0;return(0,y.jsxs)(R,{centeredPage:!0,homeBtn:!0,forDev:!0,children:[A(l),(0,y.jsxs)("div",{className:xe.btns,children:[(0,y.jsx)("button",{disabled:l.isFetching,className:"button button_small",onClick:()=>{n(),a.set(0),l.refetch()},children:"Update"}),(0,y.jsx)("button",{disabled:l.isFetching,className:"button button_small",onClick:()=>a.set(0),children:"<<"}),(0,y.jsx)("button",{disabled:l.isFetching,className:"button button_small",onClick:()=>a.set((e=>Math.max(e-1,0))),children:"<"}),(0,y.jsxs)("span",{children:[a.v+1,"/",r]}),(0,y.jsx)("button",{disabled:l.isFetching,className:"button button_small",onClick:()=>a.set((e=>Math.min(e+1,r-1))),children:">"}),(0,y.jsx)("button",{disabled:l.isFetching,className:"button button_small",onClick:()=>a.set(r-1),children:">>"})]}),l.isFetching&&(0,y.jsx)("h3",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),(0,y.jsxs)("table",{className:xe.table,children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{style:{minWidth:"9.5em"},children:"Date"}),(0,y.jsx)("th",{style:{minWidth:"4em"},children:"Action"}),(0,y.jsx)("th",{style:{minWidth:"9.5em"},children:"Table[id]"}),(0,y.jsx)("th",{children:"User[id]"}),(0,y.jsx)("th",{style:{width:"18em"},children:"Changes"})]})}),(0,y.jsx)("tbody",{children:null===(s=l.data)||void 0===s?void 0:s.map((e=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:me(e.date,!0,!0)}),(0,y.jsx)("td",{children:je(e.actionCode)}),(0,y.jsxs)("td",{children:[e.tableName,"[",e.recordId,"]"]}),(0,y.jsxs)("td",{children:[e.userName," [",e.userId,"]"]}),(0,y.jsx)("td",{className:xe.changesCell,children:(0,y.jsxs)("div",{className:xe.changes,children:[(0,y.jsx)("input",{type:"checkbox",className:xe.toggleInp,id:`item${e.id}`}),(0,y.jsx)("div",{children:e.changes.map((e=>(0,y.jsxs)("div",{children:[e[0],": ",JSON.stringify(e[1])," ","->"," ",JSON.stringify(e[2])]},e[0])))}),e.changes.length>0&&(0,y.jsx)("label",{className:xe.btn,htmlFor:`item${e.id}`,children:e.changes.length})]})})]},e.id)))})]})]})}function je(e){return(0,y.jsx)("span",{style:{color:{added:"#008000",deleted:"#b30000",updated:"#006fb3",restored:"#990099"}[e]},children:e})}function fe(e){return e instanceof Array?e.map((e=>`${e}`)):`${e}`}function ye(e,t){t=fe(t),e.invalidateQueries(t,{exact:!0})}function pe(e,t,s){var n;t=fe(t),"success"==(null===(n=e.getQueryState(t))||void 0===n?void 0:n.status)&&e.setQueryData(t,(e=>e?[...e,s]:[s]))}function Ae(e,t,s){var n;t=fe(t),"success"==(null===(n=e.getQueryState(t))||void 0===n?void 0:n.status)&&e.setQueryData(t,(e=>(null===e||void 0===e?void 0:e.map((e=>e.id==s.id?s:e)))||[]))}function be(e,t,s){var n;t=fe(t),"success"==(null===(n=e.getQueryState(t))||void 0===n?void 0:n.status)&&e.setQueryData(t,(e=>e?e.filter((e=>e.id!=s)):[]))}function we(){return(0,i.useQuery)("quests",(async()=>await d("/api/quests")))}function Se(){return(0,i.useQuery)("quests_full",(async()=>await d("/api/quests_full")))}function ke(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await o(`/api/quest/${e}`),onSuccess:()=>{be(n,"quests_full",e),ye(n,"quests"),null===t||void 0===t||t()},onError:s})}function Ce(e,t){return(0,i.useMutation)({mutationFn:async e=>await r(`/api/quest/${e}/open`),onSuccess:e,onError:t})}function _e(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,i.useQuery)(["dialogs",`${e}`],(async()=>await d(`/api/dialog/${e}`)),{enabled:t&&e>=0})}function Ie(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>await u(`/api/dialog/${e}`,t),onSuccess:s=>{n.setQueryData(["dialogs",`${e}`],s),null===t||void 0===t||t(s)},onError:s})}function Ne(){return(0,i.useQuery)(["dialogCharacters"],(async()=>{const e=await d("/api/dialog/characters"),t={};return e.forEach((e=>t[e.id]=e)),t}))}function Ee(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await o(`/api/dialog/character/${e}`),onSuccess:()=>{var s;"success"==(null===(s=n.getQueryState("dialogCharacters"))||void 0===s?void 0:s.status)&&n.setQueryData("dialogCharacters",(t=>(delete(t=t||{})[e],t))),null===t||void 0===t||t()},onError:s})}function Fe(){const e=Ne();(0,j.useEffect)((()=>{if(!e.data)return;const t=Object.values(e.data).map((e=>{const t=document.createElement("link");return t.rel="preload",t.href=e.img,t.as="image",document.head.appendChild(t),t}));return()=>{t.forEach((e=>document.head.removeChild(e)))}}),[e.data])}const Qe={root:"styles_root__oNkfm",img:"styles_img__46Cxj",textarea:"styles_textarea__sNjzZ",description_count:"styles_description_count__Nnz4M",description_count_too_many:"styles_description_count_too_many__udmKa",form:"styles_form__EJp7b"};function Le(){const e=(0,j.useRef)(null),t=(0,j.useRef)(null),s=(0,j.useRef)(null),n=te(""),a=de(!1),l=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await u("/api/quest",e),onSuccess:t=>{pe(s,"quests_full",t),ye(s,"quests"),null===e||void 0===e||e(t)},onError:t})}((()=>{a.setF(),e.current&&(e.current.value=""),t.current&&(t.current.value=""),s.current&&(s.current.checked=!1),n.set("")}));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:Qe.root,onClick:a.setT,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),(0,y.jsxs)(z,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430",open:a.v,close:a.setF,children:[l.isLoading&&(0,y.jsx)(B,{}),A(l),(0,y.jsxs)(H,{className:Qe.form,onSubmit:()=>{var i,a,r;const o=null===(i=e.current)||void 0===i?void 0:i.value,c=null===(a=t.current)||void 0===a?void 0:a.valueAsNumber,d=null===(r=s.current)||void 0===r?void 0:r.checked;o&&void 0!==c&&void 0!==d&&l.mutate({name:o,reward:c,hidden:d,description:n.v})},children:[(0,y.jsx)(K,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",children:(0,y.jsx)("input",{ref:e,required:!0,type:"text"})}),(0,y.jsx)(K,{label:"\u041d\u0430\u0433\u0440\u0430\u0434\u0430",children:(0,y.jsx)("input",{ref:t,required:!0,type:"number"})}),(0,y.jsx)(K,{children:(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{ref:s,type:"checkbox"}),(0,y.jsx)("span",{children:"\u0421\u043a\u0440\u044b\u0442\u044b\u0439"})]})}),(0,y.jsxs)(K,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",children:[(0,y.jsx)("textarea",{className:Qe.textarea,cols:40,rows:10,value:n.v,onChange:e=>n.set(e.target.value)}),(0,y.jsx)("div",{className:Qe.description_count,children:(0,y.jsxs)("span",{children:[(0,y.jsx)("span",{className:n.v.length>256?Qe.description_count_too_many:"",children:n.v.length}),(0,y.jsx)("span",{children:"/256"})]})})]}),(0,y.jsx)(K,{children:(0,y.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})]})]})}const Be={root:"styles_root__WvdMz",body:"styles_body__1LPvJ",selectName:"styles_selectName__u7s4v",textarea:"styles_textarea__GqFav",buttons:"styles_buttons__9yTCF",btnUp:"styles_btnUp__nrklw",btnDown:"styles_btnDown__V5tHT",btnPlus:"styles_btnPlus__oBVqe",doubleBtn:"styles_doubleBtn__WET5a"};function De(){return(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,y.jsx)("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})})}function Je(e){var t;let{data:s,deleteNode:n,moveUp:i,addUp:a,moveDown:l,addDown:r}=e;const o=Ne(),c=se(s.characterId,(e=>s.characterId=e)),d=se(s.text,(e=>s.text=e)),u=null===(t=o.data)||void 0===t?void 0:t[c.v];return(0,j.useEffect)((()=>{c.set(s.characterId),d.set(s.text)}),[s]),(0,y.jsxs)("div",{className:Be.root,children:[(0,y.jsx)("img",{src:null===u||void 0===u?void 0:u.img,alt:null===u||void 0===u?void 0:u.name}),(0,y.jsxs)("div",{className:Be.body,children:[(0,y.jsx)("select",{className:Be.selectName,value:c.v,onChange:e=>c.set(parseInt(e.target.value,10)),children:Object.values(o.data||{}).map((e=>(0,y.jsx)("option",{value:e.id,children:e.name},e.id)))}),(0,y.jsx)("textarea",{className:Be.textarea,placeholder:"\u0420\u0435\u0447\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",value:d.v,onChange:e=>d.set(e.target.value)})]}),(0,y.jsxs)("div",{className:Be.buttons,children:[(0,y.jsxs)("span",{className:Be.doubleBtn,children:[(0,y.jsx)("button",{className:Be.btnUp,onClick:i}),(0,y.jsx)("button",{className:Be.btnPlus,onClick:a})]}),(0,y.jsx)("button",{onClick:n,children:(0,y.jsx)(De,{})}),(0,y.jsxs)("span",{className:Be.doubleBtn,children:[(0,y.jsx)("button",{className:Be.btnPlus,onClick:r}),(0,y.jsx)("button",{className:Be.btnDown,onClick:l})]})]})]})}function Te(){return(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,y.jsx)("path",{d:"m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})})}function Re(){return(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,y.jsx)("path",{d:"M840-680v480q0 33-23.5 56.5T760-120H200q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h480l160 160Zm-80 34L646-760H200v560h560v-446ZM480-240q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35ZM240-560h360v-160H240v160Zm-40-86v446-560 114Z"})})}const Ge={root:"styles_root__CDE3U",error:"styles_error__6s3zt",img:"styles_img__Thun3",id:"styles_id__pa79Q",inputs:"styles_inputs__7ickr",changed:"styles_changed__s9MgQ",buttons:"styles_buttons__T7wSY",select:"styles_select__rEXhG"},Me={button:"styles_button__MKylh"};function qe(e){let{title:t,mutationFn:s,mutatateParams:n,itemId:i,onSuccess:a,onError:l,open:r,close:o}=e;const c=s(i,(e=>{null===o||void 0===o||o(),null===a||void 0===a||a(e)}),l);return(0,j.useEffect)((()=>{r||c.reset()}),[r]),(0,y.jsxs)(z,{open:r,close:o,title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",closeOnOutclick:!0,children:[A(c),c.isLoading&&(0,y.jsx)(B,{}),(0,y.jsxs)(H,{onSubmit:()=>{c.mutate(n)},children:["string"==typeof t?(0,y.jsx)("h2",{children:t}):t,(0,y.jsx)("button",{type:"submit",className:Me.button,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})}function Ye(e){var t;let{character:s,deleteNew:n}=e;const a=de(!1),l=de(!1),r=te(s.id),o=te(s.name,a.setT),c=te(null,a.setT),d=te(s.orien,a.setT),h=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await u("/api/dialog/character",e),onSuccess:t=>{var n;"success"==(null===(n=s.getQueryState("dialogCharacters"))||void 0===n?void 0:n.status)&&s.setQueryData("dialogCharacters",(e=>((e=e||{})[t.id]=t,e))),null===e||void 0===e||e(t)},onError:t})}(n),v=function(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>await u(`/api/dialog/character/${e}`,t),onSuccess:e=>{var s;"success"==(null===(s=n.getQueryState("dialogCharacters"))||void 0===s?void 0:s.status)&&n.setQueryData("dialogCharacters",(t=>((t=t||{})[e.id]=e,t))),null===t||void 0===t||t(e)},onError:s})}(r.v,m,(()=>m()));function m(e){const t=e||s;r.set(t.id),o.set(t.name),d.set(t.orien),a.setF()}return(0,j.useEffect)(m,[s]),(0,y.jsxs)("div",{className:w(Ge.root,a.v&&Ge.changed),children:[h.isLoading&&(0,y.jsx)(B,{block:!0,r:"0.5rem"}),A(h,(e=>(0,y.jsxs)("div",{className:Ge.error,children:[(0,y.jsx)("div",{children:e}),(0,y.jsx)("button",{onClick:()=>h.reset(),children:"\u041e\u041a"})]}))),v.isLoading&&(0,y.jsx)(B,{block:!0,r:"0.5rem"}),A(v,(e=>(0,y.jsxs)("div",{className:Ge.error,children:[(0,y.jsx)("div",{children:e}),(0,y.jsx)("button",{onClick:()=>v.reset(),children:"\u041e\u041a"})]}))),(0,y.jsx)(qe,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430: "+o.v,itemId:s.id,mutationFn:Ee,open:l.v,close:l.setF}),(0,y.jsx)("div",{className:Ge.id,children:s.id}),(0,y.jsxs)("label",{className:Ge.img,children:[(s.img||c.v)&&(0,y.jsx)("img",{src:(null===(t=c.v)||void 0===t?void 0:t.data)||s.img,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),(0,y.jsx)("input",{type:"file",style:{display:"none"},accept:"image/png, image/jpeg, image/gif",onChange:async e=>{var t,s;c.set({data:"",name:""}),c.set(await ee(null===(t=e.target)||void 0===t||null===(s=t.files)||void 0===s?void 0:s[0],"")),e.target.value=""}})]}),(0,y.jsxs)("div",{className:Ge.inputs,children:[(0,y.jsx)("div",{children:"\u0418\u043c\u044f"}),(0,y.jsx)("input",{type:"text",value:o.v,onChange:e=>o.set(e.target.value)}),(0,y.jsx)("span",{children:"\u041e\u0440\u0438\u0435\u043d"}),(0,y.jsxs)("select",{className:Ge.select,value:d.v,onChange:e=>d.set(parseInt(e.target.value,10)),children:[(0,y.jsx)("option",{value:0,children:"\u0421\u043b\u0435\u0432\u0430"}),(0,y.jsx)("option",{value:2,children:"\u0426\u0435\u043d\u0442\u0440"}),(0,y.jsx)("option",{value:1,children:"\u0421\u043f\u0440\u0430\u0432\u0430"})]})]}),(0,y.jsx)("div",{className:Ge.buttons,children:r.v>0?(0,y.jsxs)(y.Fragment,{children:[!a.v&&(0,y.jsx)("button",{onClick:l.setT,children:(0,y.jsx)(De,{})}),a.v&&(0,y.jsx)("button",{onClick:()=>{v.mutate({name:o.v,img:c.v||void 0,orien:d.v})},children:(0,y.jsx)(Re,{})}),a.v&&(0,y.jsx)("button",{onClick:()=>m(),children:(0,y.jsx)(Te,{})})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{onClick:()=>{h.mutate({name:o.v,img:c.v||void 0,orien:d.v})},children:(0,y.jsx)(Re,{})}),(0,y.jsx)("button",{onClick:n,children:(0,y.jsx)(De,{})})]})})]})}const Ue={root:"styles_root__qIedB",addBtn:"styles_addBtn__Ci3v5",characters:"styles_characters__rMIjG"};function He(){const e=de(!1),t=Ne(),s=te({}),n=te(1);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:Ue.root,onClick:e.setT,children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\u043c\u0438"}),(0,y.jsxs)(z,{title:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\u043c\u0438",open:e.v,close:e.setF,footer:(0,y.jsx)("button",{className:Ue.addBtn,onClick:()=>{s.set((e=>{const t={...e};return t[-n.v]={id:-n.v,name:"",img:"",orien:1},n.set((e=>e+1)),t}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),children:[t.isLoading&&(0,y.jsx)(B,{}),A(t),t.isSuccess&&(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:Ue.characters,children:[Object.values(t.data).map((e=>(0,y.jsx)(Ye,{character:e},e.id))),Object.values(s.v).map((e=>(0,y.jsx)(Ye,{character:e,deleteNew:()=>s.set((t=>(delete t[e.id],{...t})))},e.id)))]})})]})]})}const Ke={root:"styles_root__6dYbo",close:"styles_close__T2XDu",body:"styles_body__-c4ky",nodes:"styles_nodes__0Che8",addBtn:"styles_addBtn__bt4O2"};function We(e){const t=te(0),s=te({_data:null,_onClose:void 0,_onCloseMain:void 0,el:()=>s.v._data?(0,y.jsx)(Pe,{data:s.v._data,close:s.v.close}):(0,y.jsx)(y.Fragment,{}),open:(e,t)=>s.set((s=>(s._data=e,s._onClose=t,s))),close:()=>s.set((e=>{var t,s;return e._data?(e._data=null,null===(t=e._onClose)||void 0===t||t.call(e),null===(s=e._onCloseMain)||void 0===s||s.call(e),e):e}))},(()=>t.set((e=>e+1))));return s.v._onCloseMain=e,s.v}function Pe(e){let{data:t,close:s}=e;const n=Ne(),i=de(!1);function a(e,s){s<0||(t.nodes.splice(s,0,t.nodes.splice(e,1)[0]),i.toggle())}function l(e){t.nodes.splice(e,0,{characterId:1,text:""}),i.toggle()}return(0,y.jsxs)("div",{className:Ke.root,children:[n.isLoading&&(0,y.jsx)(B,{}),A(n),(0,y.jsx)("button",{className:Ke.close,onClick:s}),(0,y.jsxs)("div",{className:Ke.body,children:[(0,y.jsx)("h1",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u0430\u043b\u043e\u0433\u0430"}),(0,y.jsx)(He,{}),(0,y.jsx)("div",{className:Ke.nodes,children:t.nodes.map(((e,s)=>(0,y.jsx)(Je,{data:e,deleteNode:()=>function(e){t.nodes.splice(e,1),i.toggle()}(s),moveUp:()=>a(s,s-1),moveDown:()=>a(s,s+1),addUp:()=>l(s),addDown:()=>l(s+1)},s)))}),(0,y.jsx)("button",{className:Ke.addBtn,onClick:()=>{t.nodes.push({characterId:1,text:""}),i.toggle()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u043f\u043b\u0438\u043a\u0443"})]})]})}function Ve(e){return JSON.parse(JSON.stringify(e))}const ze={root:"styles_root__Ahfmg"},Xe={root:"styles_root__H6WP2",close:"styles_close__LpN36",img:"styles_img__lP65O",img_right:"styles_img_right__KYI0+",img_center:"styles_img_center__lkowo",dialog_container:"styles_dialog_container__rAyPs",dialog:"styles_dialog__9ovTV",dialog__title:"styles_dialog__title__yj+t3",dialog__body:"styles_dialog__body__HiqPJ",dialog__text:"styles_dialog__text__gX-Zr",dialog__btns:"styles_dialog__btns__n6R2J",dialog__next:"styles_dialog__next__jEXew",dialog__prev:"styles_dialog__prev__EqKdl"};function Oe(){const e=Ne(),t=te(0),s=te({_data:null,_dialogId:-1,_characters:e,_onClose:void 0,el:()=>s.v._data?(0,y.jsx)($e,{data:s.v._data,close:s.v.close,characters:s.v._characters}):s.v._dialogId>=0?(0,y.jsx)(Ze,{dialogId:s.v._dialogId,close:s.v.close,characters:s.v._characters}):(0,y.jsx)(y.Fragment,{}),run:(e,t)=>s.set((s=>(s._dialogId=e,s._onClose=t,s))),runLocal:(e,t)=>s.set((s=>(s._data=e,s._onClose=t,s))),close:()=>s.set((e=>{var t;return e._dialogId<0&&!e._data||(null===(t=e._onClose)||void 0===t||t.call(e,e._dialogId),e._onClose=void 0,e._dialogId=-1,e._data=null),e}))},(()=>t.set((e=>e+1))));return s.v._characters=e,s.v}function Ze(e){let{dialogId:t,characters:s,close:n}=e;const i=_e(t);return i.isSuccess?(0,y.jsx)($e,{data:i.data.data,close:n,characters:s}):(0,y.jsxs)("div",{className:Xe.root,children:[(0,y.jsx)("button",{className:Xe.close,onClick:n}),i.isLoading&&(0,y.jsx)(B,{}),A(i)]})}function $e(e){let{data:t,characters:s,close:n}=e;const[i,a]=(0,j.useState)(0),l=t.nodes[i];if((0,j.useEffect)((()=>a(0)),[t]),!s.isSuccess)return(0,y.jsxs)("div",{className:Xe.root,children:[(0,y.jsx)("button",{className:Xe.close,onClick:n}),s.isLoading&&(0,y.jsx)(B,{}),A(s)]});if(!l)return(0,y.jsxs)("div",{className:Xe.root,children:[(0,y.jsx)("button",{className:Xe.close,onClick:n}),(0,y.jsx)("h2",{children:"\u041f\u0443\u0441\u0442\u043e"})]});const r=s.data[l.characterId]||{id:-1,name:"\u0423\u0414\u0410\u041b\u0401\u041d\u041d\u042b\u0419",img:"",orien:1};return(0,y.jsxs)("div",{className:Xe.root,children:[(0,y.jsx)("button",{className:Xe.close,onClick:n}),(0,y.jsx)("div",{className:Xe.dialog_container,children:(0,y.jsxs)("div",{className:Xe.dialog,children:[(0,y.jsx)("img",{className:w(Xe.img,1==r.orien&&Xe.img_right,2==r.orien&&Xe.img_center),src:r.img,alt:r.name}),(0,y.jsx)("div",{className:Xe.dialog__title,children:r.name}),(0,y.jsxs)("div",{className:Xe.dialog__body,children:[(0,y.jsx)("p",{className:Xe.dialog__text,children:l.text}),(0,y.jsxs)("div",{className:Xe.dialog__btns,children:[i>0?(0,y.jsx)("button",{className:Xe.dialog__prev,onClick:()=>a((e=>e-1)),children:"<-"}):(0,y.jsx)("div",{}),i<t.nodes.length-1?(0,y.jsx)("button",{className:Xe.dialog__next,onClick:()=>a((e=>e+1)),children:"\u0414\u0430\u043b\u0435\u0435"}):(0,y.jsx)("button",{className:Xe.dialog__next,onClick:n,children:"\u041a\u043e\u043d\u0435\u0446"})]})]})]})})]})}function et(){return(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,y.jsx)("path",{d:"M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"})})}const tt=2;function st(){const e=de(!1),t=_e(tt,!1),s=te(null),n=Oe(),i=We(e.setT);async function a(e){if(s.v)e(s.v);else if(t.isSuccess&&!t.isStale){const n=Ve(t.data.data);s.set(n),e(n)}else if(t.isIdle||t.isStale||t.isError){const n=await t.refetch();if(n.isSuccess){const t=Ve(n.data.data);s.set(t),e(t)}}}return(0,j.useEffect)((()=>{!e.v&&s.v&&t.isSuccess&&s.set(Ve(t.data.data))}),[e.v]),(0,y.jsxs)(y.Fragment,{children:[t.isFetching&&(0,y.jsx)(B,{}),s.v&&(0,y.jsx)(qe,{title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",itemId:tt,mutatateParams:{data:s.v},mutationFn:Ie,open:e.v,close:e.setF}),(0,y.jsxs)("div",{className:ze.root,children:[(0,y.jsx)("button",{onClick:()=>a(n.runLocal),children:"\u0414\u0438\u0430\u043b\u043e\u0433 \u043f\u0435\u0440\u0435\u0434 \u0438\u0433\u0440\u043e\u0439"}),(0,y.jsx)("button",{onClick:()=>a(i.open),children:(0,y.jsx)(et,{})})]}),n.el(),i.el()]})}const nt={root:"styles_root__Fv2Pv"},it=1;function at(){const e=de(!1),t=_e(it,!1),s=te(null),n=Oe(),i=We(e.setT);async function a(e){if(s.v)e(s.v);else if(t.isSuccess&&!t.isStale){const n=Ve(t.data.data);s.set(n),e(n)}else if(t.isIdle||t.isStale||t.isError){const n=await t.refetch();if(n.isSuccess){const t=Ve(n.data.data);s.set(t),e(t)}}}return(0,j.useEffect)((()=>{!e.v&&s.v&&t.isSuccess&&s.set(Ve(t.data.data))}),[e.v]),(0,y.jsxs)(y.Fragment,{children:[t.isFetching&&(0,y.jsx)(B,{}),s.v&&(0,y.jsx)(qe,{title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",itemId:it,mutatateParams:{data:s.v},mutationFn:Ie,open:e.v,close:e.setF}),(0,y.jsxs)("div",{className:nt.root,children:[(0,y.jsx)("button",{onClick:()=>a(n.runLocal),children:"\u0421\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0439 \u0434\u0438\u0430\u043b\u043e\u0433"}),(0,y.jsx)("button",{onClick:()=>a(i.open),children:(0,y.jsx)(et,{})})]}),n.el(),i.el()]})}const lt={root:"styles_root__RyDEO",error:"styles_error__mpo99",id:"styles_id__+YyjR",img:"styles_img__Q1dE-",inputs:"styles_inputs__+GHP-",changedHighlight:"styles_changedHighlight__0huRM",changed:"styles_changed__-Gqjn",buttons:"styles_buttons__DpOXa",btnMinus:"styles_btnMinus__sOvku",checkbox:"styles_checkbox__3q5xK",description:"styles_description__IsQuf",textarea:"styles_textarea__DP8w4",description_count:"styles_description_count__rC08l",description_count_too_many:"styles_description_count_too_many__9Cvtl",dialogBtns:"styles_dialogBtns__OcBqR"};function rt(){return(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 442.04 442.04",height:"1em",width:"1em",fill:"currentColor",children:[(0,y.jsx)("path",{d:"M221.02,341.304c-49.708,0-103.206-19.44-154.71-56.22C27.808,257.59,4.044,230.351,3.051,229.203 c-4.068-4.697-4.068-11.669,0-16.367c0.993-1.146,24.756-28.387,63.259-55.881c51.505-36.777,105.003-56.219,154.71-56.219 c49.708,0,103.207,19.441,154.71,56.219c38.502,27.494,62.266,54.734,63.259,55.881c4.068,4.697,4.068,11.669,0,16.367 c-0.993,1.146-24.756,28.387-63.259,55.881C324.227,321.863,270.729,341.304,221.02,341.304z M29.638,221.021 c9.61,9.799,27.747,27.03,51.694,44.071c32.83,23.361,83.714,51.212,139.688,51.212s106.859-27.851,139.688-51.212 c23.944-17.038,42.082-34.271,51.694-44.071c-9.609-9.799-27.747-27.03-51.694-44.071 c-32.829-23.362-83.714-51.212-139.688-51.212s-106.858,27.85-139.688,51.212C57.388,193.988,39.25,211.219,29.638,221.021z"}),(0,y.jsx)("path",{d:"M221.02,298.521c-42.734,0-77.5-34.767-77.5-77.5c0-42.733,34.766-77.5,77.5-77.5c18.794,0,36.924,6.814,51.048,19.188 c5.193,4.549,5.715,12.446,1.166,17.639c-4.549,5.193-12.447,5.714-17.639,1.166c-9.564-8.379-21.844-12.993-34.576-12.993 c-28.949,0-52.5,23.552-52.5,52.5s23.551,52.5,52.5,52.5c28.95,0,52.5-23.552,52.5-52.5c0-6.903,5.597-12.5,12.5-12.5 s12.5,5.597,12.5,12.5C298.521,263.754,263.754,298.521,221.02,298.521z"}),(0,y.jsx)("path",{d:"M221.02,246.021c-13.785,0-25-11.215-25-25s11.215-25,25-25c13.786,0,25,11.215,25,25S234.806,246.021,221.02,246.021z"})]})}function ot(){return(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 342.5 342.5",height:"1em",width:"1em",fill:"currentColor",children:(0,y.jsx)("path",{d:"M254.37,22.255c-1.161-0.642-2.53-0.795-3.803-0.428c-1.274,0.367-2.35,1.226-2.992,2.387l-21.758,39.391 c-1.335,2.417-0.458,5.459,1.96,6.794C264.616,90.748,287.5,129.495,287.5,171.52c0,63.649-51.782,115.431-115.431,115.431 S56.638,235.169,56.638,171.52c0-23.888,7.557-47.427,21.382-66.897l34.478,34.478c1.338,1.337,3.315,1.806,5.109,1.21 c1.795-0.596,3.101-2.152,3.374-4.024L139.963,6.271c0.228-1.563-0.295-3.141-1.412-4.258c-1.117-1.117-2.7-1.639-4.258-1.412 L4.278,19.584c-1.872,0.273-3.428,1.579-4.023,3.374c-0.596,1.795-0.127,3.772,1.21,5.109l37.292,37.292 C14.788,95.484,1.638,133,1.638,171.52c0,93.976,76.455,170.431,170.431,170.431c93.976,0,170.431-76.455,170.431-170.431 C342.5,109.478,308.731,52.283,254.37,22.255z"})})}function ct(e){var t,s;let{quest:n}=e;const a=de(!1),l=de(!1),r=de(!1),o=te(n.name,a.setT),c=te(n.reward,a.setT),d=de(n.hidden,a.setT),h=te(n.description,a.setT),v=te(n.dialog1Id,a.setT),m=te(n.dialog2Id,a.setT),x=_e(null!==(t=v.v)&&void 0!==t?t:-1,!1),g=_e(null!==(s=m.v)&&void 0!==s?s:-1,!1),f=te(null),p=te(null),b=de(!1,a.setT),S=de(!1,a.setT),k=Oe(),C=We(),_=function(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>await u(`/api/quest/${e}`,t),onSuccess:e=>{Ae(n,"quests_full",e),ye(n,"quests"),ye(n,["dialogs",e.dialog1Id]),ye(n,["dialogs",e.dialog2Id]),null===t||void 0===t||t(e)},onError:s})}(n.id,I,(()=>I()));function I(e){const t=e||n;o.set(t.name),c.set(t.reward),d.set(t.hidden),h.set(t.description),v.set(t.dialog1Id),m.set(t.dialog2Id),f.set(null),p.set(null),b.setF(),S.setF(),a.setF()}async function N(e,t,s){if(e.v)s(e.v);else if(t.isSuccess&&!t.isStale){const n=Ve(t.data.data);e.set(n),s(n)}else if(t.isIdle||t.isStale||t.isError){const n=await t.refetch();if(n.isSuccess){const t=Ve(n.data.data);e.set(t),s(t)}}}return(0,j.useEffect)(I,[n]),(0,y.jsxs)("div",{className:w(lt.root,a.v&&lt.changed),children:[k.el(),C.el(),_.isLoading&&(0,y.jsx)(B,{block:!0,r:"0.5rem"}),x.isFetching&&(0,y.jsx)(B,{block:!0,r:"0.5rem"}),g.isFetching&&(0,y.jsx)(B,{block:!0,r:"0.5rem"}),A(_,(e=>(0,y.jsxs)("div",{className:lt.error,children:[(0,y.jsx)("div",{children:e}),(0,y.jsx)("button",{onClick:()=>_.reset(),children:"\u041e\u041a"})]}))),(0,y.jsx)(qe,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0432\u0435\u0441\u0442: "+o.v,itemId:n.id,mutationFn:ke,open:l.v,close:l.setF}),(0,y.jsx)("div",{className:lt.id,children:n.id}),(0,y.jsxs)("div",{className:lt.inputs,children:[(0,y.jsx)("div",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,y.jsx)("input",{type:"text",value:o.v,onChange:e=>o.set(e.target.value)}),(0,y.jsx)("div",{children:"\u041d\u0430\u0433\u0440\u0430\u0434\u0430"}),(0,y.jsx)("input",{type:"number",value:c.v,onChange:e=>c.set(e.target.valueAsNumber)}),(0,y.jsx)("span",{children:"\u0421\u043a\u0440\u044b\u0442\u044b\u0439"}),(0,y.jsxs)("label",{className:lt.checkbox,children:[(0,y.jsx)("input",{type:"checkbox",checked:d.v,onChange:e=>d.set(e.target.checked)}),(0,y.jsx)("span",{})]}),(0,y.jsx)("div",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,y.jsx)("button",{className:w(lt.description,h.v.length>256&&lt.description_count_too_many),onClick:r.setT,children:h.v}),[{n:1,questId:n.dialog1Id,id:v,data:f,query:x,changed:b},{n:2,questId:n.dialog2Id,id:m,data:p,query:g,changed:S}].map((e=>{let{n:t,questId:s,id:n,data:i,query:a,changed:l}=e;return(0,y.jsxs)(j.Fragment,{children:[(0,y.jsxs)("div",{className:w(l.v&&lt.changedHighlight),children:["\u0414\u0438\u0430\u043b\u043e\u0433 ",t]}),(0,y.jsxs)("div",{className:w(lt.buttons,lt.dialogBtns),children:[null==n.v?(0,y.jsx)(y.Fragment,{children:i.v||null!=s?(0,y.jsx)("button",{onClick:()=>n.set(null!==s&&void 0!==s?s:-1),children:(0,y.jsx)(ot,{})}):(0,y.jsx)("button",{onClick:()=>{n.set(-1),i.set({nodes:[]})},children:"+"})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{onClick:()=>N(i,a,k.runLocal),children:(0,y.jsx)(rt,{})}),(0,y.jsx)("button",{onClick:()=>N(i,a,(e=>{l.setT(),C.open(e)})),children:(0,y.jsx)(et,{})}),(0,y.jsx)("button",{onClick:()=>n.set(null),children:(0,y.jsx)(De,{})})]}),a.isError&&(0,y.jsx)("div",{style:{color:"tomato"},children:"\u041e\u0448\u0438\u0431\u043a\u0430"})]})]},t)}))]}),(0,y.jsxs)("div",{className:lt.buttons,children:[!a.v&&(0,y.jsx)("button",{onClick:l.setT,children:(0,y.jsx)(De,{})}),a.v&&(0,y.jsx)("button",{onClick:()=>{_.mutate({name:o.v,description:h.v,reward:c.v,hidden:d.v,dialog1:(null==n.dialog1Id||null!=v.v)&&(b.v&&f.v||void 0),dialog2:(null==n.dialog2Id||null!=m.v)&&(S.v&&p.v||void 0)})},children:(0,y.jsx)(Re,{})}),a.v&&(0,y.jsx)("button",{onClick:()=>I(),children:(0,y.jsx)(Te,{})})]}),(0,y.jsxs)(z,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430",open:r.v,close:r.setF,children:[(0,y.jsxs)("h2",{children:['\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430 "',o.v,'"']}),(0,y.jsx)("textarea",{className:lt.textarea,cols:40,rows:10,value:h.v,onChange:e=>h.set(e.target.value)}),(0,y.jsx)("div",{className:lt.description_count,children:(0,y.jsxs)("span",{children:[(0,y.jsx)("span",{className:h.v.length>256?lt.description_count_too_many:"",children:h.v.length}),(0,y.jsx)("span",{children:"/256"})]})})]})]})}const dt={quests:"styles_quests__lnETn"};function ut(){var e;Y("\u041a\u0432\u0435\u0441\u0442\u044b"),Fe();const t=Se();return(0,y.jsxs)(R,{centeredPage:!0,gap:"0.5rem",homeBtn:!0,forStaff:!0,children:[(0,y.jsx)("div",{className:"calmBack"}),t.isLoading&&(0,y.jsx)(B,{}),A(t),(0,y.jsx)("h1",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430\u043c\u0438"}),(0,y.jsx)(Le,{}),(0,y.jsx)(at,{}),(0,y.jsx)(st,{}),(0,y.jsx)("div",{className:dt.quests,children:null===(e=t.data)||void 0===e?void 0:e.map((e=>(0,y.jsx)(ct,{quest:e},e.id)))})]})}function ht(){return(0,i.useQuery)("storeItemsFull",(async()=>await d("/api/store_items_full")))}function vt(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await u(`/api/store_item/${e}/decrease`),onSuccess:e=>{Ae(n,"storeItemsFull",e),ye(n,"storeItems"),null===t||void 0===t||t(e)},onError:s})}function mt(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await o(`/api/store_item/${e}`),onSuccess:()=>{be(n,"storeItemsFull",e),ye(n,"storeItems"),null===t||void 0===t||t()},onError:s})}const xt={root:"styles_root__yl-I8",img:"styles_img__gddIw",form:"styles_form__ASF2C"};function gt(){var e;const t=te(null),s=(0,j.useRef)(null),n=(0,j.useRef)(null),a=(0,j.useRef)(null),l=de(!1),r=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await u("/api/store_item",e),onSuccess:t=>{pe(s,"storeItemsFull",t),ye(s,"storeItems"),null===e||void 0===e||e(t)},onError:t})}((()=>{t.set(null),l.setF(),s.current&&(s.current.value=""),n.current&&(n.current.value=""),a.current&&(a.current.value="")}));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:xt.root,onClick:l.setT,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),(0,y.jsxs)(z,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",open:l.v,close:l.setF,children:[r.isLoading&&(0,y.jsx)(B,{}),A(r),""==(null===(e=t.v)||void 0===e?void 0:e.data)&&(0,y.jsx)(B,{}),(0,y.jsxs)(H,{className:xt.form,onSubmit:()=>{var e,i,l;const o=null===(e=s.current)||void 0===e?void 0:e.value,c=null===(i=a.current)||void 0===i?void 0:i.valueAsNumber,d=null===(l=n.current)||void 0===l?void 0:l.valueAsNumber;c&&o&&d&&r.mutate({count:c,name:o,price:d,img:t.v||void 0})},children:[(0,y.jsxs)(K,{label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",children:[(0,y.jsx)("div",{className:xt.img,children:t.v&&(0,y.jsx)("img",{src:t.v.data,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})}),(0,y.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/gif",style:{display:"none"},onChange:async e=>{var s,n;t.set({data:"",name:""}),t.set(await ee(null===(s=e.target)||void 0===s||null===(n=s.files)||void 0===n?void 0:n[0],""))}})]}),(0,y.jsx)(K,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",children:(0,y.jsx)("input",{ref:s,required:!0,type:"text"})}),(0,y.jsx)(K,{label:"\u0426\u0435\u043d\u0430",children:(0,y.jsx)("input",{ref:n,required:!0,type:"number"})}),(0,y.jsx)(K,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",children:(0,y.jsx)("input",{ref:a,required:!0,type:"number"})}),(0,y.jsx)(K,{children:(0,y.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})]})]})}const jt={root:"styles_root__792UO",error:"styles_error__EjE0M",id:"styles_id__EvI3k",img:"styles_img__F6UZc",inputs:"styles_inputs__r6vu+",changed:"styles_changed__aaZPg",buttons:"styles_buttons__X3oNY",btnMinus:"styles_btnMinus__5ZzMA"};function ft(e){var t,s;let{item:n}=e;const a=de(!1),l=de(!1),r=de(!1),o=te(null,a.setT),c=te(n.name,a.setT),d=te(n.count,a.setT),h=te(n.price,a.setT),v=function(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>await u(`/api/store_item/${e}`,t),onSuccess:e=>{Ae(n,"storeItemsFull",e),ye(n,"storeItems"),null===t||void 0===t||t(e)},onError:s})}(n.id,m,(()=>m()));function m(e){o.set(null);const t=e||n;c.set(t.name),d.set(t.count),h.set(t.price),a.setF()}return(0,j.useEffect)(m,[n]),(0,y.jsxs)("div",{className:w(jt.root,a.v&&jt.changed),children:[v.isLoading&&(0,y.jsx)(B,{block:!0,r:"0.5rem"}),""==(null===(t=o.v)||void 0===t?void 0:t.data)&&(0,y.jsx)(B,{block:!0,r:"0.5rem"}),A(v,(e=>(0,y.jsxs)("div",{className:jt.error,children:[(0,y.jsx)("div",{children:e}),(0,y.jsx)("button",{onClick:()=>v.reset(),children:"\u041e\u041a"})]}))),(0,y.jsx)(qe,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440: "+c.v,itemId:n.id,mutationFn:mt,open:l.v,close:l.setF}),(0,y.jsx)(qe,{title:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b-\u0432\u043e \u043d\u0430 1: "+c.v,itemId:n.id,mutationFn:vt,open:r.v,close:r.setF}),(0,y.jsx)("div",{className:jt.id,children:n.id}),(0,y.jsxs)("label",{className:jt.img,children:[(n.img||o.v)&&(0,y.jsx)("img",{src:(null===(s=o.v)||void 0===s?void 0:s.data)||n.img,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),(0,y.jsx)("input",{type:"file",style:{display:"none"},accept:"image/png, image/jpeg, image/gif",onChange:async e=>{var t,s;o.set({data:"",name:""}),o.set(await ee(null===(t=e.target)||void 0===t||null===(s=t.files)||void 0===s?void 0:s[0],"")),e.target.value=""}})]}),(0,y.jsxs)("div",{className:jt.inputs,children:[(0,y.jsx)("div",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,y.jsx)("input",{type:"text",value:c.v,onChange:e=>c.set(e.target.value)}),(0,y.jsx)("div",{children:"\u0426\u0435\u043d\u0430"}),(0,y.jsx)("input",{type:"number",value:h.v,onChange:e=>h.set(e.target.valueAsNumber)}),(0,y.jsx)("div",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),(0,y.jsx)("input",{type:"number",value:d.v,onChange:e=>d.set(e.target.valueAsNumber)})]}),(0,y.jsxs)("div",{className:jt.buttons,children:[!a.v&&(0,y.jsx)("button",{onClick:l.setT,children:(0,y.jsx)(De,{})}),!a.v&&(0,y.jsx)("button",{className:jt.btnMinus,onClick:r.setT,children:"-1"}),a.v&&(0,y.jsx)("button",{onClick:()=>{v.mutate({name:c.v,count:d.v,price:h.v,img:o.v||void 0})},children:(0,y.jsx)(Re,{})}),a.v&&(0,y.jsx)("button",{onClick:()=>m(),children:(0,y.jsx)(Te,{})})]})]})}const yt={items:"styles_items__34Dlt"};function pt(){var e;Y("\u0422\u043e\u0432\u0430\u0440\u044b");const t=ht();return(0,y.jsxs)(R,{centeredPage:!0,gap:"0.5rem",homeBtn:!0,forStaff:!0,children:[t.isLoading&&(0,y.jsx)(B,{}),A(t),(0,y.jsx)("h1",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430\u043c\u0438"}),(0,y.jsx)(gt,{}),(0,y.jsx)("div",{className:yt.items,children:null===(e=t.data)||void 0===e?void 0:e.map((e=>(0,y.jsx)(ft,{item:e},e.id)))})]})}const At={root:"styles_root__3AhF7",title:"styles_title__AMBJ6",window:"styles_window__YHycS",map:"styles_map__lp2hs",btns:"styles_btns__P557j",btn:"styles_btn__rCusk",quest:"styles_quest__hR6ry",quest__title:"styles_quest__title__GllrO",quest__description:"styles_quest__description__UVd4X",quest__dialog:"styles_quest__dialog__ndnu+",quest__spacer:"styles_quest__spacer__SmzPF",quest__scanner:"styles_quest__scanner__Z9SuT",quest__scanner__link:"styles_quest__scanner__link__H9Sx0",btns__block:"styles_btns__block__432r4"},bt=s.p+"static/media/map1.c0d20bfd77eb66439a7c.png",wt=s.p+"static/media/map2.65236ffb880db77e0a59.png",St=s.p+"static/media/map3.80f6e9dfcaff9109641a.png",kt=s.p+"static/media/map4.8e0854a727e496c0d215.png",Ct=s.p+"static/media/map5.bafd1a72a333601de7f9.png",_t="data:image/png;base64,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",It="data:image/png;base64,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",Nt=s.p+"static/media/indi.9c568ed17029a99fc4f6.png",Et=s.p+"static/media/game.dc47d94f354585ffcf67.png",Ft=s.p+"static/media/stand.375d713890484494dcb6.png",Qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAAEiCAMAAABzzpYLAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAJZQTFRFAAAA/s5f9tzBVQsA9MqdLT19/v79f4/RPBIA7sVpYnXEc4HAWRkPrpyWxqmH2cvGOUeC/uGe8fH1ZSgd5uLm/s5f/s5f2rl4kZzQqIiA/s5f/+q8/td+7dK3//Xejl5T37ydzLq1oHRloq7dfUk+jY2nzdPsXmCHbzcsvammV2eneHOQtb7jsKzE/s5f/s5fR1KITjBJAYG0qgAAADJ0Uk5TAP//////////////////////////zX7///+j/////////////////////////xpN//8Y8YuFAAAd8ElEQVR4nNWdbWOiuhKAd/uirYK4YKt0r1WsVKna0v//524ySSAzSSAo7fbMpz2ninmYyWQyk5dfv75K3j8eH58euDwpeXz8eP+y3+tfHh9+2+Xh8b+B8e4kkBj/uoHt8tFIABRPP1wZj20EID9aF09eCL9/P/3rhrrFF4FB/FB7evdH+Kma6ITwMyHeWx3Sz4fopoUfCWE61f/94fK/SkyIH+ZiDYQ/f/8+S/kr5I9J8aOcE0H43x8GMCDCYCjGT1KEgWASCIpnQvFzFPFhIPAWx7MIZCYkFhgY4uco4sGCEM+yzXYFsmGSppkV4l83XcmjDaHYbJPrO01WRQEYz3/0T3/868YLeceWJAyp2AZ3hiQA8VdXxA8xJqKGK4FgEnCIiCri4V+3XgjqDffrGTOkcG9FuLvbc00gRfwIz4Sc0n14Ygwzuxa4cAakiG/vEDxdAaKlKDRTup+H4xfGECVOhlVEXNO3dgjWft1qHirRtTAetTAERTx4/vtvGLwmB/Nw1MZwF/4rBs/pzTyXDBa/qsTQw4OeSnv8qu7hPUHzYmD94W/TQ74kH+iXbkEMboR2Bi4PXCM9knSYn/ky/Gl/FJe+bKvTLJkxjFsYgsyfQcjFCuk20VcMWZ8Mvy9NNfv3hd98iPsiBsA4Vx+dECRDPIgbGJIzGSRI9+5hQXBkKATDhDEcGUPxRQxcOmLY0i1/VZICicy+rE/DYQvD/lKGbr2DzJKZCvSp/jMRDnb1ejy++jC4NOmN4akM4pL+50pWIIlh0twAsedxq1uT3hR+eXMyPbMkjNySBdcNDHZFPkMazRvjwQOCzJL/SoIoTNOQS8Ek4xLpGZhYKIIxOCC2kZ1agUkN9QOBQ4z/iYxRVqyC6yAIEi57JlsudQZmkwpZXWuCGWSKxk0hRBjYZRBUDezps6zYX/sIg3T96S5ZcUalSKLJmKD8/dNoXG15c6SG+zV/euFsWVeRmtxTTRaxtMWaRPQRB0gzBFLDvDhyQwp7Y3ChbaV+Mmxbf8Fv2SAaJ4H62HA/WXCGNPliBI1FGpdmVw6f1dQlULIiHzKGePNdCEzAzrabmW5bnMPAaFKE1h3uw/G3MwgJuK9DfsysYHgx8EBu+PpPGEC2IXdesxoDUzQEHXWcwXNGiCHg3iSREgipflG4GS7gdPb1h85lEGNRWnteDOE2Js0tKYaZYthOuHAvD6PaBtyiavlkDTKRktYfkx+sP1ozekAm3AFnCkJjcLvXjwaG1frKIksmrPFL29+0jyzXbsjV9vOzyfcF282m4Ealp6fcDI+YYcEZVhVDU0PPFO5KT4vxePdZ2alVMduQQTxrDO7cfyPDzU2/EEvW/sVQyHg8PgjZfQa0s8GvR9iYzma4WfZHwd7/0Cbjw263Y9b1+akFacF+cw7DXDJEOkN/qnAQ6HLg1iV+exNx7/TctT8YDJubHiE8EIYL7gtWYFIpFCX90uYNDIFk6AWi6geNcmKf3NQMnjXJJwvDljDcfBfCcME+KvQQ0kpYwzjtw9CDHjwMSTKkomPTAkxT4EoYIP+IGXrpDn4MC2ZLW+FhaQGmqTTcztALhGJYgLgYGMJS+leDoSH21hlyzJD0bkuLk5jyuLTSwNBUoUcMIztDTxCcAP7tYlhoDGwygcLWpnSfjWFPGXpwTJwhqv9tR1hqDDj0blwogRl4Pn5QmAyXK+LE1SD+6VRDxv647pkhvelPEdEpkwhLpxoijcE7WGpm2GsMl0NUqnQNd1/DMFn2yFAhnFyuddEnw1YxaHroLQR3Rx2IYdaBQSs9TJhfWsQ8zSfi32D7BRBuNQiGiWAILmDg8+nKue7TZe8QmTv4EwzJxQyjI+oQV3aI5dmzu6ZZhM6QdGEgY9wIOkRSMVghspxLETU11iFuS5J+6VKG0MJggcjy8pbJLuwEwYcHd6TERAyBkmHfhUHPCUzGLQzCw4aAwCE6WBTTXZadGjo0RBps+nAZA3QI6A+BxmAqQjHc7gpvhCgvd4e8oS9kMh48h0HP88niv87AJ+lUERVD6c2wPExvb6dvYzeCUqlk2BKG5jrQg8kQVgyo/QoinEqG6SHzVQP/eBNC9UmdwSsx42K4tgzUNUOuGG7L0JeB6WH65kTQnMOmJ4Z6ErS2QWSHMxRxcFvSQn+IZFjNfBPGJgP4pbi4tgQbdbcOuyviKtuNHAgn5KJFdukyBhFsSGNKLAwMItsphtvcd4yIcocaMEIvDGJVUhPDzXJZVIrYFZ5jhGtkIAjL/hnmVoarbNpVEa6ImyBcpXvBsOmNYd/O4KcIx/xzQRGupDe53sRdGEjQBwxhI8PNMsorhtuDjyIiT4TLGaAghxgsvpUqwse92tVgQbhSVZS0EwMJ+nwYmCJqPUzzVgh/BJ3h2Z+BBEzAkLYw3Gje1UMR9ojbhuBkaN538G7qYVYxOBBubmrvelu2uSb7FFrG2kSSsxiQY/JmWJa1InbNinAhWMkVQ8f9H2cxrHWGZvdqHRocCMveGFRy5nrrZjhMfRVhY3Ag1Awd9xLhRScQuCpFbM35QwWxu4DB3hd6Y4DsvXJMycqLoTkENxl4ncEua53Bt/xgMgxfdefqVITOcFs2MJhJMTfC1Votd6AllJbFobg/kAFi6YJYh7oiGsY5wystGoAlQ7CNOpQfEAMETMBQrWC6unL3al0RTghqSYtT1uDFJEMSxR3SGr/MgOnVkyEtPSAwwoKX5Joc8UQy0EUCHdboKoaZBwNWhGO0JgiqqOjDgBYJtG1xfLQwrDozWLN+ETGj1jBdMdB1cG0Mxoo+jWHlz2CL/aKOCIphTxnaNnKQFX0LjSFwM0wOu5IwGE1EliTGtaho6tIuhtYt8MZKMszgcK4hIWAMRtiUIY8KCHm5Cxt6dSoYtoMuGTLKMBKr4aoVGy6GiR4vOUZrXQ0CYZmXt1NG8c0MDjWkhho4hG5NS4Qg3v0yFy7sWxhWcrzcuIZpfZSu/auuCH3yphKqS3AD012ROUoXGkOX4YEyQKJPLsNyM6xTw5b4C9ZapqmhygkLBgZxcNRfRIYsWF3IAFWUgVBEvRrOy5hup7UiNDXUae2lcsdTRxHpXIYnwsCNaSAdky1p3MiwVCVTTQ11mLrM62/ZikjLHhjmFUPVqV2ZDYtj4hBlWe7AP9UMenVBr12YDMu1MuFLbUlnuF65GG7S3Y6OcrfTUQn+6ZDnNQKaLSjy3eFgYaje3CUME8rg1MNNmIbEOZVvo6GAmGo1H6SGiuFQFGZocj6DvqlpPpYM+1YGvi8AR668SPI2rf/NZTzEsYWqIR1sIYdabxKkXRn0zWX3uTfDDUluwKsfSQRZtxq/lW8kApEdwprPOZ/hFzmCBRgSLwbNmEr+6kdIC2OGYEQgxQ4+Y5296gwdT0h5MhliL4abm8qYyjF/6xjh7a00/c9SKMKaCumHAZbpIoZGhMlOQxhSBGU1uKEi4DWD3Ks6MxOEfTDMqtxtE0KVn3mzaUH2lZIMyBEoIreN0j0x5CpwDfwZROV5/GZF4JNU3NIs5AuHGhmKSxnEWQcq4+oMNrgplTqCsHOJUEoEvkyj3OFge+lawqUyZJczwNkfs/ZBToQb5ZtEgMGthI4xlghsqHsDtPLgVT5FDB0ylSaDMCZtgFjbMUTEJEYCqYVyDB2jLKWNsT9K9ZS5ZVw2GORvBvREiE578UEPhCFbLDIrQt2dlSG9VRpRNlb1i+muXRUuBo9T8UhSYMwdU6QYDny3wsKiiYNySdxyptogUSEMa39r69sNDB2zrb/IUrKxPJOoYhBTAAOiipWm02oVzZv+3t+Ie2JDc1s1fnI+Awr68jH3S5RhSK1pbZs+lLIL1/5JD86nrUvnFEPSneEdM0C8RBiMHrHevY3eDIhaJyPhYfFfD9DSyNW7l5jh9/kMQzClTYAYDIQT80AsIDJ1IZsrvBXWFYuRlllR5KWj9lUzdFmQaLOloViVeCdNUzDg7pCd5IRfN3fUWtkZ6P8+hLuSDR3TnbVnXMKAl4cOxapExbDjbxT7paxOWYxdDGMLAh8mxOenVkUs014Y4FQEwSAh9kwRiwIh6JlgW3YDIEaW7lL/2TpW1Awdq0C/aDELGNKKIdgxBicC7bZ6O90IDoieGCaK4c7FQMucToZmmdqySxVD19Q9ZhC5ezdDQauc5zJY0nxLVUHrXH5ArnUyhnUCmGFxqjyqsU3S4ZjaxbKq1MnQnhLAoQaURbNtxZAcqkBjbS5DcneHVkWYCfyKoXPqHh1SPBnL1D1iEB2hsKykOlsN/TKgs4tCwQCHFCsGYUrWfTxcDWdSTC22tNIYzk7z3eeQuZ/tdYYTCzQy+1akNxYhld3MqZRJWlt/qKqxl6VboYKCGbL1OrMBDIejkk/VIMW6a1dHCYdp5EUOFA0M3VP3uhrC0YLPpdMA6cG1h2f09ianartdeGhH4MMazwdkPDtjCcTPZvjADGL+Iw52q2INu/A1NkNAOKzXtvIcEn0GFOVT24aosxl0z8omD7D9IfBikCRvZYUwTa0orMtM8SQuKmz5pbNT97oa+OjATCm80xiCz0aI8dvusL6ZyHB0bSmXTssDP9XOY1X4uQxkHsp3cGR7nYEPEE5ZjA95uFYpDm5T+hS15LLLM9+9KuszGZBXysWiyjtPhnFehCEfw0PR5t0alRrZjIefXue/EfDc8gM5UY2nvFPM4OoQi1Mo85jrVDLgXAHrt91ODTqXAc0dwJRqhoZOfTqdsnpuJ9Lx0wP/t1Z7n/KEcweIM8sP1JQYQrRqZTjRdBPf5MR6A/+nVvPtzOBK3TfH3g+IAWKlTWAwnDI0zC1uqKzTcnqQllUrQlD5QzgZGvOtqJwo471aDZIhzdaIoZpO6BCh6hz6apRpuj6XAR9b1JT3tmRlIsqwnVAEWxq8zo2v691zt2knReglFP/lfLg7iATf1mRAlmRF0GVSnsugyg98U5Z3p9a9krgbZJbuDQYUd1vz+LRzVAw35zBcJx12DiBTCsGUMg1BMeAO3cqgrW0S1TxfCJW677T7QT9Bdy5MCTEAxBbv3D61M9QbPMKbLhDnMCCvNMlfzOt++PM+0T7P1t4ADHJGVEoGT4hzGCymVCAEk8ELgQlAVAieJ71MKgb/HRyWXHEaNDL4ItyIwzbr//ZSxDkMenfgA1w7Q0Hb6t5rQz/YjrDEDH61XTPea2Ew1eDN4AGhMXjvQrGYkj5IK4Zk192UzoLQGXzrcWZ+L6YXeMEDP8/oD2cxpJjhdzuDJb/XyjAsvhBiOanOb/WtKeqmdC8SGq0MHuPbBYpYr4KODGjqALPQQVyPDsk2MRg8wozLICYdGXBubKzl90C26ZYyXIrgz+B7gBTJjdF71FahYgi2i34Q2iEuYLifiF2i2r1RwaZmWMH1DT6x3qUQcueAd20Xr/IWGwY0NWRFzdBD47+GgZgS90ranUvpLPsKhpZ8k4vBMU6THCUs4dsjhn1PDGREaYJQDPQAKUe8ZKa76xwlZkice1FUI+XJ90TUH+Fqm1CdGL/O5L0o/LR5JRVD4mCwx616jlIWQzWGfQFaATV85kuegtzt5Kno6qIWaBZvLM9UTqew84EL+VhVWxEfKdVHNup6mzCs8vj5Z1Az/G1lsOQoNYZwNqgZoAZVQiOwlELOKyrK5l5/8vIiXFizXCoGuFmoNeFqSXfrMWs2UAzBp3iHZ7WzBQLkU/wXeyW7IpdkSerjmHCOEraIptoIF/Hz7TSG75Fdeaspoo2hJUfJGULJ8H0IXDowWKo/0X+NgXQHGKQJg+oP/wkGGbOixBK/xoN1iO9mKKeSgV5fYfNL+LIBcaa3hpBoDN/Yp2/zg87Q4lvx4eriTG9thMu0e7++EWJaVAweJwyi1W9jmuDbwr026tDKb4OY5pE8YNDrVDi0+o2PDg0MfKTmAYIclEGq31WRxWEnpP7MTgQkcKOO5UNTY9jkm37lvQndGYxcMWG43qeFCNxEi6om8ahool8BFFbCYiUI+kgcmCkppLCP5kIOfDGEvEfE52Q7tIJPJse0BN9KMCiEYLO2nNiColNfocG2Clz5XQQQ+G28GfTAOzRyxbDUQGNIJkvK4DwpoSMDlbW/HvQMXwilE40BqmGD+mw4NgkSJsStZT6f14F/TwxLYV5cqxvZH9oZcLQEuWKtKJ2kA8wAlyLqIu5HrG5HhGnAxMuqUNsjcUdkFoJjgCdVu/JaGVC0BBcozlaYIZ7FOoOH7DdSST4MoMXsUEo3xb3SZ6A/rZ0BJbxPYEqaV0pCxvAax+ogWk8J1D1z4gZL+95AOfPcwsfgHrZPKQghCFtPSUT7dE/clFCgIRjqw+HOkv1K3SUnOpLU0gqukmu7Ja+I2+rTeNsJN6WBHu9tM87AFXHJ7ZaBuiJWXS4K6mltPZekiFvXCeDAmy+VybQp3J7rcXY8znj6VTXnAhgvCRJxlxz7qW2RCYTG9RrIlDjD7I6oYfC6kEto+GsRlwqqSxOx4VovfvOWvXruKlSjdgi3EM6uEIIxfcAJb7hbijLELyKXP9uw1gtXy71tPJvNCtTTq8sTeWM6gYCBpTLqCLXLLLlTfM3wtZyGKRmLA2LMwEL32YtIIg9ieivuAHmrIC3qH2f+2UsloptsMnQNJyJ4yef3iIGmKkk64GUWo+kPMLwuxA5ki2i7Cnh7YKmRgpjxEYu/WR70uTxzsIFP0ebHUmbHxTifYATDs+LFAZwh1K+NhtQOZxgvjuqabOalpMRyrlS3KBwYIhpTSBNL4NVX2kk2qPUx3MXN5PX48vJyPL4sxgaC2aNxopW9bcyw4ifjcQamiZcjNPz4oq7qYlE6WZMShBJxRrUWi9vCo4KNZWlUJa+Cbab9HVrOZTHkvzgaj0cjA8FMVOKDKHh3QAzwmpb8zEf2RGj7UDyey8srXdABDEe+s5fxzqpLzjWgGdh9WHlvEY6J9/7CL7cEqX4iD0lfaIn3xOo3Ph5jhucbNkEdWWQxszPwD48X8pUyizgeX2PsDmqGgM/32XeGqOlSTDuyXWOudwdItMIgUDdKRFv3GoT2Qy8OBvVJKUOhFtmDCMNdwu/cjF9Qy5UYSvj9ZCmfGAsc4EhEjUFEWxXEOFfTS3GpWZEghqRQeqBvVHYh7hgG/Nok7TvsN9h3xlXTq+LE/J4iWJP2RneASyyr5+8LGTHei8kxfyzIfCIYQgtDFFotD2S4eDmKa5PqL/G7HV5PIY8C59By2R4K4Mh3k63S7PGYgd9xO4BxXrZd+7SL4fnP/bya2ue5YeVjUAQKyWaD+GputNhEsNbh8IHkw9d4Fu51BlhZar3TXTHgxUH7QkSY93P5Unl2Iye+BjbRJuhbM3LvZgcE05QyMQvXGf5aHzgX91tgBlzsuK/sTvYg2aXURmDNmiJcq7KKrTv/sgQaKv6Rzw7Iops2Big6GXrTWDiGWRqAbmdXdyuCpRoqr/dS77WVITUYGl6o8ATiLrRC/yIfJFoU4VzCR3L2r9X1XvWj2xjuDIYmw4ZTnsev2kYpqYjM1e+EPPmt4Av1O/vkk62mIRoj73DCDDTHbv/a6GhncMM3rCtGpoQYBMR+5uzSFzG8GAwQ+bm+6eoJVA1qL5w6o0g8mdbncWPYF2KT4a8fw2xDO7XjpxoJjGooLLu6jGHWwiBPXuT6RbNFGFjwVx8eHp6eHj9ajvih60x4LFbNgisGe5MUA3qbdzQvavleKI89tzHg99V+UNQvI95jXmlQHWfCGXgMgJr0UH/jbAa46+bFYBBzId/Lma3dQZqSxsAgNsbJ4PjeHRXl1tRGflrvceJ71clakRlpEUW0nxRlTH8GlCE1TgZvZLi25djfPx4xhzjRCboeVsQmoruv2o8NsBXWSaaFZGrbGez5acaBfkoeHxlpu7J5duAcRZh74eJVQBjwi/kwruioDi9vYjDuupGdOtAI+M/RnUvtvdqyziTW1ZAYz3wwrxnxZEB33VQdgqTPLGNEmyLoOpNX7QA7YMiobh8pw2scEQZXnYBewmVjuDb6X6ej+SfidB+TgexwxFd0mAy01lG1wXbkX0YZthntgG2KwGs08IFdigFlzB8sp/mbDPZah3HUnI0hoMvFWhWhfbLaz6dVSYzrO9jzyGn+5zHws4TMnwNZGYpoHufIJizjxYBiyaJS82aICKeCnXuPcBpLOVfKYKzbaznVkeRZTYYZ6Q4PthsJKINrDSdaiVA5V6M4tqILKJuNiWy6tzLQGpjJkBkMaL5RmwK5Elp0CIMBIjT0q/53NI+H+pW0gFAYg7TBUKcQpARGKue9G4NFEZ7zH3Vgl86woabELZMctsbLD4TB7EPmz80bGLbGE5qCpmYGM5x/+EWn37xfElsyAmjbACGcqzZnRE8wsgoNPcLCkKkDf4VdGqaEAl257G+PWmDsmnc51+GxgcF7nMMM0KAKYg+lwWf6JMsq2MLGYHuJxgAhFkn5MLitiXQyCL2FaQT7zCjMgynhg8psDImTgQwQarGawQD1OVxQdysCH2AnDssdxMU2WMnCPH4Zj79Il5a3nBMG3o3smy2Md2Z+W9hAB0UQBnFa7mCWFZEomy3RY8BNk8DN0i2TwrnphTIcHQz87ACqCBcEeSZAxFCIhSJlZKnMd2d4cP6ezRLlMyLDkF2+Ca/SEBBHKGbyymy0Rs8QmX+NQd02H2KGfTeG0LYSJ8hoKuK3q0voSxxE9g2Kt7w2vDitSS3vw9KMcTcGfYDIR9Zvq4cY0aZLEbqTUZqQtUxXVduDwb1JGG+SF3qoByQklrmQXRFoqzGHULUmE0G1xHbbfODLQAeIhXUGIawp9FXEE/rM/VyuBTBrwlUZzMKQejPQGYTTMV3zyI8rwmOQ0B8q2hVaq9q2uM3FsHUz0BmE2zHxgY5HTdjB+iiCyXw+MQm0LxsZMsZALdm9X4Q6c4g2NvblTUlqjHSOiYSRDP1tEujjC2UYdGKgNwEMIUKzK+I6SY2RzlEVNSGaECwMMWVo2LdDou/RCKpyrqVZxlTYNc61Q6BR3rSlLgzEMYlKSuxShJn0c80j2iDw98gFsAs4YBf9Mq2j6gzUMYnyaORguN5TRTgjv0YIWgmjl9i+GopoYsA7tOXSofqSEqNHRK3roz0gjC+Ry4T5HICsZG/cP0XvEhPxt20SwSXYeuyfsTwaSdOyOcFwNBaBezNMKkXgZLsuHvvJKvmwqcJWUSXJa566J8FC4x4wnFmsVp8MNg5r2szcdumhCntN2Lxzh5QfmveL4GO2ILIZys0Wdois08Hk76ho5qpqo73ueWcGXNIPxYrA+q7GSxkA4/HpqbmqTQzaTHu3MKATbYQixF2NDoaoK4OHfOAmdGZ4x4oYK2Mq6mlEkFSdgzvXboer+0hrCaVt/xRSBIwR4xfumerIL0mrfycdfKu/tJZQ3PU4+RJ0RQhrgsp+PUTsi2iTwFp9saJT+7zX0odWaS2hGMly+u6QAxTRK3im6uWzwDcSOzhhA02Xa7PPYrCWUORKUsfvogmwiF75wrhqWr5P1Sr82Eg1tt/zdR6DpYTy3Bgvox4he7WYC3EDqhFAfOYPlzNEaIwNaCnLfHdIESLyA0VEfAfONhS7OiFPF8ez5j1AvTDwvRJ4gQddlGf5XXLclgrBa4lfj1LWaFbZT3cgFW0I2fQJsVletv0uXiUCijhqGz7EJgJ+zlaOFk/3pAaDYXjk+7LEvphgn5prRmwmTNZBQtT08qr2RsyOQ3uWq5/RwbAlmADERcpG2WS7AZ/03J6KIAesiqSW2h5xXDgQevJKRqwhc0SDbLXdZBZH0n7CUA0hTmk7wa4+sQUCI/TUG+jCs5EaZSshNQuHN8SJ3nmdJOW7l2pBT+qrN/yixxBC2KnvVjrNfX6YzH7vq70F5t6f6kn9jA0g+DhI1R2VSzx56p/OuO7lPgkXQV/DmxDk3CfSkmHX3PFlYbxG1y/jjLuH9NYZjF+/lyULebN0+25C66vwkL7cqhSUZq7qLtaihedx7t+OQBRRbZpzl44uh2hesn6O4Hw/G2elR6E5/zYTNuoGLum1Lwghpix2K02MnWzt+veE+AIE87eN4YiLz5DkZU59RRhYfHyK35BkTS+ixzz23hWktL8/71HV/qgnkMfHr9GBkDZL7uBI3h8NXfTvhqw/3AzRsREfj49PD1Lad870Js11l29qxMXi1sR/BqFL3eUHi9Uxfpkv/CIxXcp/jQBEo3j4Um/+pfLOPCOTb/OIRP4PXEhdJOrmkb4AAAAASUVORK5CYII=",Lt={root:"styles_root__cV7H9",btn:"styles_btn__ofavo"};function Bt(e){let{curPage:t=""}=e;return(0,y.jsx)("div",{className:Lt.root,children:(0,y.jsxs)("div",{children:[(0,y.jsx)(oe,{small:!0,btn:!0,highlight:"map"==t,children:(0,y.jsx)(E.rU,{className:w(Lt.btn,"title"),to:"/map",children:"\u041a\u0430\u0440\u0442\u0430"})}),(0,y.jsx)(oe,{small:!0,btn:!0,highlight:"timetable"==t,children:(0,y.jsx)(E.rU,{className:w(Lt.btn,"title"),to:"/timetable",children:"\u041f\u043b\u0430\u043d"})}),(0,y.jsx)(oe,{small:!0,btn:!0,highlight:"store"==t,children:(0,y.jsx)(E.rU,{className:w(Lt.btn,"title"),to:"/store",children:"\u041c\u0430\u0433\u0430\u0437"})}),(0,y.jsx)(oe,{small:!0,btn:!0,highlight:"game"==t,children:(0,y.jsx)(E.rU,{className:w(Lt.btn,"title"),to:"/game",children:"\u0418\u0433\u0440\u0430"})})]})})}const Dt={root:"styles_root__gZWUz",body:"styles_body__JCH1X",grid:"styles_grid__7zDRw",back:"styles_back__TDJ1u",close:"styles_close__PCOet"};function Jt(e){let{close:t}=e;const s=function(e){const t=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await u("/api/user/set_group",e),onSuccess:s=>{var n;"success"==(null===(n=t.getQueryState("user"))||void 0===n?void 0:n.status)&&t.setQueryData("user",(e=>({...e,group:s.group}))),t.invalidateQueries("quests",{exact:!0}),null===e||void 0===e||e()}})}(t);return(0,y.jsxs)("div",{className:Dt.root,children:[s.isLoading&&(0,y.jsx)(B,{}),(0,y.jsxs)("div",{className:Dt.body,children:[(0,y.jsx)("h2",{className:"title",children:"\u041a\u043e\u043c\u0443 \u0432\u044b \u043f\u043e\u043c\u043e\u0436\u0435\u0442\u0435?"}),A(s,(e=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h3",{style:{color:"tomato"},children:e}),(0,y.jsx)("button",{className:Dt.close,onClick:t,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043a\u0430\u043a \u0433\u043e\u0441\u0442\u044c"})]}))),(0,y.jsxs)("div",{className:Dt.grid,children:[(0,y.jsx)("div",{className:Dt.back}),(0,y.jsx)("div",{className:Dt.back}),(0,y.jsx)("div",{}),(0,y.jsx)("button",{className:"title",onClick:()=>s.mutate({group:1}),children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\u043c"}),(0,y.jsx)("button",{className:"title",onClick:()=>s.mutate({group:2}),children:"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0443"}),(0,y.jsx)("div",{})]})]})]})}function Tt(){const e=h(),t=Oe(),s=de(!1);return(0,j.useEffect)((()=>{var n;0==(null===(n=e.data)||void 0===n?void 0:n.group)&&t.run(1,s.setT)}),[e.data]),(0,y.jsxs)(y.Fragment,{children:[t.el(),s.v&&(0,y.jsx)(Jt,{close:s.setF})]})}const Rt={root:"styles_root__sa0ap",rootInner:"styles_rootInner__PZESy",shadow:"styles_shadow__uQcvr",header:"styles_header__thHuO",bodyOuter:"styles_bodyOuter__+xkIs",body:"styles_body__27+PL"},Gt="data:image/png;base64,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";function Mt(e){let{children:t,title:s="Underparty",footer:n,className:i,scrollUpdate:a,onClose:l}=e;const r=(0,j.useRef)(null);return(0,j.useEffect)((()=>{r.current&&r.current.scrollTo(0,0)}),[a]),(0,y.jsxs)("div",{className:w(Rt.root,i),children:[(0,y.jsx)("div",{className:Rt.shadow,children:(0,y.jsx)("div",{})}),(0,y.jsxs)("div",{className:Rt.rootInner,children:[(0,y.jsxs)("div",{className:Rt.header,children:[(0,y.jsx)("div",{}),(0,y.jsx)("button",{onClick:l,children:(0,y.jsx)("img",{src:Gt,alt:"close"})})]}),(0,y.jsxs)("div",{className:Rt.bodyOuter,children:[(0,y.jsx)("div",{className:Rt.body,children:(0,y.jsx)("div",{ref:r,children:t})}),(0,y.jsx)("div",{children:n})]})]})]})}const qt={root:"styles_root__xHRh9",map:"styles_map__H3lOS",mark:"styles_mark__MdUS7",mark__mark:"styles_mark__mark__AO5XS"};function Yt(e){let{img:t,imgW:s,imgH:n,objects:i,objectsOpacity:a=1,zoomMin:l=.8,zoomMax:r=1,disablePadding:o=!1,fillOnStart:c=!1}=e;const d=(0,j.useRef)(null),u=te({x:0,y:0,w:s,h:n,zoom:1,toCenter:!0,markClick:void 0,window:{w:0,h:0},moving:{active:!1,sx:0,sy:0,six:0,siy:0},zooming:{active:!1,sd:0,sz:0}});function h(e){u.set((t=>(t.markClick=e,{...t})))}return(0,j.useEffect)((()=>u.set((e=>({...e,s:0,y:0,w:s,h:n,zoom:1,toCenter:!0})))),[t,n,s]),(0,j.useEffect)((()=>{if(!d.current)return;const e=d.current;function t(){u.set((t=>(t.window.w=e.clientWidth,t.window.h=e.clientHeight,t.toCenter&&(t.toCenter=!1,t.zoom=c?Math.max(t.window.w/s,t.window.h/n):Math.min(t.window.w/s,t.window.h/n),t.w=s*t.zoom,t.h=n*t.zoom,t.x=(t.window.w-t.w)/2,t.y=(t.window.h-t.h)/2),{...t})))}return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[d,u.v.toCenter,n,s]),(0,j.useEffect)((()=>{if(!d.current)return;const e=d.current;function t(e){e.preventDefault(),u.set((t=>(t.moving.active=!0,t.moving.sx=e.screenX,t.moving.sy=e.screenY,t.moving.six=t.x,t.moving.siy=t.y,{...t})))}function i(e){e.preventDefault(),u.set((t=>{if(!t.moving.active)return t;const s=e.screenX-t.moving.sx,n=e.screenY-t.moving.sy;t.x=t.moving.six+s,t.y=t.moving.siy+n;return s*s+n*n>100&&(t.markClick=void 0),h(t),{...t}}))}function a(e){e.preventDefault(),u.set((e=>{if(e.moving.active=!1,e.markClick){const t=e.markClick;e.markClick=void 0,setTimeout(t)}return{...e}}))}function c(e,t){e.zoom=Math.max(Math.min(e.zoom,r),Math.min(e.window.w/s,e.window.h/n)*l),e.x-=e.window.w/2,e.y-=e.window.h/2,e.x/=t,e.y/=t,e.x*=e.zoom,e.y*=e.zoom,e.x+=e.window.w/2,e.y+=e.window.h/2,e.w=s*e.zoom,e.h=n*e.zoom,h(e)}function h(e){o?(e.w<e.window.w?e.x=(e.window.w-e.w)/2:e.x=Math.max(Math.min(e.x,0),-(e.w-e.window.w)),e.h<e.window.h?e.y=(e.window.h-e.h)/2:e.y=Math.max(Math.min(e.y,0),-(e.h-e.window.h))):(e.x=Math.max(Math.min(e.x,e.window.w/2),-(e.w-e.window.w/2)),e.y=Math.max(Math.min(e.y,e.window.h/2),-(e.h-e.window.h/2)))}function v(e){e.preventDefault(),u.set((t=>{const s=t.zoom;return t.zoom=e.deltaY<0?1.1*t.zoom:t.zoom/1.1,c(t,s),{...t}}))}function m(e){e.preventDefault(),u.set((t=>{if(1==e.touches.length)return t.moving.active=!0,t.moving.sx=e.touches[0].clientX,t.moving.sy=e.touches[0].clientY,t.moving.six=t.x,t.moving.siy=t.y,{...t};if(2==e.touches.length){t.moving.active=!1,t.zooming.active=!0;const s=e.touches[0].clientX,n=e.touches[0].clientY,i=s-e.touches[1].clientX,a=n-e.touches[1].clientY;return t.zooming.sd=i*i+a*a,t.zooming.sz=t.zoom,{...t}}return t}))}function x(e){e.preventDefault(),u.set((t=>{if(t.moving.active&&1==e.touches.length){const s=e.touches[0].clientX-t.moving.sx,n=e.touches[0].clientY-t.moving.sy;t.x=t.moving.six+s,t.y=t.moving.siy+n;return s*s+n*n>100&&(t.markClick=void 0),h(t),{...t}}if(t.zooming.active&&2==e.touches.length){const s=t.zoom,n=e.touches[0].clientX,i=e.touches[0].clientY,a=n-e.touches[1].clientX,l=i-e.touches[1].clientY,r=a*a+l*l;return t.zoom=t.zooming.sz*Math.sqrt(r/t.zooming.sd),t.markClick=void 0,c(t,s),{...t}}return t}))}function g(e){e.preventDefault(),u.set((t=>{if(t.moving.active=!1,t.zooming.active=!1,1==e.touches.length&&(t.moving.active=!0,t.moving.sx=e.touches[0].clientX,t.moving.sy=e.touches[0].clientY,t.moving.six=t.x,t.moving.siy=t.y),t.markClick){const e=t.markClick;t.markClick=void 0,setTimeout(e)}return{...t}}))}return e.addEventListener("wheel",v),e.addEventListener("mousedown",t),e.addEventListener("mousemove",i),e.addEventListener("mouseup",a),e.addEventListener("touchstart",m),e.addEventListener("touchmove",x),e.addEventListener("touchend",g),()=>{e.removeEventListener("wheel",v),e.removeEventListener("mousedown",t),e.removeEventListener("mousemove",i),e.removeEventListener("mouseup",a),e.removeEventListener("touchstart",m),e.removeEventListener("touchmove",x),e.removeEventListener("touchend",g)}}),[d,l,r,o,n,s]),(0,y.jsx)("div",{className:qt.root,ref:d,children:(0,y.jsxs)("div",{className:qt.map,style:{"--x":`${u.v.x}px`,"--y":`${u.v.y}px`,"--w":`${u.v.w}px`,"--h":`${u.v.h}px`},children:[(0,y.jsx)("img",{src:t,alt:"\u041a\u0430\u0440\u0442\u0430"}),(i||[]).filter((e=>!!e)).map(((e,t)=>(0,y.jsxs)("div",{className:qt.mark,onMouseDown:()=>h(e.onClick),onTouchStart:()=>h(e.onClick),style:{left:`${e.x}%`,top:`${e.y}%`,width:`${e.w}%`,height:`${e.h}%`,opacity:a},children:[(0,y.jsx)("img",{src:e.img,alt:"\u041c\u0435\u0442\u043a\u0430"}),(0,y.jsx)("div",{className:qt.mark__mark,style:{animationDelay:`-${150*t}ms`},children:"!"})]},t)))]})})}function Ut(){Y("\u041a\u0430\u0440\u0442\u0430"),Fe(),function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];(0,j.useEffect)((()=>{const e=t.map((e=>{const t=document.createElement("link");return t.rel="preload",t.href=e,t.as="image",document.head.appendChild(t),t}));return()=>{e.forEach((e=>document.head.removeChild(e)))}}),[t])}(bt,wt,St,kt,Ct,_t,It,Nt,Et,Ft,Qt);const e=Oe(),t=Ce(),s=se(null,(s=>{s&&null!=s.dialogId&&!s.opened&&e.run(s.dialogId,(()=>{t.mutate(s.id),s.opened=!0}))})),n=we(),i=te(0,(()=>s.set(null)));function a(e,t,i,a,l,r){if(!n.isSuccess)return null;const o=n.data.find((t=>t.id==e));return!o||o.completed?null:{img:t,x:i,y:a,w:l,h:r,onClick:()=>s.set(o)}}return(0,y.jsxs)(R,{centeredPage:!0,className:At.root,footer:(0,y.jsx)(Bt,{curPage:"map"}),children:[e.el(),(0,y.jsx)(Tt,{}),n.isLoading&&(0,y.jsx)(B,{}),(0,y.jsx)("h1",{className:w("title",At.title),children:"Underparty"}),(0,y.jsxs)(Mt,{className:At.window,onClose:()=>s.set(null),children:[A(n),(0,y.jsx)("div",{className:At.map,style:{display:s.v?"none":""},children:(0,y.jsx)(Yt,{img:[bt,wt,St,kt,Ct][i.v],imgW:[2150,2150,1600,1600,1600][i.v],imgH:[1512,1512,1125,1142,1395][i.v],zoomMin:1,disablePadding:!0,fillOnStart:!0,objects:n.isSuccess?[[a(1,_t,3.6,6.9,11.2,14),a(2,It,56.5,75.3,21.2,17.1),function(e,t,i,a,l,r,o){if(!n.isSuccess)return null;const c=n.data.find((t=>t.id==e));if(null===c||void 0===c||!c.completed)return null;const d=n.data.find((e=>e.id==t));return!d||d.completed?null:{img:i,x:a,y:l,w:r,h:o,onClick:()=>s.set(d)}}(2,3,It,56.5,75.3,21.2,17.1)],[a(1,_t,3.6,6.9,11.2,14),a(4,Nt,4.7,26.3,17.9,35.5),a(5,Et,24.8,35.4,11.7,20.2),a(6,Ft,37.5,49.9,9.2,17.4),a(7,Qt,64.7,51.5,7,14.8)],[a(1,_t,3.6,6.9,11.2,14)],[],[]][i.v]:[]})}),s.v&&(0,y.jsxs)("div",{className:At.quest,children:[(0,y.jsxs)("div",{className:w("title",At.quest__title),children:[(0,y.jsx)("span",{children:s.v.name}),(0,y.jsxs)("span",{children:[s.v.reward,"\u041c"]})]}),(0,y.jsx)(oe,{dark:!0,children:(0,y.jsx)("div",{className:At.quest__description,children:s.v.description||"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f"})}),null!=s.v.dialogId&&(0,y.jsx)(oe,{btn:!0,children:(0,y.jsx)("button",{className:w("title",At.quest__dialog),onClick:()=>s.v&&null!=s.v.dialogId&&e.run(s.v.dialogId),children:"\u0412\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435"})}),(0,y.jsx)("div",{className:At.quest__spacer}),(0,y.jsx)(oe,{btn:!0,className:At.quest__scanner,children:(0,y.jsx)(E.rU,{to:"/scanner",className:At.quest__scanner__link,children:(0,y.jsx)("div",{className:"title",children:"\u0421\u0434\u0430\u0442\u044c"})})})]})]}),(0,y.jsxs)("div",{className:At.btns__block,children:[(0,y.jsxs)("div",{className:At.btns,children:[(0,y.jsx)(oe,{small:!0,btn:!0,highlight:0==i.v,children:(0,y.jsx)("button",{onClick:()=>i.set(0),className:w(At.btn,"title"),children:"\u042d\u0442\u0430\u0436 1"})}),(0,y.jsx)(oe,{small:!0,btn:!0,highlight:1==i.v,children:(0,y.jsx)("button",{onClick:()=>i.set(1),className:w(At.btn,"title"),children:"\u042d\u0442\u0430\u0436 2"})}),(0,y.jsx)(oe,{small:!0,btn:!0,highlight:2==i.v,children:(0,y.jsx)("button",{onClick:()=>i.set(2),className:w(At.btn,"title"),children:"\u042d\u0442\u0430\u0436 3"})})]}),(0,y.jsxs)("div",{className:At.btns,children:[(0,y.jsx)(oe,{small:!0,btn:!0,highlight:3==i.v,children:(0,y.jsx)("button",{onClick:()=>i.set(3),className:w(At.btn,"title"),children:"\u0418\u043d\u0434\u0438"})}),(0,y.jsx)(oe,{small:!0,btn:!0,highlight:4==i.v,children:(0,y.jsx)("button",{onClick:()=>i.set(4),className:w(At.btn,"title"),children:"\u041c\u0430\u0440\u043a\u0435\u0442"})})]})]})]})}var Ht=s(741);function Kt(e){let{code:t,scale:s=10,margin:n=1,color:i="#000000",colorBg:a="#ffffff"}=e;const[l,r]=(0,j.useState)("");return(0,j.useEffect)((()=>{t&&(r(""),Ht.toDataURL(t,{errorCorrectionLevel:"H",scale:s,margin:n,color:{dark:i,light:a}},((e,t)=>r(t))))}),[t,i,s,n,a]),(0,y.jsx)("img",{src:l,alt:t,style:{width:"100%"}})}const Wt={root:"styles_root__sSzNc",qr:"styles_qr__cpZSD"};function Pt(e){var t;let{role:s}=e;Y("\u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435");const n=h(),i={worker:"\u0432\u043e\u043b\u043e\u043d\u0442\u0451\u0440\u0430",manager:"\u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0435\u0433\u043e"}[s],a={worker:"\u0432\u043e\u043b\u043e\u043d\u0442\u0451\u0440\u043e\u043c",manager:"\u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u043c"}[s];return i?(0,y.jsxs)(R,{centered:!0,gap:"1rem",height100:!0,className:Wt.root,homeBtn:!0,forStaff:!0,children:[(0,y.jsxs)("h1",{children:["\u041f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 \u0434\u043e ",i]}),(0,y.jsx)("div",{className:Wt.qr,children:(0,y.jsx)(Kt,{code:`promote_${s}_${null===(t=n.data)||void 0===t?void 0:t.id}`,colorBg:"#ffffff00",scale:13})}),(0,y.jsxs)("h3",{children:["\u041f\u043e\u0441\u043b\u0435 \u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u044c \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0441\u044f ",a]})]}):(0,y.jsx)(R,{children:"\u041e\u0448\u0438\u0431\u043a\u0430!"})}const Vt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA4QAAACBCAMAAACvtYQnAAAAAXNSR0IB2cksfwAAAAlwSFlzAABcRgAAXEYBFJRDQQAAAJZQTFRFAAAAAAAA////RjFPiEc7/+e9oKmd/8kOoEoAU1NQfFs1HRQhQCxIKBwuNSU84tSzjpWLWFlVs7WjEg0UHxANv72nDgcHwHUEb3JsZTQrqK6fY2RgzMasBwQFmqKX9+K62c6wLiA0PB8a7Nu3zYcHsWACJhQUSychNBwZoUwEXzEpAAAAeX12blEv3p0Jej81g4mAAAAA6QvGggAAADJ0Uk5TAP///////////////////////////////////////////////////////8P//////yzgQytLAAAG90lEQVR4nO3d21rbOBRA4WxICDQhJJzP0CmlnWmn7bz/y00syyfJhnwQJG17/RctDb0QqVdjHQijET6YyHg8Fok9jK0S+fTpU5pfk8j+/n6aQ0M0RBiUyNPTU5pDQzREGJTIdDpNc2iIhgiDIkL4+hdhlqCk+hURIVwmwXG/MiRCqNLfCGOPogMRwtXDCIUIoUoWoeS/xB7KthAhdOldhAkvjBpECBcRBkaEcBFhYEQIFxEGRoTw9WyzngihT58ilKT36Q2+iwI+IgyKCOGzET7HHsf7pX4nahAhXIpPzHgjJkKoRISBESFcaiMUmUwas7//fiiJkNVRNKndJ/Qi/CFECJVURzjJOqweSH1h1OB2FC4iDIwI4epbhDGHtBEihEtrhJJFeL33WE4M0/4uwgpzQvh0npghQvSIxgjtvej1Xm4doPyrIkFuR9GGCIMiQviIMCgihEvniRkToS3wICcKticyzAnhIsLAiBCuPkS4tCWq+BKIEC6V+4TSFaGk/3pIhHBpj/D+frVaR7haESG0UhihXRo1EV4eHNgXxFX2kT3JlnKJRAgXEQZGhHBpjfA4T8+J0HAOdieGCOFTt1lPhOgbxREul+sIl8v77KObmxuT4PExEUIbxRGu8n16s0Vxr+J1kAjRhgiDIkK41J2YsWuj9QgP3Olgyl8KEcJFhIERIVx9iPDm8tIkeHaW+r3oKBv/r1+/0h4iAlO3T9gS4VLJdNDg+wnhIsLAiBAuxRE2p4MP6U8HDSKEiwgDI0K4VEb45fb2Oo/w8udPk+Dt7YOGe9EREaKNrs16862ER+X7WvzRNB00iBA+ZRFmtRURrm5MhNfX15oi/Pr1q4qRIhxNEdoJYRGhPap2pCdBNuvRhgiDIkK4dJ2YqSL8eXn5J58QPj7mazKxx7YhkYuLCxVPNkLRGuGNpvOidSzMwKU8wmMV50XreCWES9c+oRfho7IEmRPCR4SBESFcWiNcLpd7e0dfVK3JGOwTwqU1QlXnRetYmIFLU4RFgo9ne3tnt2vq7kVH2Rfx9PSkbMz4aHo2622EZ9mL4JfJRGOCzAnRhgiDIkL4FEZ49vCgNEEiRBuNEZYvgxqG3USEcGk6MVMuzBwVEcYe0RsQIVwKI5xM1N6LjogQPiIMjAiRqyZTCvcJNSfIZj0KRBgNESIjcnX1bK8DPRE2b0ZTH20nIkQma+57V4TJXh/1CNXsTZiBimU/IkL0I8LYo9mQtCBCFCuiV/blpL5Zn/KNaRVhogP0iezs7JhfDPtHVkdBhMEQIbrYvcHfv6v06o8neoWUEaY5vDZVf02JPsMIqLZBXxkpiVDNmsyoM0KRH7FHhtiURxh7IJvrjFDR14CPYVdHRRa7FUn9AJuJMNGxdei6HeV+FEQYCBGiS9bfYRbeSfbRvIww7dvR+mE7JexyqOxUvxmsj+LVCBO9QJIdWJcXI5Tm34w1RsShNUJ1iBAd1v/+WXULkausufM8SONc8k9yTWxB54ww83d2dq3aoGWaOCgiRBgGEaKDyCzLbSan48JfeZUNXBPvZiPMUjtpyXB/f79YJyXC4bDb8ptGWP1PjbfYMEKDCIeCCIMiQjiqtc8NIyyXSrk83iZPS1pWR4sl0vofeZYHgAhDI0I0FGfSarm1rY46HRaVcoG8Re12VLwEi9tRIhwOIgyPCNFAhOERIRxi38ainln92NquPbnmRcic8I1e3KxnTjhERBgaEcLnRNZ0UjbXiJBr482IED4iDIoI0Wp99zmftyQ4n8/Oz02E5+fF3yDC93kxwun04uKCCAepPLbmEPlnXK2FSjVFjD1gxV6LkNXRgSLCcIgQbewS6d2GEcYerm6vfT9h8wGe7aEgwoCIEL7yCMzzYuGszpycfLu6IsKtMj9/qbXA9eNEOFDVObQ7/6jaSf19uYlwC16M0PsUz/YwEGFQRAhXlWBrhMVyaLWjz2XxXubHoLVE2PYoz/YQEGFwRAiX6cvcb7YdmtndnZV2dw8PD7ks3stE6N14TqdEOFyvRei8KsYern5mk8L8iHrbmdFIsNzH4PkejHWEv8d3d1WE89azpPM5EW4BEaKFe2wti61lfsiJta0oCisjtI9Ks0oiHBbv7CgRfqANIqy9C0bkwSKgdYVFhoez2be177NGl7PZjHeW2Yr2CEfN8IhwkMqFGbtB77zvaPWWo7EHql3xo9Hs794nvI8xGCLm7Ohi8XyavwPw6Wl1mHSxOLWPcmG8FxGim5kH1nfvRT6Xr4O80eH2SDUPbP9E6ycxBEQYCBGiW7Fx34xwVn+USwP4SF6EUm5NECEQiBPh5zUiBIIqi7P7VfXNZOYpQABECESXRUhuQERECESWRxh7FMCgkSAQGRECAAC85H9dUmyofnI0YwAAAABJRU5ErkJggg==",zt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAAuCAYAAAD0kU3xAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtElEQVR4nO2cUY7DIAxEN6veJceMesyeJv2iclEIxLHBTOd9tRIEyGADNu2yb+v+R6bnf3QHiA0UEoSH/LI8X6P6QRTs2/r5TIsEgUKCQCFBoJAgUEgQKCQIj3qRfsjtdM7Z0eisntUzjuq2tnv0jFTX6sjXxSL3ba0O+upL0fZD23ZeRtPfVEfWtRq3u0XWZp4cyFmZUrlafc0ESs85Ei9q0GToGnl3NnrUl0JZuNNeuFqk9TrgzVE/l+erKngiL9dz3G4WGXXmouK+RlrMylkseiQuFklr7I/rZoeW1A9zIWmNY3CzSFpjXxhrBcFUyNnOjUjQIkGgkCBUAwItQW1Zbma3OmrHrU3fSaoWWco0kFg0hehk4DhyKucuLam2Hu1q2mteI9HdaiRyL9girGqzQxcbj0tCcr2My+U0VinR6sXIZO1MqPKRSczWo0kvftlLTBsQ0IqGKrb6hoB0sVpr1LppjbvNryBG8CAlNJ5u+AVlefWwJGrkl26BhZe45VotX/AIsTRtWt1Bsh7vIv8MAn3mo8FfLANCIUGgkCBQSBAoJAhf50jUqMcvQIsEgUKC8AZ00sAcaiLsEQAAAABJRU5ErkJggg==",Xt={root:"styles_root__CEdGL",background:"styles_background__dxeLP",body:"styles_body__o-6ZK",window:"styles_window__ASnVo",title:"styles_title__6wHPv",btn:"styles_btn__lL+tu",btn_empty:"styles_btn_empty__3NneV",items:"styles_items__yJ9sj",quests:"styles_quests__58NxQ",quest:"styles_quest__65tbN",quest_completed:"styles_quest_completed__6XOvB",questDescription:"styles_questDescription__bMEbk",questDescription__body:"styles_questDescription__body__-HZ3d"};function Ot(){Y("\u041a\u0432\u0435\u0441\u0442\u044b");const e=Oe(),t=Ce(),s=se(null,(s=>{s&&null!=s.dialogId&&!s.opened&&e.run(s.dialogId,(()=>{t.mutate(s.id),s.opened=!0}))})),n=we();return(0,y.jsxs)(R,{centeredPage:!0,gap:"1em",className:Xt.root,footer:(0,y.jsx)(Bt,{curPage:"quest"}),children:[e.el(),(0,y.jsx)("div",{className:Xt.background}),(0,y.jsx)("h1",{className:Xt.title,children:"Underparty"}),n.isLoading&&(0,y.jsx)(B,{}),(0,y.jsxs)("div",{className:Xt.body,children:[(0,y.jsx)(Mt,{className:Xt.window,title:"\u041a\u0432\u0435\u0441\u0442\u044b",footer:(0,y.jsx)("img",{className:Xt.items,src:Vt,alt:""}),onClose:()=>s.set(null),children:s.v?(0,y.jsxs)("div",{className:Xt.questDescription,children:[(0,y.jsxs)("button",{className:w(Xt.quest,s.v.completed&&Xt.quest_completed),onClick:()=>s.set(null),children:[(0,y.jsx)("span",{children:s.v.name}),(0,y.jsx)("span",{children:$t(s.v.reward)})]},s.v.id),s.v&&null!=s.v.dialogId?(0,y.jsx)("button",{onClick:()=>s.v&&null!=s.v.dialogId&&e.run(s.v.dialogId),children:"\u0412\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435"}):(0,y.jsx)("div",{}),(0,y.jsx)("div",{className:Xt.questDescription__body,children:s.v.description||"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f"}),(0,y.jsx)(E.rU,{to:"/scanner",className:Xt.btn,children:(0,y.jsx)("img",{src:zt,alt:"\u0421\u0434\u0430\u0442\u044c"})})]}):(0,y.jsxs)("div",{className:Xt.quests,children:[A(n),n.data&&Zt.concat(n.data).map((e=>(0,y.jsxs)("button",{className:w(Xt.quest,e.completed&&Xt.quest_completed),onClick:()=>s.set(e),children:[(0,y.jsx)("span",{children:e.name}),(0,y.jsx)("span",{children:$t(e.reward)})]},e.id)))]})}),s.v?(0,y.jsx)("div",{className:Xt.btn_empty}):(0,y.jsx)(E.rU,{to:"/scanner",className:Xt.btn,children:(0,y.jsx)("img",{src:zt,alt:"\u0421\u0434\u0430\u0442\u044c"})})]})]})}const Zt=[{id:-1,name:"\u0411\u0430\u0440\u0430\u0445\u043e\u043b\u043a\u0430",description:"\u0421\u0434\u0430\u0439\u0442\u0435 \u043e\u0434\u043d\u043e [\u0411\u0410\u0420\u0410\u0425\u041b\u041e], \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u043c\u0435\u043d\u044f\u0442\u044c \u0435\u0433\u043e \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0435 [\u0411\u0410\u0420\u0410\u0425\u041b\u041e] \u0438\u043b\u0438 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u0432\u0430\u043b\u044e\u0442\u0443 GGG!",reward:1/0,completed:!1,dialogId:-1,opened:!1}];function $t(e){return isFinite(e)?e+"G":"\u221e"}function es(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>{const t=await u("/api/scanner",e);return s.setQueryData("user",(e=>((e=e||{auth:!1,id:"",balance:0,roles:[],name:"",last_name:"",photo:"",operations:[],group:-1,gameOpened:!1}).balance=t.balance,"ok"==t.res&&"promote"==t.action&&ye(s,"user"),"ok"==t.res&&"quest"==t.action&&ye(s,"quests"),e))),t},onSuccess:e,onError:t})}const ts={root:"styles_root__QdJnV",msg:"styles_msg__plnAU",msg_visible:"styles_msg_visible__G0rDm",msg_dimmed:"styles_msg_dimmed__0Xs60",bar:"styles_bar__VuYbs",bar_full:"styles_bar_full__poY0b"},ss={error:"styles_error__EtK3I",video:"styles_video__b88Zl"},ns=s.p+"static/media/beep.38f199e084efe5461ffd.mp3";function is(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=te(new Audio),n=de(!1);return(0,j.useEffect)((()=>{s.set((()=>{const s=new Audio(e);return s.preload="auto",t&&s.addEventListener("ended",s.play),n.v&&s.play(),s}))}),[e,t]),(0,j.useEffect)((()=>{n.v?(s.v.currentTime=0,s.v.play()):s.v.pause()}),[n.v,s.v]),{play:n.setT,stop:n.setF}}var as=s(1096);let ls=e=>{},rs=()=>{},os=!1,cs=null,ds=null;function us(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(!ds){cs=document.createElement("div"),document.body.appendChild(cs),cs.style.display="flex",cs.style.backgroundColor="black";const e=document.createElement("video");cs.appendChild(e),ds=new as.Z(e,(e=>ls(e.data)),{highlightScanRegion:!0,maxScansPerSecond:10})}(0,j.useEffect)((()=>(setTimeout((()=>{var e;return null===(e=ds)||void 0===e?void 0:e.start().catch((()=>{setTimeout((()=>{var e;null===(e=ds)||void 0===e||e.start().catch((()=>rs()))}),250)}))}),100),()=>{var e;null===(e=ds)||void 0===e||e.stop()})),[]);const[s,n]=(0,j.useState)(!1),[i,a]=(0,j.useState)(""),[l,r]=(0,j.useState)(os),o=is(ns);return ls=i=>{s||e||(a(i),n(!0),o.play(),setTimeout((()=>{a(""),n(!1)}),t))},rs=()=>{os=!0,r(!0)},l?{scanned:i,scanner:(0,y.jsxs)("div",{className:ss.error,children:[(0,y.jsx)("h1",{children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043a\u0430\u043c\u0435\u0440\u0435"}),(0,y.jsx)("p",{children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u043c\u0435\u0440\u044b \u044d\u0442\u043e\u043c\u0443 \u0441\u0430\u0439\u0442\u0443 \u0438 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0443, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0442\u0435."}),(0,y.jsx)("p",{children:"\u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."})]})}:{scanned:i,scanner:(0,y.jsx)("div",{children:(0,y.jsx)("div",{ref:e=>{e&&(e.innerHTML="",e.appendChild(cs))},className:ss.video})})}}function hs(e){let{useMutation:t,onScan:s,formatMsg:n,onRes:i,className:a,pause:l}=e;const[r,o]=(0,j.useState)(""),[c,d]=(0,j.useState)(""),u=(0,j.useRef)(null),h=t((e=>{o(n(e)),d(""),x(),null===i||void 0===i||i(e)}),(e=>{o(""),d(p(e)),x()})),{scanned:v,scanner:m}=us(!h.isIdle||l);function x(){var e;setTimeout((()=>h.reset()),1e3),null===(e=u.current)||void 0===e||e.classList.add(ts.bar_full),setTimeout((()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.classList.remove(ts.bar_full)}),100)}return(0,j.useEffect)((()=>{if(""==v||!h.isIdle)return;o(""),d("");const e=s(v);e?h.mutate(e):d("\u041d\u0435 \u043e\u043f\u043e\u0437\u043d\u0430\u043d\u043e")}),[v]),(0,y.jsxs)("div",{className:w(ts.root,a),children:[h.isLoading&&(0,y.jsx)(B,{}),m,(0,y.jsxs)("div",{className:w(ts.msg,(r||c)&&ts.msg_visible,(r||c)&&h.isIdle&&ts.msg_dimmed),children:[(0,y.jsx)("h2",{children:r}),(0,y.jsx)("h2",{children:c})]}),(0,y.jsx)("div",{ref:u,className:ts.bar})]})}const vs={root:"styles_root__CrawG",background:"styles_background__sRVhE","anim-background":"styles_anim-background__FEgkK",body:"styles_body__WfmVk",gold:"styles_gold__NCkdw"};function ms(){var e,t,s,i;Y("\u0421\u043a\u0430\u043d\u0435\u0440");const a=de(!1),l=te(null,a.setT),r=(0,n.s0)();return(0,y.jsxs)(R,{centeredPage:!0,gap:"1em",className:vs.root,footer:(0,y.jsx)(Bt,{}),homeBtn:!0,children:[(0,y.jsx)("div",{className:vs.background}),(0,y.jsx)(Mt,{title:"QR-\u0410\u043a\u0442\u0438\u0432\u0430\u0442\u043e\u0440",disableScroll:!0,className:vs.body,onClose:()=>r(-1),children:(0,y.jsx)(hs,{useMutation:es,pause:a.v,onScan:e=>{const t=["quest_","item_","send_","promote_"];for(const s of t)if(e.startsWith(s))return{code:e};return null},formatMsg:e=>{var t;return null!==(t={ok:"",wrong:"\u041d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 QR",error:e.msg}[e.res])&&void 0!==t?t:e.res},onRes:e=>{"ok"==e.res&&l.set(e)}})}),(0,y.jsxs)(z,{title:"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043e",open:a.v,close:a.setF,children:["quest"==(null===(e=l.v)||void 0===e?void 0:e.action)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h1",{children:"\u041a\u0432\u0435\u0441\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d!"}),(0,y.jsx)("br",{}),(0,y.jsx)("h2",{children:l.v.msg}),(0,y.jsx)("br",{}),(0,y.jsxs)("h2",{children:[(0,y.jsx)("span",{children:"\u041d\u0430\u0433\u0440\u0430\u0434\u0430: "}),(0,y.jsxs)("span",{className:vs.gold,children:[l.v.value,"\u041c"]})]})]}),"store"==(null===(t=l.v)||void 0===t?void 0:t.action)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h1",{children:"\u041a\u0443\u043f\u043b\u0435\u043d\u043e!"}),(0,y.jsx)("br",{}),(0,y.jsx)("h2",{children:l.v.msg}),(0,y.jsx)("br",{}),(0,y.jsxs)("h2",{children:[(0,y.jsx)("span",{children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e: "}),(0,y.jsxs)("span",{className:vs.gold,children:[l.v.value,"\u041c"]})]})]}),"send"==(null===(s=l.v)||void 0===s?void 0:s.action)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h1",{children:l.v.value>0?"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u043e":"\u0412\u044b\u0447\u0442\u0435\u043d\u043e"}),(0,y.jsx)("br",{}),(0,y.jsxs)("h1",{className:vs.gold,children:[l.v.value>0?"+":"",l.v.value,"\u041c"]})]}),"promote"==(null===(i=l.v)||void 0===i?void 0:i.action)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h1",{children:"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),(0,y.jsx)("br",{}),(0,y.jsxs)("h2",{children:["\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b ",{worker:"\u0432\u043e\u043b\u043e\u043d\u0442\u0451\u0440",manager:"\u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439"}[l.v.msg]||"\u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"]})]})]})]})}const xs={block:"styles_block__jLSvl",value:"styles_value__AMUT8",action:"styles_action__S+Amy",reusable:"styles_reusable__AlAhN",checkbox:"styles_checkbox__5B3El",qr:"styles_qr__NIQPC",send:"styles_send__R5BDM",check:"styles_check__tkMiQ",notUsed:"styles_notUsed__BJDX-",used:"styles_used__GIw2A"};function gs(){var e,t,s,n,a,l,r,o;Y("\u041a\u0430\u0437\u043d\u0430\u0447\u0435\u0439\u0441\u0442\u0432\u043e");const c=de(!1),d=te(null,c.setT),h=(v=d.set,(0,i.useMutation)({mutationFn:async e=>await u("/api/send",e),onSuccess:v}));var v;const m=function(e){return(0,i.useMutation)({mutationFn:async e=>await u("/api/send_check",{id:e}),onSuccess:e})}(),x=de(!1),g=te(1);function j(e){h.mutate({value:g.v,positive:e,reusable:x.v}),m.reset()}return(0,y.jsxs)(R,{centered:!0,homeBtn:!0,forStaff:!0,children:[(0,y.jsx)("h2",{children:"\u041a\u0430\u0437\u043d\u0430\u0447\u0435\u0439\u0441\u0442\u0432\u043e"}),h.isLoading&&(0,y.jsx)(B,{}),m.isLoading&&(0,y.jsx)(B,{}),A(h),(0,y.jsxs)("div",{className:xs.block,children:[(0,y.jsx)("input",{className:xs.value,type:"number",name:"value",value:g.v,onChange:e=>g.set(Math.max(1,e.target.valueAsNumber))}),(0,y.jsxs)("label",{className:xs.reusable,children:[(0,y.jsx)("span",{children:"\u041c\u043d\u043e\u0433\u043e\u0440\u0430\u0437\u043e\u0432\u044b\u0439"}),(0,y.jsxs)("div",{className:xs.checkbox,children:[(0,y.jsx)("input",{type:"checkbox",checked:x.v,onChange:e=>x.set(e.target.checked)}),(0,y.jsx)("span",{})]})]}),(0,y.jsxs)("div",{className:xs.action,children:[(0,y.jsx)("button",{onClick:()=>j(!0),children:"\u041d\u0430\u0447\u0438\u0441\u043b\u0438\u0442\u044c"}),(0,y.jsx)("button",{onClick:()=>j(!1),children:"\u0421\u043f\u0438\u0441\u0430\u0442\u044c"})]})]}),(0,y.jsxs)(z,{title:null!==(e=d.v)&&void 0!==e&&e.reusable?"\u041c\u043d\u043e\u0433\u043e\u0440\u0430\u0437\u043e\u0432\u044b\u0439":"\u041e\u0434\u043d\u043e\u0440\u0430\u0437\u043e\u0432\u044b\u0439",open:c.v,close:c.setF,children:[(0,y.jsx)("div",{className:xs.qr,children:(0,y.jsx)(Kt,{code:"send_"+(null===(t=d.v)||void 0===t?void 0:t.id),colorBg:"#ffffff00",scale:13})}),(0,y.jsxs)("div",{className:xs.send,children:[(0,y.jsx)("h2",{children:null!==(s=d.v)&&void 0!==s&&s.positive?"\u0417\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435":"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,y.jsxs)("h1",{children:[null!==(n=d.v)&&void 0!==n&&n.positive?"+":"-",null===(a=d.v)||void 0===a?void 0:a.value," G"]})]}),A(m),!(null!==(l=d.v)&&void 0!==l&&l.reusable)&&(0,y.jsxs)("div",{className:xs.check,children:[(0,y.jsx)("button",{onClick:()=>{var e;return m.mutate((null===(e=d.v)||void 0===e?void 0:e.id)||"")},children:"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c"}),(0,y.jsx)("span",{className:null!==(r=m.data)&&void 0!==r&&r.successful?xs.used:xs.notUsed,children:null!==(o=m.data)&&void 0!==o&&o.successful?"\u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434":"\u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d"})]})]})]})}const js={root:"styles_root__0CejE",list:"styles_list__4uN5e",title:"styles_title__u3Xt9",items:"styles_items__n-Fvc",item:"styles_item__zIxt2",item__img:"styles_item__img__r3iEr",item__desc:"styles_item__desc__wbcAM",item_few:"styles_item_few__nkL6C",item_ended:"styles_item_ended__Mn60C"};function fs(){var e;Y("\u041c\u0430\u0433\u0430\u0437\u0438\u043d");const t=(0,i.useQuery)("storeItems",(async()=>await d("/api/store_items")));return(0,y.jsxs)(R,{centeredPage:!0,gap:"1em",className:js.root,footer:(0,y.jsx)(Bt,{curPage:"store"}),children:[t.isLoading&&(0,y.jsx)(B,{}),(0,y.jsx)("h1",{className:w("title",js.title),children:"Underparty"}),(0,y.jsx)(Mt,{title:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d",className:js.list,children:(0,y.jsxs)("div",{className:js.items,children:[A(t),null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.map((e=>(0,y.jsxs)(E.rU,{to:"/scanner",className:w(js.item,"few"==e.count&&js.item_few,"no"==e.count&&js.item_ended),children:[(0,y.jsx)("div",{className:js.item__img,children:(0,y.jsx)("div",{children:e.img?(0,y.jsx)("img",{src:e.img,alt:"\u0422\u043e\u0432\u0430\u0440"}):(0,y.jsx)("div",{})})}),(0,y.jsx)(oe,{small:!0,dark:!0,btn:!0,children:(0,y.jsxs)("div",{className:js.item__desc,children:[(0,y.jsxs)("span",{children:[e.name," - "]}),(0,y.jsxs)("span",{children:[e.price,"\u041c"]})]})})]},e.id)))]})})]})}const ys={root:"styles_root__E5y+5",title:"styles_title__3QqY9",body:"styles_body__nvDgq",list:"styles_list__6yPeV",items:"styles_items__UxmDm",item:"styles_item__F46+o",item_title:"styles_item_title__X67MD",btns:"styles_btns__Ctsik",btn:"styles_btn__pG0e4"};function ps(){Y("\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435");const e=te(0),t=[As,bs,ws,Ss][e.v];return(0,y.jsxs)(R,{centeredPage:!0,className:ys.root,footer:(0,y.jsx)(Bt,{curPage:"timetable"}),children:[(0,y.jsx)("h1",{className:w("title",ys.title),children:"Underparty"}),(0,y.jsxs)("div",{className:ys.body,children:[(0,y.jsx)(Mt,{className:ys.list,scrollUpdate:e.v,children:(0,y.jsx)("div",{className:ys.items,children:t.map(((e,t)=>e.title?(0,y.jsx)("div",{className:w("title",ys.item_title),children:e.text},t):(0,y.jsx)(oe,{dark:!0,children:(0,y.jsx)("div",{className:ys.item,children:e.text})},t)))})}),(0,y.jsxs)("div",{className:ys.btns,children:[(0,y.jsx)(oe,{small:!0,btn:!0,highlight:0==e.v,children:(0,y.jsx)("button",{onClick:()=>e.set(0),className:w(ys.btn,"title"),children:"\u0421\u0446\u0435\u043d\u044b"})}),(0,y.jsx)(oe,{small:!0,btn:!0,highlight:1==e.v,children:(0,y.jsx)("button",{onClick:()=>e.set(1),className:w(ys.btn,"title"),children:"\u0410\u0432\u0442\u043e\u0433\u0440\u0430\u0444"})}),(0,y.jsx)(oe,{small:!0,btn:!0,highlight:2==e.v,children:(0,y.jsx)("button",{onClick:()=>e.set(2),className:w(ys.btn,"title"),children:"\u041b\u0435\u043a\u0446\u0438\u0438"})}),(0,y.jsx)(oe,{small:!0,btn:!0,highlight:3==e.v,children:(0,y.jsx)("button",{onClick:()=>e.set(3),className:w(ys.btn,"title"),children:"\u0422\u0443\u0440\u043d\u0438\u0440\u044b"})})]})]})]})}const As=[{text:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0446\u0435\u043d\u0430:",title:!0},{text:"12:50 - \u0426\u0435\u0440\u0435\u043c\u043e\u043d\u0438\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f"},{text:"13:00 - \u041c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430"},{text:"13:30 - 1 \u0431\u043b\u043e\u043a \u043a\u043e\u0441\u043f\u043b\u0435\u0439 \u0434\u0435\u0444\u0438\u043b\u0435"},{text:"14:00 - Shima Nori. \u0418\u043d\u0434\u0438 \u0438\u0433\u0440\u044b \u043d\u0430 \u0444\u043e\u0440\u0442\u0435\u043f\u0438\u0430\u043d\u043e"},{text:"14:30 - \u0410\u0443\u043a\u0446\u0438\u043e\u043d"},{text:"14:50 - Undertale \u0421\u0446\u0435\u043d\u043a\u0430: Underdogs"},{text:"15:00 - 2 \u0431\u043b\u043e\u043a \u043a\u043e\u0441\u043f\u043b\u0435\u0439 \u0434\u0435\u0444\u0438\u043b\u0435"},{text:"15:40 - \u041c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430"},{text:"16:15 - \u0411\u043b\u043e\u043a \u0410\u043d\u0438\u043c\u0430\u0446\u0438\u0438: \u0410\u043d\u0442\u0438\u041a\u0435\u043a, BDP, CornMayor"},{text:"17:00 - \u0412\u044b\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435 \u043c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f"},{text:"18:10 - \u0424\u0438\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0411\u0438\u0442\u0432\u0430"},{text:"18:25 - \u041d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435"},{text:"18:50 - \u0410\u043d\u0438\u043c\u0430\u0446\u0438\u0438"},{text:"19:50 - \u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u0441\u0446\u0435\u043d\u044b"},{text:"\u041c\u0430\u043b\u0430\u044f \u0441\u0446\u0435\u043d\u0430:",title:!0},{text:"12:00 - \u041e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u043e\u0442 \u042e\u0442\u0443\u0431\u0435\u0440\u043e\u0432"},{text:"12:40 - \u041b\u043e\u0442\u0435\u0440\u0435\u044f"},{text:"13:30 - QWIZ \u0418\u043d\u0434\u0438 \u0445\u043e\u0440\u0440\u043e\u0440\u044b"},{text:"14:00 - EVRYBODY SWITCH"},{text:"15:00 - \u041b\u043e\u0442\u0435\u0440\u0435\u044f"},{text:"15:30 - QWIZ \u043f\u0438\u043a\u0441\u0435\u043b\u044c\u043d\u044b\u0435 \u0420\u041f\u0413"},{text:"16:00 - \u0422\u0443\u0440\u043d\u0438\u0440: Overcooked 2"},{text:"16:40 - \u0422\u0443\u0440\u043d\u0438\u0440: Your Only Move Is HUSTLE"},{text:"17:20 - \u0422\u0443\u0440\u043d\u0438\u0440: Rival of Aether"},{text:"18:00 - \u041b\u043e\u0442\u0435\u0440\u0435\u044f"},{text:"18:45 - \u0414\u0438\u0441\u043a\u043e\u0442\u0435\u043a\u0430"},{text:"19:45 - \u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u0441\u0446\u0435\u043d\u044b"},{text:"\u0418\u043d\u0434\u0438 \u0421\u0446\u0435\u043d\u0430:",title:!0},{text:"13:00 - \u041f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0438\u043d\u0434\u0438-\u0438\u0433\u0440"},{text:"14:00 - \u041f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438 Game Jam"},{text:"15:00 - \u041f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0438\u043d\u0434\u0438-\u0438\u0433\u0440"},{text:"16:00 - \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0434\u0436\u0435\u043c\u0430"},{text:"16:30 - \u041f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0438\u043d\u0434\u0438-\u0438\u0433\u0440"}],bs=[{text:"13:30 - \u0410\u043d\u0442\u0438\u041a\u0435\u043a"},{text:"14:00 - \u0411\u0435\u043c\u043e\u043d"},{text:"14:30 - JF Voice \u0438 FolkStudio"},{text:"15:00 - \u041d\u0435\u0430\u0434\u0435\u043a\u0432\u0430\u0442 \u0420\u0435\u043a\u043e\u0440\u0434\u0441"},{text:"15:30 - WonderNope"},{text:"16:00 - \u0418\u0433\u043e\u0440\u044c \u0427\u0430\u0439 (\u0442\u0432)"},{text:"16:30 - \u0429\u0438\u0449 (\u0438\u0433\u0440\u0430 \u0432 Uno)"}],ws=[{text:"13:00 - \u041e \u0444\u0440\u0430\u043d\u0448\u0438\u0437\u0435 Hylics"},{text:"13:40 - \u0418\u043d\u0434\u0438 \u0438\u0433\u0440\u044b \u043a\u0430\u043a \u0438\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e"},{text:"14:10 - \u041a\u0430\u043a \u043d\u0430\u0439\u0442\u0438 \u2728\u0442\u0443 \u0441\u0430\u043c\u0443\u044e\u2728 \u0438\u0434\u0435\u044e \u0434\u043b\u044f \u0438\u0433\u0440\u044b"},{text:"14:40 - \u041a\u0440\u0430\u0443\u0434\u0444\u0430\u043d\u0434\u0438\u043d\u0433 \u0430\u0432\u0442\u043e\u0440\u0441\u043a\u043e\u0439 \u0438\u0433\u0440\u044b"},{text:"15:20 - \u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 Touhou Project \u0438 \u043a\u0430\u043a \u0435\u0433\u043e \u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u044f\u0442\u044c?"},{text:"16:00 - \u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0430\u0434 \u0432 \u0438\u0433\u0440\u043e\u0432\u043e\u0439 \u0438\u043d\u0434\u0443\u0441\u0442\u0440\u0438\u0438"},{text:"16:40 - \u0410\u043d\u0430\u043b\u0438\u0437 \u0438\u0433\u0440 \u0434\u043b\u044f \u0433\u0435\u0439\u043c-\u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u043e\u0432 \u0438 \u043e\u0431\u0437\u043e\u0440\u0449\u0438\u043a\u043e\u0432"}],Ss=[{text:"\u0418\u043d\u0434\u0438 \u0422\u0443\u0440\u043d\u0438\u0440\u044b (\u043d\u0430 \u043c\u0430\u043b\u043e\u0439 \u0441\u0446\u0435\u043d\u0435):",title:!0},{text:"16:00 - Overcooked 2"},{text:"16:40 - Your Only Move Is HUSTLE"},{text:"17:20 - Rival of Aether"},{text:"\u0420\u0435\u0442\u0440\u043e \u0422\u0443\u0440\u043d\u0438\u0440\u044b (\u043d\u0430 \u0433\u0435\u0439\u043c \u0437\u043e\u043d\u0435):",title:!0},{text:"13:00 - Super Tetris 3"},{text:"14:00 - Tekken 3"},{text:"15:00 - Mortal Combat 3"}],ks={user:"styles_user__WUZvf",title:"styles_title__Gd1jL",toggle:"styles_toggle__qlIwC",toggleInp:"styles_toggleInp__fGE-7",userInfo:"styles_userInfo__vgBlw",operations:"styles_operations__MGBbv"};function Cs(){var e;Y("Users");const t=(0,i.useQuery)("users",(async()=>await d("/api/users")));return(0,y.jsxs)(R,{centeredPage:!0,homeBtn:!0,gap:8,forDev:!0,children:[t.isLoading&&(0,y.jsx)("h3",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),A(t),null===(e=t.data)||void 0===e?void 0:e.map((e=>(0,y.jsxs)("div",{className:ks.user,children:[(0,y.jsx)("input",{type:"checkbox",className:ks.toggleInp,id:`user${e.id}`}),(0,y.jsxs)("label",{className:ks.title,htmlFor:`user${e.id}`,children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{children:e.login}),(0,y.jsx)("div",{style:{color:"blue"},children:e.id}),(0,y.jsx)("div",{children:"|"}),(0,y.jsx)("div",{children:e.name})]}),(0,y.jsxs)("div",{children:[e.deleted&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:{color:"tomato"},children:"deleted"}),(0,y.jsx)("div",{children:"|"})]}),(0,y.jsx)("span",{children:e.roles.join(", ")}),(0,y.jsx)("div",{className:ks.toggle})]})]}),(0,y.jsx)("div",{className:ks.userInfo,children:(0,y.jsxs)("div",{children:[(0,y.jsx)("h4",{children:"Operations"}),(0,y.jsx)("div",{className:ks.operations,children:e.operations.map(((e,t)=>(0,y.jsx)("div",{children:_s(e)},t)))})]})})]},e.id)))]})}function _s(e){const t={page:"#990099",add:"#008000",get:"#008000",change:"#006fb3",delete:"#b30000"};for(const s in t)if(e.startsWith(s))return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{style:{color:t[s]},children:s}),(0,y.jsx)("span",{children:e.slice(s.length)})]});return(0,y.jsx)("span",{children:e})}const Is={btn:"styles_btn__w12Ul"};function Ns(){return(0,y.jsxs)(R,{centered:!0,homeBtn:!0,gap:"1rem",forStaff:!0,children:[x("manage_store")&&(0,y.jsx)(E.rU,{to:"/manage_store",className:Is.btn,children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043e\u043c"}),x("manage_quest")&&(0,y.jsx)(E.rU,{to:"/manage_quest",className:Is.btn,children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0432\u0435\u0441\u0442\u0430\u043c\u0438"}),x("page_worker_quest")&&(0,y.jsx)(E.rU,{to:"/worker_quest",className:Is.btn,children:"\u0414\u043b\u044f \u043a\u0432\u0435\u0441\u0442\u043e\u0432\u0438\u043a\u043e\u0432"}),x("page_worker_store")&&(0,y.jsx)(E.rU,{to:"/worker_store",className:Is.btn,children:"\u0414\u043b\u044f \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u043e\u0432"}),x("send_any")&&(0,y.jsx)(E.rU,{to:"/send",className:Is.btn,children:"\u041a\u0430\u0437\u043d\u0430\u0447\u0435\u0439\u0441\u0442\u0432\u043e"}),x("promote_worker")&&(0,y.jsx)(E.rU,{to:"/promote_worker",className:Is.btn,children:"\u041f\u043e\u0432\u044b\u0441\u0438\u0442\u044c \u0434\u043e \u0432\u043e\u043b\u043e\u043d\u0442\u0451\u0440\u0430"}),x("promote_manager")&&(0,y.jsx)(E.rU,{to:"/promote_manager",className:Is.btn,children:"\u041f\u043e\u0432\u044b\u0441\u0438\u0442\u044c \u0434\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0435\u0433\u043e"}),x("manage_games")&&(0,y.jsx)(E.rU,{to:"/game_settings",className:Is.btn,children:"\u0418\u0433\u0440\u0430"})]})}const Es={root:"styles_root__Ch43Y",quests:"styles_quests__CJF3F",quest:"styles_quest__la9IG",quest_hidden:"styles_quest_hidden__895fL",qr:"styles_qr__CpwFg",questCard:"styles_questCard__LUpC3"};function Fs(){var e,t,s,n;Y("Qr \u041a\u0432\u0435\u0441\u0442\u044b");const i=Se(),a=de(!1),l=te(null,a.setT);return(0,y.jsxs)(R,{centered:!0,homeBtn:!0,gap:"1rem",height100:!0,className:Es.root,forStaff:!0,children:[i.isLoading&&(0,y.jsx)(B,{}),A(i),(0,y.jsx)("h2",{children:"\u041a\u0430\u043a\u043e\u0439 \u043a\u0432\u0435\u0441\u0442 \u0432\u044b \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0435?"}),(0,y.jsx)("div",{className:Es.quests,children:null===(e=i.data)||void 0===e?void 0:e.map((e=>(0,y.jsx)("button",{onClick:()=>l.set(e),className:w(Es.quest,e.hidden&&Es.quest_hidden),children:e.name},e.id)))}),(0,y.jsxs)(z,{title:"\u041a\u043e\u0434 \u043a\u0432\u0435\u0441\u0442\u0430",open:a.v,close:a.setF,children:[(0,y.jsx)("div",{className:Es.qr,children:(0,y.jsx)(Kt,{code:`quest_${null===(t=l.v)||void 0===t?void 0:t.id_big}`,colorBg:"#ffffff00",scale:13})}),(0,y.jsxs)("div",{className:Es.questCard,children:[(0,y.jsx)("div",{children:null===(s=l.v)||void 0===s?void 0:s.name}),(0,y.jsxs)("div",{children:[null===(n=l.v)||void 0===n?void 0:n.reward," G"]})]}),(0,y.jsx)("h3",{children:"QR-\u043a\u043e\u0434 \u0434\u043b\u044f \u0437\u0430\u0447\u0451\u0442\u0430 \u043a\u0432\u0435\u0441\u0442\u0430"})]})]})}const Qs={items:"styles_items__ph2vL",item:"styles_item__t2Q7S",item__img:"styles_item__img__9MSeY",item__desc:"styles_item__desc__vFBVd",qr:"styles_qr__Sgcly",item_small:"styles_item_small__EPwTh"};function Ls(){var e,t,s,n,i,a;Y("Qr \u0422\u043e\u0432\u0430\u0440\u044b");const l=ht(),r=de(!1),o=te(null,r.setT);return(0,y.jsxs)(R,{centeredPage:!0,gap:"1rem",height100:!0,homeBtn:!0,forStaff:!0,children:[(0,y.jsx)("h1",{children:"\u041f\u0440\u043e\u0434\u0430\u0436\u0430"}),l.isLoading&&(0,y.jsx)(B,{}),A(l),(0,y.jsx)("div",{className:Qs.items,children:null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.map((e=>(0,y.jsxs)("button",{className:Qs.item,onClick:()=>o.set(e),children:[(0,y.jsx)("div",{className:Qs.item__img,children:e.img?(0,y.jsx)("img",{src:e.img,alt:"\u0422\u043e\u0432\u0430\u0440"}):(0,y.jsx)("div",{})}),(0,y.jsxs)("div",{className:Qs.item__desc,children:[(0,y.jsx)("span",{children:e.name}),(0,y.jsxs)("span",{children:[e.price," G"]})]})]},e.id)))}),(0,y.jsxs)(z,{title:"\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430",open:r.v,close:r.setF,children:[(0,y.jsx)("div",{className:Qs.qr,children:(0,y.jsx)(Kt,{code:`item_${null===(t=o.v)||void 0===t?void 0:t.id_big}`,colorBg:"#ffffff00",scale:13})}),(0,y.jsxs)("div",{className:Qs.item_small,children:[(0,y.jsx)("div",{className:Qs.item__img,children:null!==(s=o.v)&&void 0!==s&&s.img?(0,y.jsx)("img",{src:null===(n=o.v)||void 0===n?void 0:n.img,alt:"\u0422\u043e\u0432\u0430\u0440"}):(0,y.jsx)("div",{})}),(0,y.jsx)("div",{children:null===(i=o.v)||void 0===i?void 0:i.name}),(0,y.jsxs)("div",{children:[null===(a=o.v)||void 0===a?void 0:a.price," G"]})]}),(0,y.jsx)("h3",{children:"QR-\u043a\u043e\u0434 \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0438 \u0442\u043e\u0432\u0430\u0440\u0430"})]})]})}const Bs={root:"styles_root__lfouU",title:"styles_title__VD3jB",title2:"styles_title2__U2DmF",title3:"styles_title3__eIdeM",subtitle:"styles_subtitle__FPJqV",window:"styles_window__hv3AU",text:"styles_text__LeEDg",chooseTeam:"styles_chooseTeam__5JofH",press:"styles_press__jAlFs",press__btn:"styles_press__btn__w-3Uv",circle:"styles_circle__+PsDd","anim-circle":"styles_anim-circle__cc5jy",tourney_winners:"styles_tourney_winners__N9K6Q"};function Ds(){return(0,i.useQuery)("gameDuration",(async()=>await d("/api/game/duration")))}function Js(){return(0,i.useQuery)("gameCounter",(async()=>await d("/api/game/counter")))}function Ts(){return(0,i.useQuery)("gameStartStr",(async()=>await d("/api/game/startStr")))}function Rs(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await u("/api/game/duration",{duration:e}),onSuccess:t=>{s.setQueryData("gameDuration",t),null===e||void 0===e||e(t)},onError:t})}function Gs(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await u("/api/game/counter",{counter:e}),onSuccess:t=>{s.setQueryData("gameCounter",t),null===e||void 0===e||e(t)},onError:t})}function Ms(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await u("/api/game/startStr",{startStr:e}),onSuccess:t=>{s.setQueryData("gameStartStr",t),null===e||void 0===e||e(t)},onError:t})}function qs(){const e=h(),t=Oe(),s=function(e){const t=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await r("/api/user/open_game"),onSuccess:()=>{var s;"success"==(null===(s=t.getQueryState("user"))||void 0===s?void 0:s.status)&&t.setQueryData("user",(e=>({...e,gameOpened:!0}))),null===e||void 0===e||e()}})}();return(0,j.useEffect)((()=>{e.data&&!e.data.gameOpened&&t.run(2,(()=>s.mutate()))}),[e.data]),(0,y.jsx)(y.Fragment,{children:t.el()})}function Ys(){return(0,i.useQuery)("tourneyCharacters",(async()=>await d("/api/tourney/characters")))}function Us(e,t){return null===e||void 0===e?void 0:e.find((e=>e.id==t))}function Hs(){return(0,i.useQuery)("tourney",(async()=>await d("/api/tourney")))}function Ks(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async()=>await o(`/api/tourney/characters/${e}`),onSuccess:()=>{be(n,"tourneyCharacters",e),null===t||void 0===t||t()},onError:s})}function Ws(e,t,s){return en((t=>[`/api/tourney/nodes/${e}`,t]),t,s)}function Ps(e,t,s){return en((()=>["/api/tourney/start_game_at_node",{nodeId:e}]),t,s)}function Vs(e,t){return en((()=>"/api/tourney/select_next_game"),e,t)}function zs(e,t){return en((()=>"/api/tourney/start_game"),e,t)}function Xs(e,t){return en((()=>"/api/tourney/end_game"),e,t)}function Os(e,t){return en((()=>"/api/tourney/end_tourney"),e,t)}function Zs(e,t){return en((()=>"/api/tourney/unend_tourney"),e,t)}function $s(e,t){return en((()=>"/api/tourney/reset"),e,t)}function en(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>{const s=e(t),n="string"==typeof s?[s,void 0]:s;return await u(...n)},onSuccess:e=>{n.setQueryData("tourney",e),null===t||void 0===t||t()},onError:s})}function tn(){var e,t,s,n,a,l,r,o,c,h,v,m,x,g,f,p,b,S,k,C;Y("\u0418\u0433\u0440\u0430"),(0,j.useEffect)((()=>{const e=document.querySelector('meta[name="viewport"]');if(!e)return;const t=e.getAttribute("content")||"";return e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"),()=>e.setAttribute("content",t)}),[]);const _=(0,i.useQuery)("gameState",(async()=>await d("/api/game/state"))),I=Ys(),N=te(0),E=te(0),F=te(0),Q=te(Date.now()),L=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await u("/api/game/click",{count:e}),onSuccess:t=>{s.setQueryData("gameState",t),null===e||void 0===e||e()},onError:t})}((()=>Q.set(Date.now())),(()=>Q.set(Date.now()))),D=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await u("/api/game/select_team",{team:e}),onSuccess:t=>{s.setQueryData("gameState",t),null===e||void 0===e||e()},onError:t})}(),J=Us(I.data,null===(e=_.data)||void 0===e?void 0:e.opponent1Id),T=Us(I.data,null===(t=_.data)||void 0===t?void 0:t.opponent2Id),G=1==(null===(s=_.data)||void 0===s?void 0:s.winner)?J:2==(null===(n=_.data)||void 0===n?void 0:n.winner)?T:null,M=1==(null===(a=_.data)||void 0===a?void 0:a.team)?J:2==(null===(l=_.data)||void 0===l?void 0:l.team)?T:null,q=Us(I.data,null===(r=_.data)||void 0===r?void 0:r.tourneyWinner1),U=Us(I.data,null===(o=_.data)||void 0===o?void 0:o.tourneyWinner2),H=Us(I.data,null===(c=_.data)||void 0===c?void 0:c.tourneyWinner3);return(0,j.useEffect)((()=>{var e;if(_.isFetching)return;if("going"==(null===(e=_.data)||void 0===e?void 0:e.state))return;0!=E.v&&E.set(0);const t=setTimeout((()=>_.refetch()),5e3);return()=>clearTimeout(t)}),[_.isFetching]),(0,j.useEffect)((()=>{if(!_.data)return;if(N.set(_.data.counter),_.data.counter<0)return;const e=setInterval((()=>{N.set((t=>(0==(t=Math.max(t-1,0))&&(_.refetch(),clearInterval(e)),t)))}),1e3);return()=>clearInterval(e)}),[_.data]),(0,j.useEffect)((()=>{var e;if("going"!=(null===(e=_.data)||void 0===e?void 0:e.state))return;const t=setInterval((()=>{_.refetch()}),5e3),s=()=>clearInterval(t);return E.v<=0||L.isLoading||Date.now()-Q.v<F.v||(L.mutate(E.v),E.set(0),F.set((n=1e3,void 0!=(i=3e3)?Math.floor(Math.random()*(n-i))+i:Math.floor(Math.random()*n)))),s;var n,i}),[E.v,null===(h=_.data)||void 0===h?void 0:h.state]),(0,y.jsxs)(y.Fragment,{children:["start"==(null===(v=_.data)||void 0===v?void 0:v.state)&&(0,y.jsx)(qs,{}),(0,y.jsxs)(R,{centeredPage:!0,gap:"1em",className:Bs.root,footer:(0,y.jsx)(Bt,{curPage:"game"}),children:[_.isLoading&&(0,y.jsx)(B,{}),A(_),D.isLoading&&(0,y.jsx)(B,{}),A(D),(0,y.jsx)("h1",{className:w("title",Bs.title),children:"Underparty"}),(0,y.jsxs)(Mt,{className:Bs.window,children:[(_.isLoading||"wait"==(null===(m=_.data)||void 0===m?void 0:m.state))&&(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:Bs.text,children:(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{children:"\u0427\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0438 \u043f\u043e\u0432\u043b\u0438\u044f\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0446\u043e\u0432\u043a\u0443 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0435 \u043d\u0430 \u0441\u0446\u0435\u043d\u0443"}),(null===(x=_.data)||void 0===x?void 0:x.start)&&(0,y.jsxs)("span",{children:[" \u0432 ",_.data.start]})]})})}),0!=(null===(g=_.data)||void 0===g?void 0:g.team)||"start"!=(null===(f=_.data)||void 0===f?void 0:f.state)&&"going"!=(null===(p=_.data)||void 0===p?void 0:p.state)?(0,y.jsxs)(y.Fragment,{children:["start"==(null===(b=_.data)||void 0===b?void 0:b.state)&&(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:Bs.text,children:[(0,y.jsxs)("div",{className:Bs.title2,children:[(null===M||void 0===M?void 0:M.name)||"N/A"," \u043f\u043e\u0431\u0435\u0434\u0438\u0442!"]}),(0,y.jsx)("h2",{className:Bs.subtitle,children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u043d\u0430\u0447\u0430\u043b\u0430"}),(0,y.jsxs)("h1",{className:Bs.title,children:[Math.floor(N.v/60),":",(N.v%60).toString().padStart(2,"0")]})]})}),"going"==(null===(S=_.data)||void 0===S?void 0:S.state)&&(0,y.jsxs)("button",{className:Bs.press,onClick:e=>{!function(e){const t=e instanceof HTMLButtonElement?e:e.parentElement,s=document.createElement("div");t.appendChild(s),s.classList.add(Bs.circle),setTimeout((()=>t.removeChild(s)),1e3)}(e.target),E.set((e=>e+1))},children:[(0,y.jsxs)("h1",{className:Bs.title2,children:[(null===M||void 0===M?void 0:M.name)||"N/A"," \u043f\u043e\u0431\u0435\u0434\u0438\u0442!"]}),(0,y.jsx)("div",{className:w("title",Bs.press__btn),children:"\u0416\u043c\u0438!!!"})]})]}):(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:Bs.text,children:[(0,y.jsx)("div",{className:Bs.title2,children:"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0434\u043e\u043b\u0436\u0435\u043d"}),(0,y.jsxs)("div",{className:Bs.chooseTeam,children:[(0,y.jsx)("button",{onClick:()=>D.mutate(1),children:(null===J||void 0===J?void 0:J.name)||"N/A"}),(0,y.jsx)("button",{onClick:()=>D.mutate(2),children:(null===T||void 0===T?void 0:T.name)||"N/A"})]})]})}),"end"==(null===(k=_.data)||void 0===k?void 0:k.state)&&(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:Bs.text,children:[(0,y.jsxs)("div",{className:Bs.title2,children:[(null===G||void 0===G?void 0:G.name)||"..."," \u043f\u043e\u0431\u0435\u0436\u0434\u0430\u0435\u0442!"]}),(0,y.jsx)("h1",{className:Bs.title3,children:0==_.data.winner?"\u0418\u0433\u0440\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430!":_.data.team==_.data.winner?"\u041f\u043e\u0431\u0435\u0434\u0430!":"\u041f\u0440\u043e\u0438\u0433\u0440\u044b\u0448!"})]})}),"tourneyEnd"==(null===(C=_.data)||void 0===C?void 0:C.state)&&(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:Bs.text,children:[(0,y.jsx)("div",{className:Bs.title2,children:"\u0422\u0443\u0440\u043d\u0438\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d!"}),(0,y.jsxs)("div",{className:Bs.tourney_winners,children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("img",{src:null===q||void 0===q?void 0:q.img,alt:(null===q||void 0===q?void 0:q.name)||"N/A"}),(0,y.jsx)("div",{children:"1 \u043c\u0435\u0441\u0442\u043e"}),(0,y.jsx)("div",{children:(null===q||void 0===q?void 0:q.name)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("img",{src:null===U||void 0===U?void 0:U.img,alt:(null===U||void 0===U?void 0:U.name)||"N/A"}),(0,y.jsx)("div",{children:"2 \u043c\u0435\u0441\u0442\u043e"}),(0,y.jsx)("div",{children:(null===U||void 0===U?void 0:U.name)||"N/A"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("img",{src:null===H||void 0===H?void 0:H.img,alt:(null===H||void 0===H?void 0:H.name)||"N/A"}),(0,y.jsx)("div",{children:"3 \u043c\u0435\u0441\u0442\u043e"}),(0,y.jsx)("div",{children:(null===H||void 0===H?void 0:H.name)||"N/A"})]})]})]})})]})]})]})}const sn={input:"styles_input__xbjXW",openScreen:"styles_openScreen__MsUEq",start:"styles_start__RrOg2",tourney:"styles_tourney__LbJvy",hidden:"styles_hidden__l9l0C"},nn={root:"styles_root__5HVzG",curGameState:"styles_curGameState__gIzIY",characterName:"styles_characterName__UzYST",node:"styles_node__0tgzb",nodeC:"styles_nodeC__prjKp",nodeCollapsed:"styles_nodeCollapsed__47HCo",nodeId:"styles_nodeId__rEPYi",nodeData:"styles_nodeData__mDSf1",img:"styles_img__fag15",btn:"styles_btn__T4qpB",winnerSelect:"styles_winnerSelect__xkBSA",ctrlBtns:"styles_ctrlBtns__a0fV2",collapseBtn:"styles_collapseBtn__Mfde+",third:"styles_third__XWyfv"};function an(){return(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",height:"1em",width:"1em",fill:"currentColor",children:(0,y.jsx)("path",{d:"M320-273v-414q0-17 12-28.5t28-11.5q5 0 10.5 1.5T381-721l326 207q9 6 13.5 15t4.5 19q0 10-4.5 19T707-446L381-239q-5 3-10.5 4.5T360-233q-16 0-28-11.5T320-273Zm80-207Zm0 134 210-134-210-134v268Z"})})}function ln(){var e,t,s,n,i,a,l,r;const o=Hs(),c=Ys(),d=dn(null===(e=o.data)||void 0===e?void 0:e.tree,(null===(t=o.data)||void 0===t?void 0:t.curGameNodeId)||0,(null===(s=o.data)||void 0===s?void 0:s.third)||-1),u=Us(c.data,null===d||void 0===d?void 0:d.characterId),h=Us(c.data,null===d||void 0===d||null===(n=d.left)||void 0===n?void 0:n.characterId),v=Us(c.data,null===d||void 0===d||null===(i=d.right)||void 0===i?void 0:i.characterId),m=(null===(a=o.data)||void 0===a?void 0:a.tree)&&c.data&&function(e,t){let s=[e],n=[],i=[];for(;0!=s.length;){for(const e of s){var a;const n=s.filter((t=>t.characterId==e.characterId));n.length>1&&i.push(`\u041d\u043e\u0434\u044b \u0441 id=[${n.map((e=>e.id)).join(", ")}] \u0438\u043c\u0435\u044e\u0442 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430: ${null===(a=Us(t,e.characterId))||void 0===a?void 0:a.name}`)}s.forEach((e=>{var s,a,l,r,o,c,d;(e.left&&n.push(e.left),e.right&&n.push(e.right),-1!=e.characterId&&(e.left||e.right))&&(e.characterId!=(null===(s=e.left)||void 0===s?void 0:s.characterId)&&e.characterId!=(null===(a=e.right)||void 0===a?void 0:a.characterId)&&i.push(`\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c \u043d\u043e\u0434\u044b id=${e.id} \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a\u0430\u043c\u0438: ${null===(l=Us(t,e.characterId))||void 0===l?void 0:l.name} != [${null===(r=Us(t,null===(o=e.left)||void 0===o?void 0:o.characterId))||void 0===r?void 0:r.name}, ${null===(c=Us(t,null===(d=e.right)||void 0===d?void 0:d.characterId))||void 0===c?void 0:c.name}]`))})),s=n,n=[]}return Array.from(new Set(i))}(o.data.tree,c.data);return(0,y.jsxs)("div",{className:nn.root,children:[c.isLoading&&(0,y.jsx)(B,{}),A(c),o.data&&c.data&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:nn.curGameState,children:[(0,y.jsx)("span",{children:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0438\u0433\u0440\u0430: "}),d?(0,y.jsxs)("span",{children:[(0,y.jsx)("span",{className:nn.characterName,children:null!==(l=null===h||void 0===h?void 0:h.name)&&void 0!==l?l:"N/A"}),(0,y.jsx)("span",{children:" vs "}),(0,y.jsx)("span",{className:nn.characterName,children:null!==(r=null===v||void 0===v?void 0:v.name)&&void 0!==r?r:"N/A"}),(0,y.jsx)(rn,{})]}):(0,y.jsx)("span",{children:"\u043d\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e"}),(0,y.jsxs)("span",{children:[(0,y.jsx)("span",{children:"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c: "}),(0,y.jsx)(on,{tourney:o,winner:u,oponent1:h,oponent2:v})]})]}),(0,y.jsx)("div",{style:{marginTop:"0.5rem"},children:"\u0422\u0443\u0440\u043d\u0438\u0440\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430:"}),m&&m.map((e=>(0,y.jsx)("h3",{style:{color:"tomato"},children:e}))),(0,y.jsx)(cn,{tree:o.data.tree,characters:c.data}),(0,y.jsx)("div",{style:{marginTop:"0.5rem"},children:"\u0422\u0440\u0435\u0442\u044c\u0435 \u043c\u0435\u0441\u0442\u043e:"}),(0,y.jsx)(un,{tree:o.data.tree,third:o.data.third,characters:c.data})]})]})}function rn(){const e=de(!1);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:nn.btn,onClick:e.setT,children:(0,y.jsx)(Te,{})}),(0,y.jsx)(qe,{title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0438\u0433\u0440\u0443",itemId:-1,mutationFn:Ps,open:e.v,close:e.setF})]})}function on(e){var t,s,n;let{tourney:i,winner:a,oponent1:l,oponent2:r}=e;const o=te((null===a||void 0===a?void 0:a.id)||-1),c=de(!1),d=Ws((null===(t=i.data)||void 0===t?void 0:t.curGameNodeId)||-1);(0,j.useEffect)((()=>{o.set((null===a||void 0===a?void 0:a.id)||-1)}),[null===a||void 0===a?void 0:a.id]);const u=o.v==(null===a||void 0===a?void 0:a.id)?a.name:o.v==(null===l||void 0===l?void 0:l.id)?l.name:o.v==(null===r||void 0===r?void 0:r.id)?r.name:"\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442";return(0,y.jsxs)(y.Fragment,{children:[d.isLoading&&(0,y.jsx)(B,{}),A(d),c.v?(0,y.jsxs)(y.Fragment,{children:[i.isFetching&&(0,y.jsx)(B,{}),(0,y.jsxs)("select",{className:nn.winnerSelect,value:o.v,onChange:e=>o.set(parseInt(e.target.value,10)),children:[(0,y.jsx)("option",{value:"-1",children:"\u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"}),(0,y.jsx)("option",{value:(null===l||void 0===l?void 0:l.id)||"-1",children:null!==(s=null===l||void 0===l?void 0:l.name)&&void 0!==s?s:"N/A"}),(0,y.jsx)("option",{value:(null===r||void 0===r?void 0:r.id)||"-1",children:null!==(n=null===r||void 0===r?void 0:r.name)&&void 0!==n?n:"N/A"})]}),(0,y.jsx)("button",{className:nn.btn,onClick:()=>{d.mutate({characterId:o.v}),c.setF()},children:(0,y.jsx)(Re,{})}),(0,y.jsx)("button",{className:nn.btn,onClick:c.setF,children:(0,y.jsx)(Te,{})})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:nn.characterName,children:u}),l&&r&&(0,y.jsx)("button",{className:nn.btn,onClick:()=>{i.refetch(),c.setT()},children:(0,y.jsx)(et,{})})]})]})}function cn(e){var t,s,n,i;let{tree:a,characters:l,c:r=!1}=e;const o=de(!0),c=de(!1),d=te(a.characterId),u=l.find((e=>e.id==d.v)),h=Ws(a.id),v=Us(l,null===(t=a.left)||void 0===t?void 0:t.characterId),m=Us(l,null===(s=a.right)||void 0===s?void 0:s.characterId);return(0,j.useEffect)((()=>{d.set(a.characterId)}),[a.characterId]),(0,y.jsxs)("div",{className:w(nn.node,r&&nn.nodeC,o.v&&nn.nodeCollapsed),children:[(0,y.jsx)("div",{className:nn.nodeId,children:a.id}),(0,y.jsxs)("div",{className:nn.nodeData,children:[u?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("img",{src:null===u||void 0===u?void 0:u.img,alt:null===u||void 0===u?void 0:u.name}),(0,y.jsx)("div",{children:null===u||void 0===u?void 0:u.name})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:nn.img}),(0,y.jsx)("div",{children:"\u041d\u0435\u0442 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044f"})]}),(0,y.jsx)("div",{style:{flexGrow:1}}),h.isLoading&&(0,y.jsx)(B,{block:!0}),A(h),d.v!=a.characterId&&(0,y.jsxs)("span",{className:nn.ctrlBtns,children:[(0,y.jsx)("button",{onClick:()=>h.mutate({characterId:d.v}),children:(0,y.jsx)(Re,{})}),(0,y.jsx)("button",{onClick:()=>{d.set(a.characterId),h.reset()},children:(0,y.jsx)(Te,{})})]}),v&&m&&(0,y.jsx)("button",{onClick:c.setT,children:(0,y.jsx)(an,{})}),(0,y.jsxs)("select",{value:d.v,onChange:e=>d.set(parseInt(e.target.value,10)),children:[(0,y.jsx)("option",{value:"-1",children:"\u041d\u0435\u0442 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044f"}),l.map((e=>(0,y.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(a.left||a.right)&&(0,y.jsx)("button",{className:nn.collapseBtn,onClick:o.toggle})]}),(0,y.jsx)(qe,{title:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h3",{children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430"}),(0,y.jsxs)("h4",{children:[null!==(n=null===v||void 0===v?void 0:v.name)&&void 0!==n?n:"N/A"," vs ",null!==(i=null===m||void 0===m?void 0:m.name)&&void 0!==i?i:"N/A"]})]}),itemId:a.id,mutationFn:Ps,open:c.v,close:c.setF}),a.left&&(0,y.jsx)(cn,{tree:a.left,characters:l,c:!r}),a.right&&(0,y.jsx)(cn,{tree:a.right,characters:l,c:r})]})}function dn(e,t,s){if(!e)return null;if(e.id==t)return e;if(-3==t){var n,i,a,l,r,o,c,d,u,h,v,m;return{id:-3,characterId:s,left:{id:-2,characterId:(null!==(n=e.left)&&void 0!==n&&n.characterId&&-1!=(null===(i=e.left)||void 0===i?void 0:i.characterId)?(null===(a=e.left.left)||void 0===a?void 0:a.characterId)==(null===(l=e.left)||void 0===l?void 0:l.characterId)?null===(r=e.left.right)||void 0===r?void 0:r.characterId:null===(o=e.left.left)||void 0===o?void 0:o.characterId:null)||-1,left:null,right:null},right:{id:-2,characterId:(null!==(c=e.right)&&void 0!==c&&c.characterId&&-1!=(null===(d=e.right)||void 0===d?void 0:d.characterId)?(null===(u=e.right.left)||void 0===u?void 0:u.characterId)==(null===(h=e.right)||void 0===h?void 0:h.characterId)?null===(v=e.right.right)||void 0===v?void 0:v.characterId:null===(m=e.right.left)||void 0===m?void 0:m.characterId:null)||-1,left:null,right:null}}}return dn(e.left,t,s)||dn(e.right,t,s)}function un(e){var t,s,n,i,a,l,r,o,c,d,u,h,v,m;let{tree:x,third:g,characters:f}=e;const p=de(!1),b=te(g),w=Us(f,b.v),S=function(e,t){return en((e=>["/api/tourney/third",e]),e,t)}(),k=null!==(t=x.left)&&void 0!==t&&t.characterId&&-1!=(null===(s=x.left)||void 0===s?void 0:s.characterId)?(null===(n=x.left.left)||void 0===n?void 0:n.characterId)==(null===(i=x.left)||void 0===i?void 0:i.characterId)?null===(a=x.left.right)||void 0===a?void 0:a.characterId:null===(l=x.left.left)||void 0===l?void 0:l.characterId:null,C=null!==(r=x.right)&&void 0!==r&&r.characterId&&-1!=(null===(o=x.right)||void 0===o?void 0:o.characterId)?(null===(c=x.right.left)||void 0===c?void 0:c.characterId)==(null===(d=x.right)||void 0===d?void 0:d.characterId)?null===(u=x.right.right)||void 0===u?void 0:u.characterId:null===(h=x.right.left)||void 0===h?void 0:h.characterId:null,_=Us(f,k),I=Us(f,C);return(0,j.useEffect)((()=>{b.set(g)}),[g]),(0,y.jsxs)("div",{className:nn.third,children:[(0,y.jsxs)("div",{className:nn.node,children:[(0,y.jsxs)("div",{className:nn.nodeData,children:[w?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("img",{src:null===w||void 0===w?void 0:w.img,alt:null===w||void 0===w?void 0:w.name}),(0,y.jsx)("div",{children:null===w||void 0===w?void 0:w.name})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:nn.img}),(0,y.jsx)("div",{children:"\u041d\u0435\u0442 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044f"})]}),(0,y.jsx)("div",{style:{flexGrow:1}}),S.isLoading&&(0,y.jsx)(B,{block:!0}),A(S),b.v!=g&&(0,y.jsxs)("span",{className:nn.ctrlBtns,children:[(0,y.jsx)("button",{onClick:()=>S.mutate({characterId:b.v}),children:(0,y.jsx)(Re,{})}),(0,y.jsx)("button",{onClick:()=>{b.set(g),S.reset()},children:(0,y.jsx)(Te,{})})]}),_&&I&&(0,y.jsx)("button",{onClick:p.setT,children:(0,y.jsx)(an,{})}),(0,y.jsxs)("select",{value:b.v,onChange:e=>b.set(parseInt(e.target.value,10)),children:[(0,y.jsx)("option",{value:"-1",children:"\u041d\u0435\u0442 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044f"}),f.map((e=>(0,y.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,y.jsx)(qe,{title:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h3",{children:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438\u0433\u0440\u0443"}),(0,y.jsxs)("h4",{children:[null!==(v=null===_||void 0===_?void 0:_.name)&&void 0!==v?v:"N/A"," vs ",null!==(m=null===I||void 0===I?void 0:I.name)&&void 0!==m?m:"N/A"]})]}),itemId:-3,mutationFn:Ps,open:p.v,close:p.setF})]}),(0,y.jsx)("div",{className:nn.node,children:(0,y.jsx)("div",{className:nn.nodeData,children:_?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("img",{src:null===_||void 0===_?void 0:_.img,alt:null===_||void 0===_?void 0:_.name}),(0,y.jsx)("div",{children:null===_||void 0===_?void 0:_.name})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:nn.img}),(0,y.jsx)("div",{children:"\u041d\u0435\u0442 \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u0432\u0448\u0435\u0433\u043e"})]})})}),(0,y.jsx)("div",{className:nn.node,children:(0,y.jsx)("div",{className:nn.nodeData,children:I?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("img",{src:null===I||void 0===I?void 0:I.img,alt:null===I||void 0===I?void 0:I.name}),(0,y.jsx)("div",{children:null===I||void 0===I?void 0:I.name})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:nn.img}),(0,y.jsx)("div",{children:"\u041d\u0435\u0442 \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u0432\u0448\u0435\u0433\u043e"})]})})})]})}const hn={btn:"styles_btn__l5n2e"};function vn(e){let{h:t,bt:s,rt:n,disabled:i,className:a,mutation:l,children:r}=e;const o=de(!1),c=de(!1),d=te(null),u=l(c.setT,d.set);return(0,y.jsxs)(y.Fragment,{children:[u.isLoading&&(0,y.jsx)(B,{}),(0,y.jsx)("button",{className:a,disabled:i,onClick:o.setT,children:r}),(0,y.jsxs)(z,{open:o.v,close:o.setF,closeOnOutclick:!0,children:[(0,y.jsx)("h2",{children:t}),(0,y.jsx)("br",{}),(0,y.jsx)("button",{className:hn.btn,onClick:()=>{o.setF(),u.mutate()},children:s})]}),(0,y.jsx)(z,{open:c.v,close:c.setF,closeOnOutclick:!0,children:(0,y.jsx)("h2",{children:n})}),(0,y.jsx)(z,{open:!!d.v,close:()=>d.set(null),closeOnOutclick:!0,children:A(u)})]})}function mn(){var e,t,s,n,i;Y("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0433\u0440\u044b");const a=Hs();return(0,y.jsxs)(R,{centeredPage:!0,homeBtn:!0,gap:"2rem",forStaff:!0,children:[(0,y.jsx)("h1",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0433\u0440\u044b"}),a.isLoading&&(0,y.jsx)(B,{}),A(a),(0,y.jsx)(E.rU,{to:"/tourney_screen",className:sn.openScreen,children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u044d\u043a\u0440\u0430\u043d"}),(0,y.jsx)(E.rU,{to:"/game_characters",className:sn.openScreen,children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438 \u0442\u0443\u0440\u043d\u0438\u0440\u0430"}),(0,y.jsx)(xn,{text:"\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430",type:"text",query:Ts,getv:e=>(null===e||void 0===e?void 0:e.startStr)||"",newv:e=>e.value,mutation:Ms}),(0,y.jsx)(xn,{text:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0438\u0433\u0440\u044b (\u0441\u0435\u043a.)",type:"number",query:Ds,getv:e=>(null===e||void 0===e?void 0:e.duration)||0,newv:e=>e.valueAsNumber,mutation:Rs}),(0,y.jsx)(xn,{text:"\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u043e\u0442\u0441\u0447\u0451\u0442 (\u0441\u0435\u043a.)",type:"number",query:Js,getv:e=>(null===e||void 0===e?void 0:e.counter)||0,newv:e=>e.valueAsNumber,mutation:Gs}),(0,y.jsxs)("div",{className:sn.tourney,children:[(0,y.jsx)("h3",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0443\u0440\u043d\u0438\u0440\u043e\u043c"}),(0,y.jsxs)("div",{children:[(0,y.jsx)(vn,{className:sn.start,h:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0438\u0433\u0440\u0443?",bt:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",rt:"\u0418\u0433\u0440\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u0430!",disabled:!a.data||(null===(e=a.data)||void 0===e?void 0:e.showGame),mutation:Vs,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0438\u0433\u0440\u0443"}),(0,y.jsx)(vn,{className:sn.start,h:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438\u0433\u0440\u0443?",bt:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c",rt:"\u0418\u0433\u0440\u0430 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u0430!",disabled:!a.data||(null===(t=a.data)||void 0===t?void 0:t.showGame)||-1==a.data.curGameNodeId,mutation:zs,children:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438\u0433\u0440\u0443"}),(0,y.jsx)(vn,{className:sn.start,h:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0438\u0433\u0440\u0443?",bt:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c",rt:"\u0418\u0433\u0440\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430!",disabled:!(null!==(s=a.data)&&void 0!==s&&s.showGame),mutation:Xs,children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0438\u0433\u0440\u0443"})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{style:{flexGrow:1}}),(0,y.jsx)(vn,{className:w(sn.start,!(null!==(n=a.data)&&void 0!==n&&n.ended)&&sn.hidden),h:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0442\u0443\u0440\u043d\u0438\u0440\u0430?",bt:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",rt:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0442\u0443\u0440\u043d\u0438\u0440\u0430 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e!",mutation:Zs,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0442\u0443\u0440\u043d\u0438\u0440\u0430"}),(0,y.jsx)(vn,{className:w(sn.start,(null===(i=a.data)||void 0===i?void 0:i.ended)&&sn.hidden),h:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0443\u0440\u043d\u0438\u0440?",bt:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c",rt:"\u0422\u0443\u0440\u043d\u0438\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d!",mutation:Os,children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0443\u0440\u043d\u0438\u0440"})]})]}),(0,y.jsx)(ln,{}),(0,y.jsx)(vn,{className:sn.start,h:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0435\u0441\u044c \u0442\u0443\u0440\u043d\u0438\u0440?",bt:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",rt:"\u0412\u0435\u0441\u044c \u0442\u0443\u0440\u043d\u0438\u0440 \u0441\u0431\u0440\u043e\u0448\u0435\u043d!",mutation:$s,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0435\u0441\u044c \u0442\u0443\u0440\u043d\u0438\u0440"})]})}function xn(e){let{text:t,type:s,getv:n,newv:i,query:a,mutation:l}=e;const r=te(n()),o=a(),c=l();return(0,j.useEffect)((()=>r.set(n(o.data))),[o.data]),(0,y.jsxs)("div",{className:sn.input,children:[o.isLoading&&(0,y.jsx)(B,{}),c.isLoading&&(0,y.jsx)(B,{}),A(o),A(c),(0,y.jsx)("span",{children:t}),(0,y.jsx)("input",{type:s,value:r.v,onChange:e=>r.set(i(e.target))}),o.data&&r.v!=n(o.data)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{onClick:()=>c.mutate(r.v),children:(0,y.jsx)(Re,{})}),(0,y.jsx)("button",{onClick:()=>r.set(n(o.data)),children:(0,y.jsx)(Te,{})})]})]})}const gn={root:"styles_root__rT4Gh",back:"styles_back__awg9C",barShake:"styles_barShake__Ur9jk",going:"styles_going__+UF8o",shake:"styles_shake__zxQyZ",bar:"styles_bar__U71pT",bar__img:"styles_bar__img__JCN39",barLeft:"styles_barLeft__XSCZr",barRight:"styles_barRight__GNhlX",dot:"styles_dot__QlpbG",nums:"styles_nums__QEHWB",msg:"styles_msg__5G-O7",soundBtn:"styles_soundBtn__VzFT+",frame:"styles_frame__aLrbS",rects:"styles_rects__tHlp8",rect:"styles_rect__BhPFH"},jn=s.p+"static/media/ost.94ca648024fe47b97502.mp3";const fn=new class{constructor(){this.barPercent="50",this.error=null,this.updateScreen=void 0,this.navigate=null,this.state=null,this.counterV=0,this.startI=0,this.counterTimer=void 0,this.stoped=!1}get isGoing(){var e;return"going"==(null===(e=this.state)||void 0===e?void 0:e.state)}get opponentLeftId(){var e;return(null===(e=this.state)||void 0===e?void 0:e.opponent1Id)||-1}get opponentRightId(){var e;return(null===(e=this.state)||void 0===e?void 0:e.opponent2Id)||-1}get winnerId(){var e,t;return 1==(null===(e=this.state)||void 0===e?void 0:e.winner)?this.opponentLeftId:2==(null===(t=this.state)||void 0===t?void 0:t.winner)?this.opponentRightId:-1}get titleType(){var e;return this.error?"error":{wait:"wait",start:"counter",going:"counter",end:"winner",tourneyEnd:"tourneyEnd","":""}[(null===(e=this.state)||void 0===e?void 0:e.state)||""]||"load"}start(e,t){this.stoped=!1,this.startI++,this.state=null,this.navigate=t,this.updateScreen=e,this.updateState(this.startI),this.counterTimer=setInterval((()=>this.counter()),1e3)}stop(){this.stoped=!0,this.startI++,clearInterval(this.counterTimer)}counter(){var e;!this.stoped&&this.state&&(this.counterV>0&&(this.counterV--,null===(e=this.updateScreen)||void 0===e||e.call(this)))}async updateState(e){var t;if(e!=this.startI)return;const s=new Date;try{const t=await d("/api/game/state_full");if(e!=this.startI)return;this.state=t,this.error=null}catch(i){var n;if(e!=this.startI)return;return this.state=null,this.error=p(i),void(null===(n=this.updateScreen)||void 0===n||n.call(this))}finally{if(e!=this.startI)return;const t=+new Date-+s,n=1e3;setTimeout((()=>this.updateState(e)),Math.max(0,n-t))}this.onNewState(),null===(t=this.updateScreen)||void 0===t||t.call(this)}onNewState(){var e;this.state&&(this.barPercent=this.getBarPercent(this.state),Math.abs(this.counterV-this.state.counter)>2&&(this.counterV=this.state.counter),this.state.showGame&&"tourneyEnd"!=this.state.state||null===(e=this.navigate)||void 0===e||e.call(this,"/tourney_screen"))}getCounter(){return this.state?`${Math.floor(this.counterV/60)}:${(this.counterV%60).toString().padStart(2,"0")}`:"0:00"}getBarPercent(e){const t=e.clicks1+e.clicks2;return 0==t?"50":""+e.clicks1/t*100}};function yn(){const e=(0,n.s0)(),t=te(0);return(0,j.useEffect)((()=>(fn.start((()=>t.set((e=>e+1))),e),()=>fn.stop())),[]),fn}function pn(){Y("\u0418\u0433\u0440\u0430");const e=yn(),t=Ys(),s=is(jn,!0),n=de(!1),i=(0,j.useRef)(null),a=Us(t.data,e.opponentLeftId),l=Us(t.data,e.opponentRightId),r=Us(t.data,e.winnerId);return(0,j.useEffect)((()=>{n.v&&(e.isGoing?s.play():s.stop())}),[e.isGoing,n.v]),(0,j.useEffect)((()=>{if(!i.current||!e.isGoing)return;const t=setInterval((()=>{e.isGoing&&i.current&&function(e){const t=document.createElement("div");e.appendChild(t),t.style.top=100*Math.random()+"%",t.style.left=100*Math.random()+"%",setTimeout((()=>e.removeChild(t)),1e3)}(i.current)}),100);return()=>clearInterval(t)}),[i,e.isGoing]),(0,y.jsxs)("div",{className:w(gn.root,e.isGoing&&gn.going),style:{"--bar":e.barPercent},children:[(0,y.jsx)("div",{className:gn.rects,ref:i}),(0,y.jsx)("div",{className:gn.frame}),(0,y.jsx)("div",{className:gn.barShake,children:(0,y.jsxs)("div",{className:gn.bar,children:[(0,y.jsxs)("div",{className:gn.barLeft,style:{"--color":null===a||void 0===a?void 0:a.color},children:[(0,y.jsx)("span",{children:null===a||void 0===a?void 0:a.name}),(0,y.jsx)("div",{className:gn.bar__img,children:(0,y.jsx)("img",{src:null===a||void 0===a?void 0:a.img,alt:null===a||void 0===a?void 0:a.name})}),(0,y.jsx)("div",{className:gn.nums})]}),(0,y.jsxs)("div",{className:gn.barRight,style:{"--color":null===l||void 0===l?void 0:l.color},children:[(0,y.jsx)("div",{className:gn.bar__img,children:(0,y.jsx)("img",{src:null===l||void 0===l?void 0:l.img,alt:null===l||void 0===l?void 0:l.name})}),(0,y.jsx)("span",{children:null===l||void 0===l?void 0:l.name})]})]})}),(0,y.jsx)("div",{className:gn.msg,children:(0,y.jsxs)("div",{children:["error"==e.titleType&&(0,y.jsx)("h3",{style:{color:"tomato",textAlign:"center"},children:e.error}),"load"==e.titleType&&(0,y.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),"wait"==e.titleType&&(0,y.jsx)("span",{children:"\u0421\u043a\u043e\u0440\u043e \u043d\u0430\u0447\u0430\u043b\u043e!"}),"counter"==e.titleType&&(0,y.jsx)("span",{children:e.getCounter()}),"winner"==e.titleType&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{children:"\u041f\u043e\u0431\u0435\u0436\u0434\u0430\u0435\u0442 "}),(0,y.jsx)("span",{className:"title",style:{marginLeft:"0.25em"},children:null===r||void 0===r?void 0:r.name}),(0,y.jsx)("span",{children:"!"})]}),!n.v&&(0,y.jsx)("button",{className:gn.soundBtn,onClick:n.setT,children:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a"})]})})]})}const An={root:"styles_root__szDCT",img:"styles_img__Csllz",form:"styles_form__nIKFj"};function bn(){var e;const t=de(!1),s=te(null),n=(0,j.useRef)(null),a=(0,j.useRef)(null),l=function(e,t){const s=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async e=>await u("/api/tourney/characters",e),onSuccess:t=>{pe(s,"tourneyCharacters",t),null===e||void 0===e||e(t)},onError:t})}((()=>{s.set(null),t.setF(),n.current&&(n.current.value="")}));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:An.root,onClick:t.setT,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),(0,y.jsxs)(z,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",open:t.v,close:t.setF,children:[l.isLoading&&(0,y.jsx)(B,{}),A(l),""==(null===(e=s.v)||void 0===e?void 0:e.data)&&(0,y.jsx)(B,{}),(0,y.jsxs)(H,{className:An.form,onSubmit:()=>{var e,t;const i=null===(e=n.current)||void 0===e?void 0:e.value,r=null===(t=a.current)||void 0===t?void 0:t.value;i&&r&&s.v&&""!=s.v.data&&l.mutate({name:i,color:r,img:s.v})},children:[(0,y.jsxs)(K,{label:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",children:[(0,y.jsx)("div",{className:An.img,children:s.v&&(0,y.jsx)("img",{src:s.v.data,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})}),(0,y.jsx)("input",{type:"file",required:!0,accept:"image/png, image/jpeg, image/gif",style:{position:"absolute",opacity:0},onChange:async e=>{var t,n;s.set({data:"",name:""}),s.set(await ee(null===(t=e.target)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0],""))}})]}),(0,y.jsx)(K,{label:"\u0418\u043c\u044f",children:(0,y.jsx)("input",{ref:n,required:!0,type:"text"})}),(0,y.jsx)(K,{label:"\u0426\u0432\u0435\u0442",children:(0,y.jsx)("input",{ref:a,required:!0,type:"color"})}),(0,y.jsx)(K,{children:(0,y.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})]})]})}const wn={root:"styles_root__kxT4-",error:"styles_error__B1x55",id:"styles_id__Ykhw5",img:"styles_img__-VBvV",inputs:"styles_inputs__lWaKt",changed:"styles_changed__No1PX",buttons:"styles_buttons__DnTOD",btnMinus:"styles_btnMinus__XR9tq"};function Sn(e){var t,s;let{character:n}=e;const a=de(!1),l=de(!1),r=te(null,a.setT),o=te(n.name,a.setT),c=te(n.color,a.setT),d=function(e,t,s){const n=(0,i.useQueryClient)();return(0,i.useMutation)({mutationFn:async t=>await u(`/api/tourney/characters/${e}`,t),onSuccess:e=>{Ae(n,"tourneyCharacters",e),null===t||void 0===t||t(e)},onError:s})}(n.id,h,(()=>h()));function h(e){r.set(null);const t=e||n;o.set(t.name),a.setF()}return(0,j.useEffect)(h,[n]),(0,y.jsxs)("div",{className:w(wn.root,a.v&&wn.changed),children:[d.isLoading&&(0,y.jsx)(B,{block:!0,r:"0.5rem"}),""==(null===(t=r.v)||void 0===t?void 0:t.data)&&(0,y.jsx)(B,{block:!0,r:"0.5rem"}),A(d,(e=>(0,y.jsxs)("div",{className:wn.error,children:[(0,y.jsx)("div",{children:e}),(0,y.jsx)("button",{onClick:()=>d.reset(),children:"\u041e\u041a"})]}))),(0,y.jsx)(qe,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430: "+o.v,itemId:n.id,mutationFn:Ks,open:l.v,close:l.setF}),(0,y.jsx)("div",{className:wn.id,children:n.id}),(0,y.jsxs)("label",{className:wn.img,children:[(n.img||r.v)&&(0,y.jsx)("img",{src:(null===(s=r.v)||void 0===s?void 0:s.data)||n.img,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),(0,y.jsx)("input",{type:"file",style:{display:"none"},accept:"image/png, image/jpeg, image/gif",onChange:async e=>{var t,s;r.set({data:"",name:""}),r.set(await ee(null===(t=e.target)||void 0===t||null===(s=t.files)||void 0===s?void 0:s[0],"")),e.target.value=""}})]}),(0,y.jsxs)("div",{className:wn.inputs,children:[(0,y.jsx)("div",{children:"\u0418\u043c\u044f"}),(0,y.jsx)("input",{type:"text",value:o.v,onChange:e=>o.set(e.target.value)}),(0,y.jsx)("div",{children:"\u0426\u0432\u0435\u0442"}),(0,y.jsx)("input",{type:"color",value:c.v,onChange:e=>c.set(e.target.value)})]}),(0,y.jsxs)("div",{className:wn.buttons,children:[!a.v&&(0,y.jsx)("button",{onClick:l.setT,children:(0,y.jsx)(De,{})}),a.v&&(0,y.jsx)("button",{onClick:()=>{d.mutate({name:o.v,color:c.v,img:r.v||void 0})},children:(0,y.jsx)(Re,{})}),a.v&&(0,y.jsx)("button",{onClick:()=>h(),children:(0,y.jsx)(Te,{})})]})]})}const kn={characters:"styles_characters__5+NeE"};function Cn(){var e;Y("\u0422\u0443\u0440\u043d\u0438\u0440 | \u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438");const t=Ys();return(0,y.jsxs)(R,{centeredPage:!0,gap:"0.5rem",homeBtn:!0,children:[(0,y.jsx)("div",{className:"calmBack"}),t.isLoading&&(0,y.jsx)(B,{}),A(t),(0,y.jsx)("h1",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\u043c\u0438 \u0442\u0443\u0440\u043d\u0438\u0440\u0430"}),(0,y.jsx)(bn,{}),(0,y.jsx)("div",{className:kn.characters,children:null===(e=t.data)||void 0===e?void 0:e.map((e=>(0,y.jsx)(Sn,{character:e},e.id)))})]})}const _n={root:"styles_root__ghv+v"};class In{constructor(e,t){this.characters=t,this.tree=void 0,this.third=void 0,this.transform={dx:0,dy:0,s:1},this.anim=[],this.RECT={x:-10.5*Nn.S,y:-5.5*Nn.S,w:24*Nn.S,h:12*Nn.S},this.RECT_ENDEN={x:-1*Nn.S,y:-2*Nn.S,w:5*Nn.S,h:7.5*Nn.S},this.showRect=this.RECT,this.tree=new Nn(this.characters,{id:-1,characterId:-1},-1),this.third=new Nn(this.characters,{id:-1,characterId:-1},-1),this.updateData(e),window.setTourneyTransform=(e,t,s)=>this.transform={dx:e,dy:t,s:s},window.setTourneyTransform(-50,-100,.35),window.setTourneyTransform(-50,-100,.6)}updateData(e){const t=-1==this.tree.data.id;t?this.tree=En(e.tree,e.curGameNodeId,this.characters):this.tree.updateData(e.tree,e.curGameNodeId);const s=e.tree.left,n=e.tree.right;if(s&&n){var i,a;const l=(s.characterId<=0?null:s.characterId==(null===(i=s.left)||void 0===i?void 0:i.characterId)?s.right:s.left)||{id:-2,characterId:-1,left:null,right:null},r=(n.characterId<=0?null:n.characterId==(null===(a=n.left)||void 0===a?void 0:a.characterId)?n.right:n.left)||{id:-2,characterId:-1,left:null,right:null},o=new Nn(this.characters,l,e.curGameNodeId),c=new Nn(this.characters,r,e.curGameNodeId);t?(this.third=new Nn(this.characters,{id:-3,characterId:e.third},e.curGameNodeId,o,c),o.parent=this.third,c.parent=this.third):this.third.updateData({id:-3,characterId:e.third,left:l,right:r},e.curGameNodeId)}let l=this.showRect;if(e.ended)l=this.RECT_ENDEN;else if(e.curGameNodeId>=0){const t=this.tree.getBounds(e.curGameNodeId);l=t||this.RECT}else l=-3==e.curGameNodeId?{x:-2*Nn.S,y:3*Nn.S,w:7*Nn.S,h:4*Nn.S}:this.RECT;if(t)this.showRect=l;else if(JSON.stringify(l)!=JSON.stringify(this.showRect)){const e=this.showRect,t={...e};this.showRect=l;let s=0;const n=(e,t)=>e+(t-e)*Math.sin(s*Math.PI/2);this.anim.push(((i,a,r)=>{s+=i/1e3,t.x=n(e.x,l.x),t.y=n(e.y,l.y),t.w=n(e.w,l.w),t.h=n(e.h,l.h),this.transform.s=this.calcScale(t,{w:a,h:r});const{cx:o,cy:c}=this.findRectCenter(t);return this.transform.dx=a/2-o,this.transform.dy=r/2-c,s>1}))}}draw(e){e.save(),e.translate(this.transform.dx,this.transform.dy),e.scale(this.transform.s,this.transform.s),this.third.draw(e,-1),this.tree.draw(e),e.strokeStyle="red",e.lineWidth=4,e.restore()}update(e,t,s){if(0==this.anim.length){this.transform.s=this.calcScale(this.showRect,{w:t,h:s});const{cx:n,cy:i}=this.findRectCenter(this.showRect);this.transform.dx=t/2-n,this.transform.dy=s/2-i,this.tree.update(e),this.third.update(e)}else for(let n=this.anim.length-1;n>=0;n--)this.anim[n](e,t,s)&&this.anim.splice(n,1)}calcScale(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.05;const n=t.w*s,i=t.h*s;return Math.min(t.w/(e.w+2*n),t.h/(e.h+2*i))}findRectCenter(e){return{cx:(e.x+e.w/2)*this.transform.s,cy:(e.y+e.h/2)*this.transform.s}}}class Nn{constructor(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.characters=e,this.data=t,this.curGameNodeId=s,this.left=n,this.right=i,this.S=Nn.S,this.t=0,this.newCharacterId=void 0,this.parent=void 0,this.newCharacterId=t.characterId}draw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.save();const s=[4,5,6,7].includes(t),n=this.characters[this.data.characterId];if(-1==t&&e.translate(0,4*this.S),e.fillStyle="#fff2b5",1==t&&(e.fillStyle="#f9e064"),this.data.id==this.curGameNodeId&&(e.fillStyle="#ffab40"),e.fillRect(0,0,3*this.S,this.S),n&&(e.drawImage(n.img,s?2*this.S:0,0,this.S,this.S),e.font="20px monsterfriendforerusbylya, ZeroCool, Arial",e.fillStyle="#4a0001",e.fillText(n.name,s?.05*this.S:1.05*this.S,this.S/2+10,1.9*this.S)),e.strokeStyle="gray",n&&(e.strokeStyle=n.color),e.lineWidth=4,e.strokeRect(0,0,3*this.S,this.S),e.strokeRect(s?2*this.S:0,0,this.S,this.S),e.font="20px monsterfriendforerusbylya, ZeroCool, Arial",e.fillStyle="#ff7700",1==t&&-1!=this.data.characterId&&e.fillText("\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c",1.05*this.S,30,1.9*this.S),-1==t&&-1!=this.data.characterId&&e.fillText("\u0422\u0440\u0435\u0442\u044c\u0435 \u043c\u0435\u0441\u0442\u043e",1.05*this.S,30,1.9*this.S),this.parent&&-1!=this.parent.data.characterId&&(2!=t&&3!=t||this.parent.data.characterId==this.data.characterId?this.parent.data.characterId!=this.data.characterId&&(e.fillStyle="#00000055",e.fillRect(0,0,3*this.S,this.S)):e.fillText("\u0412\u0442\u043e\u0440\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",1.05*this.S,30,1.9*this.S)),e.strokeStyle="gray",e.lineWidth=4,1==t)e.save(),e.translate(0,1.5*-this.S),this.left&&this.left.draw(e,2),e.translate(0,3*this.S),this.right&&this.right.draw(e,3),e.restore(),e.translate(1.5*this.S,0),this.drawLines(e,[[0,0],[0,-.5]],[[0,1],[0,.5]],!0,!1);else if(2==t)e.save(),e.translate(4.5*-this.S,.9*this.S),this.left&&this.left.draw(e,4),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,5),e.restore(),e.translate(1.5*this.S,0),this.drawLines(e,[[0,-.5],[-2,0],[0,2.5],[-.5,0],[0,-.5],[-.5,0]],[[0,-.5],[-2,0],[0,2.5],[-.5,0],[0,.5],[-.5,0]]);else if(3==t)e.save(),e.translate(4.5*this.S,2.1*-this.S),this.left&&this.left.draw(e,8),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,9),e.restore(),e.translate(1.5*this.S,1*this.S),this.drawLines(e,[[0,.5],[2,0],[0,-2.5],[.5,0],[0,-.5],[.5,0]],[[0,.5],[2,0],[0,-2.5],[.5,0],[0,.5],[.5,0]]);else if(4==t)e.save(),e.translate(2*-this.S,3.4*-this.S),this.left&&this.left.draw(e,6),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,7),e.restore(),e.translate(2*this.S,0),this.drawLines(e,[[0,-2.3],[-.5,0],[0,-.5],[-.5,0]],[[0,-2.3],[-.5,0],[0,.5],[-.5,0]]);else if(5==t)e.save(),e.translate(2*-this.S,2.2*this.S),this.left&&this.left.draw(e,6),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,7),e.restore(),e.translate(2*this.S,1*this.S),this.drawLines(e,[[0,2.3],[-.5,0],[0,-.5],[-.5,0]],[[0,2.3],[-.5,0],[0,.5],[-.5,0]]);else if(6==t)e.save(),e.translate(4*-this.S,1.5*-this.S),this.left&&this.left.draw(e,6),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,7),e.restore(),e.translate(0,.5*this.S),this.drawLines(e,[[-.5,0],[0,-.9],[-.5,0]],[[-.5,0],[0,-.9],[-.5,0]]);else if(7==t)e.save(),e.translate(4*-this.S,.3*this.S),this.left&&this.left.draw(e,6),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,7),e.restore(),e.translate(0,.5*this.S),this.drawLines(e,[[-.5,0],[0,.9],[-.5,0]],[[-.5,0],[0,.9],[-.5,0]]);else if(8==t)e.save(),e.translate(2*this.S,3.4*-this.S),this.left&&this.left.draw(e,10),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,11),e.restore(),e.translate(1*this.S,0),this.drawLines(e,[[0,-2.3],[.5,0],[0,-.5],[.5,0]],[[0,-2.3],[.5,0],[0,.5],[.5,0]]);else if(9==t)e.save(),e.translate(2*this.S,2.2*this.S),this.left&&this.left.draw(e,10),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,11),e.restore(),e.translate(1*this.S,1*this.S),this.drawLines(e,[[0,2.3],[.5,0],[0,-.5],[.5,0]],[[0,2.3],[.5,0],[0,.5],[.5,0]]);else if(10==t)e.save(),e.translate(4*this.S,1.5*-this.S),this.left&&this.left.draw(e,10),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,11),e.restore(),e.translate(3*this.S,.5*this.S),this.drawLines(e,[[.5,0],[0,-.9],[.5,0]],[[.5,0],[0,-.9],[.5,0]]);else if(11==t)e.save(),e.translate(4*this.S,.3*this.S),this.left&&this.left.draw(e,10),e.translate(0,1.2*this.S),this.right&&this.right.draw(e,11),e.restore(),e.translate(3*this.S,.5*this.S),this.drawLines(e,[[.5,0],[0,.9],[.5,0]],[[.5,0],[0,.9],[.5,0]]);else if(-1==t)e.save(),e.translate(2*-this.S,1.4*this.S),this.left&&this.left.draw(e,-2),e.translate(4*this.S,0),this.right&&this.right.draw(e,-3),e.restore(),e.translate(1.5*this.S,1*this.S),this.drawLines(e,[[0,.9],[-.5,0]],[[0,.9],[.5,0]]);else if(-2==t){e.translate(1.5*this.S,0),this.drawLine0(e,[[0,-4.9]]);const t=this.characters[this.newCharacterId];t&&(e.strokeStyle=t.color);const s=this.data.characterId==this.newCharacterId?1:this.t;this.drawLine0(e,[[0,-4.9],[-.5,0],[0,.5],[-.5,0]],!0,s)}else if(-3==t){e.translate(1.5*this.S,0),this.drawLine0(e,[[0,-4.9]]);const t=this.characters[this.newCharacterId];t&&(e.strokeStyle=t.color);const s=this.data.characterId==this.newCharacterId?1:this.t;this.drawLine0(e,[[0,-4.9],[.5,0],[0,.5],[.5,0]],!0,s)}e.restore()}update(e){var t,s;this.t+=e/1500,this.t>1&&(this.data.characterId=this.newCharacterId),null===(t=this.left)||void 0===t||t.update(e),null===(s=this.right)||void 0===s||s.update(e)}drawLine(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(0==t.length)return;const i=(t=t.map((e=>[e[0]*this.S,e[1]*this.S]))).reduce(((e,t)=>e+Math.abs(t[0])+Math.abs(t[1])),0)*n;if(s){let e=t[0][0],s=t[0][1];for(let n=1;n<t.length;n++)e+=t[n][0],s+=t[n][1],t[n][0]*=-1,t[n][1]*=-1;t.push([e,s]),t.reverse(),t.pop()}e.beginPath();let a=t[0][0],l=t[0][1];e.moveTo(a,l);let r=0;for(let o=1;o<t.length&&!(r>i);o++){const s=Math.abs(t[o][0])+Math.abs(t[o][1]),n=r+s<i?1:(i-r)/s;r+=s,a+=t[o][0]*n,l+=t[o][1]*n,e.lineTo(a,l)}e.stroke()}_drawLine(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0==t.length)return;t=t.map((e=>[e[0]*this.S,e[1]*this.S])),e.beginPath();let n=t[0][0],i=t[0][1];e.moveTo(n,i);for(let a=1;a<t.length;a++)n+=t[a][0]*s,i+=t[a][1]*s,e.lineTo(n,i);e.stroke()}drawLine0(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.drawLine(e,[[0,0],...t],s,n)}drawLines(e,t,s){var n,i;let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4]?this.drawLine0.bind(this):this.drawLine.bind(this),r=function(t){return l(e,t,a,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)},o=this.newCharacterId<0?0:this.newCharacterId==(null===(n=this.left)||void 0===n?void 0:n.data.characterId)?-1:this.newCharacterId==(null===(i=this.right)||void 0===i?void 0:i.data.characterId)?1:0,c=this.data.characterId==this.newCharacterId?1:this.t;if(this.left&&r(t),this.right&&r(s),0!=o){const n=this.characters[this.newCharacterId];if(-1==o){var d;if(this.right)e.strokeStyle=null===(d=this.characters[this.right.data.characterId])||void 0===d?void 0:d.color,r(s,c);e.strokeStyle=null===n||void 0===n?void 0:n.color,this.left&&r(t,c)}else{var u;if(this.left)e.strokeStyle=null===(u=this.characters[this.left.data.characterId])||void 0===u?void 0:u.color,r(t,c);e.strokeStyle=null===n||void 0===n?void 0:n.color,this.right&&r(s,c)}}}getBounds(e){var t=this;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";const n=function(s,n,i,a){var l,r;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return e==t.data.id?{x:s*t.S,y:n*t.S,w:i*t.S,h:a*t.S}:(null===(l=t.left)||void 0===l?void 0:l.getBounds(e,o))||(null===(r=t.right)||void 0===r?void 0:r.getBounds(e,c))};return"1"==s?n(-1,-2,5,5,"2","3"):"2"==s?n(-4.5,-2,8,4,"4","5"):"4"==s?n(-6.5,-4,5,4.5,"6","7"):"5"==s?n(-6.5,.5,5,4.5,"6.5","7.5"):"6"==s||"7"==s?n(-10.5,-5.5,8,5.2):"6.5"==s||"7.5"==s?n(-10.5,1.3,8,5.2):"3"==s?n(0,-1,8,4,"8","9"):"8"==s?n(4.5,-4,5,4.5,"10","11"):"9"==s?n(4.5,.5,5,4.5,"10.5","11.5"):"10"==s||"11"==s?n(5.5,-5.5,8,5.2):"10.5"==s||"11.5"==s?n(5.5,1.3,8,5.2):null}updateData(e,t){var s,n;this.newCharacterId=e.characterId,this.curGameNodeId=t,this.t=0,e.left&&(null===(s=this.left)||void 0===s||s.updateData(e.left,t)),e.right&&(null===(n=this.right)||void 0===n||n.updateData(e.right,t))}}function En(e,t,s){const n=e.left&&En(e.left,t,s),i=e.right&&En(e.right,t,s),a=new Nn(s,{id:e.id,characterId:e.characterId},t,n,i);return n&&(n.parent=a),i&&(i.parent=a),a}Nn.S=100;const Fn=new class{constructor(){this.canvas=null,this.ctx=null,this.startI=0,this.pt=0,this.stoped=!1,this.error="",this.navigate=null,this.state=null,this.characters=void 0,this.tree=void 0,this.x=0,this.y=0,this.dx=1,this.dy=1,this.s=100}start(e){this.navigate=e,this.stoped=!1,this.error="",this.startI++,this.loadCharacters(),requestAnimationFrame(this.loop.bind(this,this.startI)),this.updateState(this.startI)}stop(){this.stoped=!0,this.startI++}async updateState(e){if(e!=this.startI)return;const t=new Date,s=JSON.stringify(this.state);try{const t=await d("/api/tourney");if(e!=this.startI)return;this.state=t,this.error=""}catch(n){if(e!=this.startI)return;return this.state=null,void(this.error=p(n))}finally{if(e!=this.startI)return;const s=+new Date-+t,n=1e3;setTimeout((()=>this.updateState(e)),Math.max(0,n-s))}JSON.stringify(this.state)!=s&&this.onNewState()}async loadCharacters(){if(null!==this.characters)try{this.characters=await d("/api/tourney/characters")}catch(e){return this.characters=void 0,void(this.error=p(e))}}onNewState(){var e;if(this.state&&this.characters){if(this.tree)this.tree.updateData(this.state);else{const e={};this.characters.forEach((t=>{const s=new Image;s.src=t.img,e[t.id]={...t,img:s}})),this.tree=new In(this.state,e)}!this.state.ended&&this.state.showGame&&(null===(e=this.navigate)||void 0===e||e.call(this,"/game_screen"))}}loop(e,t){if(e!=this.startI)return;const s=t-this.pt;if(this.pt=t,this.canvas){const e=window.innerWidth,t=window.innerHeight;if(this.canvas.width=e,this.canvas.height=t,this.error){if(this.ctx){this.ctx.save(),this.ctx.font="3em ZeroCool, Arial",this.ctx.fillStyle="orange";const s=this.ctx.measureText(this.error);this.ctx.fillText(this.error,Math.max(0,(e-s.width)/2),(t-s.actualBoundingBoxAscent)/2,e),this.ctx.restore()}}else if(this.state&&this.characters){var n;this.x+=this.dx*s*.5,this.y+=this.dy*s*.5,this.x>this.canvas.width-this.s&&(this.x=this.canvas.width-this.s,this.dx=-1),this.x<0&&(this.x=0,this.dx=1),this.y>this.canvas.height-this.s&&(this.y=this.canvas.height-this.s,this.dy=-1),this.y<0&&(this.y=0,this.dy=1),null===(n=this.tree)||void 0===n||n.update(s,this.canvas.width,this.canvas.height),this.draw()}else if(this.ctx){this.ctx.save(),this.ctx.font="3em ZeroCool, Arial",this.ctx.fillStyle="orange";const s="\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",n=this.ctx.measureText(s);this.ctx.fillText(s,Math.max(0,(e-n.width)/2),(t-n.actualBoundingBoxAscent)/2,e),this.ctx.restore()}}requestAnimationFrame(this.loop.bind(this,e))}draw(){var e;this.canvas&&this.ctx&&this.state&&this.characters&&(this.ctx.fillRect(this.x,this.y,this.s,this.s),null===(e=this.tree)||void 0===e||e.draw(this.ctx))}setCanvas(e){this.canvas=e,this.ctx=e.getContext("2d"),this.draw()}};function Qn(){const e=(0,n.s0)();return(0,j.useEffect)((()=>(Fn.start(e),()=>Fn.stop())),[]),Fn}function Ln(){Y("\u0422\u0443\u0440\u043d\u0438\u0440");const e=Qn();return(0,y.jsx)("div",{className:_n.root,children:(0,y.jsx)("canvas",{ref:t=>t&&e.setCanvas(t)})})}function Bn(){var e,t;const s=h();function i(e,t,i){var a;return(0,y.jsx)(n.AW,{path:t,element:null!==(a=s.data)&&void 0!==a&&a.auth?null==e||m(s,e)?i:(0,y.jsx)(M,{}):(0,y.jsx)(n.Fg,{to:"/"})})}return(0,y.jsxs)("div",{className:"root",children:[(0,y.jsx)(f,{}),(0,y.jsx)(C,{}),s.isLoading&&(0,y.jsx)(g.Z,{}),A(s),s.isSuccess&&(0,y.jsxs)(n.Z5,{children:[(0,y.jsx)(n.AW,{path:"/",element:null!==(e=s.data)&&void 0!==e&&e.auth?(0,y.jsx)(n.Fg,{to:"/map"}):(0,y.jsx)(ue,{})}),(0,y.jsx)(n.AW,{path:"/auth",element:null!==(t=s.data)&&void 0!==t&&t.auth?(0,y.jsx)(n.Fg,{to:"/"}):(0,y.jsx)(W,{})}),(0,y.jsx)(n.AW,{path:"/timetable",element:(0,y.jsx)(ps,{})}),(0,y.jsx)(n.AW,{path:"/quest",element:(0,y.jsx)(Ot,{})}),(0,y.jsx)(n.AW,{path:"/store",element:(0,y.jsx)(fs,{})}),(0,y.jsx)(n.AW,{path:"/map",element:(0,y.jsx)(Ut,{})}),i(null,"/game",(0,y.jsx)(tn,{})),i(null,"/scanner",(0,y.jsx)(ms,{})),i("page_worker","/worker",(0,y.jsx)(Ns,{})),i("manage_store","/manage_store",(0,y.jsx)(pt,{})),i("manage_quest","/manage_quest",(0,y.jsx)(ut,{})),i("manage_games","/game_characters",(0,y.jsx)(Cn,{})),i("manage_games","/game_settings",(0,y.jsx)(mn,{})),i("manage_games","/game_screen",(0,y.jsx)(pn,{})),i("manage_games","/tourney_screen",(0,y.jsx)(Ln,{})),i("page_worker_quest","/worker_quest",(0,y.jsx)(Fs,{})),i("page_worker_store","/worker_store",(0,y.jsx)(Ls,{})),i("promote_worker","/promote_worker",(0,y.jsx)(Pt,{role:"worker"})),i("promote_manager","/promote_manager",(0,y.jsx)(Pt,{role:"manager"})),i("send_any","/send",(0,y.jsx)(gs,{})),i("page_debug","/debug",(0,y.jsx)(X,{})),i("page_debug","/log",(0,y.jsx)(ge,{})),i("page_users","/users",(0,y.jsx)(Cs,{})),(0,y.jsx)(n.AW,{path:"*",element:(0,y.jsx)(G,{})})]})]})}}}]);
//# sourceMappingURL=99.d104b76e.chunk.js.map