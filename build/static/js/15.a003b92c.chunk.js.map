{"version":3,"file":"static/js/15.a003b92c.chunk.js","mappings":"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","sources":["api/dataTypes.ts","utils/fetch.ts","api/user.ts","api/operations.ts","utils/scrollToTop.tsx","utils/displayError.tsx","utils/classNames.ts","webpack://event_platform/./src/components/MessageFromBackend/styles.module.css?70b3","components/MessageFromBackend/index.tsx","utils/getCookies.ts","webpack://event_platform/./src/components/HeaderBack/styles.module.css?464d","components/HeaderBack/index.tsx","webpack://event_platform/./src/components/Header/styles.module.css?07e3","api/auth.ts","webpack://event_platform/./src/components/Spinner/styles.module.css?6126","components/Spinner/index.tsx","components/Header/index.tsx","webpack://event_platform/./src/components/Layout/styles.module.css?6939","components/Layout/index.tsx","pages/NotFoundPage/index.tsx","pages/NoPermissionPage/index.tsx","webpack://event_platform/./src/pages/AuthPage/styles.module.css?7367","utils/useTtile.ts","webpack://event_platform/./src/components/Form/styles.module.css?5f34","components/Form/index.tsx","pages/AuthPage/index.tsx","webpack://event_platform/./src/pages/DebugPage/styles.module.css?9feb","webpack://event_platform/./src/components/Popup/styles.module.css?f1d6","components/Popup/index.tsx","pages/DebugPage/index.tsx","webpack://event_platform/./src/pages/IndexPage/styles.module.css?578a","pages/IndexPage/index.tsx","api/log.ts","utils/nums.ts","utils/dates.ts","webpack://event_platform/./src/pages/LogPage/styles.module.css?478b","pages/LogPage/index.tsx","api/quest.ts","utils/useStateBool.ts","webpack://event_platform/./src/pages/ManageQuestPage/AddQuest/styles.module.css?ec25","pages/ManageQuestPage/AddQuest/index.tsx","webpack://event_platform/./src/components/PopupConfirm/styles.module.css?b464","components/PopupConfirm/index.tsx","utils/useStateObj.ts","webpack://event_platform/./src/pages/ManageQuestPage/Quest/styles.module.css?6142","pages/ManageQuestPage/Quest/index.tsx","webpack://event_platform/./src/pages/ManageQuestPage/styles.module.css?b3c3","pages/ManageQuestPage/index.tsx","api/store.ts","webpack://event_platform/./src/pages/ManageStorePage/AddStoreItem/styles.module.css?0eb8","utils/imagefileToData.ts","pages/ManageStorePage/AddStoreItem/index.tsx","webpack://event_platform/./src/pages/ManageStorePage/StoreItem/styles.module.css?d2c5","pages/ManageStorePage/StoreItem/index.tsx","webpack://event_platform/./src/pages/ManageStorePage/styles.module.css?4232","pages/ManageStorePage/index.tsx","webpack://event_platform/./src/pages/MapPage/styles.module.css?f9fa","webpack://event_platform/./src/components/Footer/styles.module.css?e39a","components/Footer/index.tsx","pages/MapPage/index.tsx","api/promote.ts","webpack://event_platform/./src/components/Scanner/styles.module.css?0297","webpack://event_platform/./src/utils/useScanner/styles.module.css?1ae4","utils/useScanner/index.tsx","utils/useSound.ts","components/Scanner/index.tsx","webpack://event_platform/./src/pages/PromotePage/styles.module.css?cc6e","pages/PromotePage/index.tsx","webpack://event_platform/./src/pages/QuestPage/styles.module.css?26ae","components/QrCode/index.tsx","pages/QuestPage/index.tsx","webpack://event_platform/./src/pages/ScannerQuestPage/styles.module.css?6b57","pages/ScannerQuestPage/index.tsx","webpack://event_platform/./src/pages/ScannerSelectQuestPage/styles.module.css?ceea","pages/ScannerSelectQuestPage/index.tsx","webpack://event_platform/./src/pages/ScannerStorePage/styles.module.css?3967","pages/ScannerStorePage/index.tsx","webpack://event_platform/./src/pages/StorePage/styles.module.css?2133","pages/StorePage/index.tsx","webpack://event_platform/./src/pages/TimetablePage/styles.module.css?d4b9","webpack://event_platform/./src/components/StyledWindow/styles.module.css?5fb0","components/StyledWindow/index.tsx","pages/TimetablePage/index.tsx","webpack://event_platform/./src/pages/UsersPage/styles.module.css?2339","pages/UsersPage/index.tsx","webpack://event_platform/./src/pages/WorkerPage/styles.module.css?c125","pages/WorkerPage/index.tsx","App.tsx"],"sourcesContent":["export class ApiError extends Error { }\n\nexport type Modify<T, R> = Omit<T, keyof R> & R;\nexport interface ResponseMsg\n{\n\tmsg: string,\n}\n\nexport interface ImgData\n{\n\tdata: string,\n\tname: string,\n}\n","import { ApiError, ResponseMsg } from \"../api/dataTypes\";\n\nasync function fetchWithJson(method: \"GET\" | \"POST\" | \"DELETE\", input: RequestInfo | URL, body?: any)\n{\n\tconst res = await fetch(input, {\n\t\tmethod,\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: body === undefined ? null : JSON.stringify(body),\n\t});\n\tif (!res.ok) throw new ApiError((await res.json() as ResponseMsg).msg);\n\treturn res;\n}\n\nexport function fetchGet(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchWithJson(\"GET\", input, body);\n}\n\nexport function fetchPost(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchWithJson(\"POST\", input, body);\n}\n\nexport function fetchDelete(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchWithJson(\"DELETE\", input, body);\n}\n\nasync function fetchJson<T>(method: \"GET\" | \"POST\" | \"DELETE\", input: RequestInfo | URL, body?: any)\n{\n\tconst res = await fetchWithJson(method, input, body);\n\tconst data = await res.json();\n\treturn data as T;\n}\n\nexport function fetchJsonGet<T>(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchJson<T>(\"GET\", input, body);\n}\n\nexport function fetchJsonPost<T>(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchJson<T>(\"POST\", input, body);\n}\n\nexport function fetchJsonDelete<T>(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchJson<T>(\"DELETE\", input, body);\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { ApiError, ResponseMsg } from \"./dataTypes\";\nimport { fetchJsonGet, fetchPost } from \"../utils/fetch\";\n\nexport interface User\n{\n\tauth: boolean;\n\tid: string;\n\tname: string;\n\tlast_name: string;\n\tphoto: string;\n\tbalance: number;\n\tcomplited_quests: number[];\n\troles: string[];\n\toperations: string[];\n}\n\nexport interface UserFull\n{\n\tid: number;\n\tid_vk: number;\n\tid_big: string;\n\tlogin: string;\n\tname: string;\n\tlast_name: string;\n\tphoto: string;\n\tbalance: number;\n\tcomplited_quests: number[];\n\troles: string[];\n\tdeleted: boolean;\n\toperations: string[];\n}\n\nexport interface UserWithPwd extends User\n{\n\tpassword: string;\n}\n\nexport function createEmptyUser(): User\n{\n\treturn { auth: false, id: \"\", balance: 0, roles: [], name: \"\", last_name: \"\", photo: \"\", complited_quests: [], operations: [] };\n}\n\nexport function useUpdateUser()\n{\n\tconst queryClient = useQueryClient();\n\treturn () => queryClient.invalidateQueries(\"user\");\n}\n\nexport default function useUser()\n{\n\treturn useQuery(\"user\", getUser);\n}\n\nasync function getUser(): Promise<User>\n{\n\tconst res = await fetch(\"/api/user\");\n\tconst data = await res.json();\n\n\tif (res.status == 401) return createEmptyUser();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst user = data as User;\n\tuser.auth = true;\n\treturn user;\n}\n\nexport function useUsers()\n{\n\treturn useQuery(\"users\", async () =>\n\t\tawait fetchJsonGet<UserFull[]>(\"/api/users\")\n\t);\n}\n\nexport function useMutationChangePassword(onSuccess?: () => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (data: ChangePasswordData) =>\n\t\t\tawait fetchPost(\"/api/user/change_password\", data),\n\t\tonSuccess: onSuccess,\n\t});\n\treturn mutation;\n}\n\n\ninterface ChangePasswordData\n{\n\tpassword: string;\n}\n\nexport function useMutationChangeName(onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (data: ChangeName) =>\n\t\t{\n\t\t\tawait fetchPost(\"/api/user/change_name\", data);\n\t\t\treturn data;\n\t\t},\n\t\tonSuccess: (data: ChangeName) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"user\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"user\", (user?: User) => ({ ...user!, name: data.name }));\n\t\t\tonSuccess?.();\n\t\t},\n\t});\n\treturn mutation;\n}\n\ninterface ChangeName\n{\n\tname: string;\n}","import { UseQueryResult } from \"react-query\";\nimport { User } from \"./user\";\nimport useUser from \"./user\";\n\nconst Operations = {\n\tpage_debug: \"page_debug\",\n\tpage_users: \"page_users\",\n\tpage_worker: \"page_worker\",\n\tpage_scanner_quest: \"page_scanner_quest\",\n\tpage_scanner_store: \"page_scanner_store\",\n\tpromote_worker: \"promote_worker\",\n\tpromote_manager: \"promote_manager\",\n\tmanage_store: \"manage_store\",\n\tmanage_quest: \"manage_quest\",\n}\n\nexport type Operation = keyof typeof Operations;\n\nexport default function hasPermission(user: UseQueryResult<User, unknown>, operation: Operation)\n{\n\treturn !!(user.data?.auth && user.data?.operations.includes(operation));\n}\n\nexport function useHasPermission(operation: Operation)\n{\n\tconst user = useUser();\n\treturn hasPermission(user, operation);\n}\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop()\n{\n\tconst { pathname } = useLocation();\n\n\tuseEffect(() =>\n\t{\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\n\treturn null;\n}\n","import { ReactNode } from \"react\";\nimport { UseMutationResult, UseQueryResult } from \"react-query\";\nimport { ApiError } from \"../api/dataTypes\";\n\nexport function formatError(error: any, messageFormater?: (error: string) => string)\n{\n\tconst err = error instanceof ApiError ? error.message : \"Ошибка\";\n\tconst msg = messageFormater ? messageFormater(err) : err;\n\treturn msg\n}\n\nexport default function displayError(requestRes: UseMutationResult<any, any, any, any> | UseQueryResult<any, any>, render?: (error: string) => ReactNode, messageFormater?: (error: string) => string)\n{\n\tif (!requestRes.isError) return null;\n\n\tconst msg = formatError(requestRes.error, messageFormater);\n\tconst renderer = render || defaultRender;\n\treturn renderer(msg);\n}\n\nfunction defaultRender(error: string)\n{\n\treturn (\n\t\t<h3 style={{ color: \"tomato\", textAlign: \"center\" }}>{error}</h3>\n\t)\n}\n","export default function classNames(...names: (string | undefined | null | false)[])\n{\n\treturn names.filter(v => !!v).join(\" \");\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__hzHjz\",\"visible\":\"styles_visible__6aD-n\",\"close\":\"styles_close__3L8iW\",\"message\":\"styles_message__oF8zk\"};","import { useEffect, useState } from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\nimport getCookie from \"../../utils/getCookies\";\n\nlet msg = \"\";\nexport default function MessageFromBackend()\n{\n\tconst [message, setMessage] = useState(\"\");\n\n\tuseEffect(() =>\n\t{\n\t\tconst timer = setInterval(() =>\n\t\t{\n\t\t\tconst msgCur = getMsg();\n\t\t\tif (msgCur != msg)\n\t\t\t{\n\t\t\t\tmsg = msgCur || \"\";\n\t\t\t\tsetMessage(msg);\n\t\t\t}\n\t\t}, 1000);\n\t\treturn () =>\n\t\t{\n\t\t\tclearInterval(timer);\n\t\t}\n\t}, [setMessage])\n\n\treturn (\n\t\t<div className={classNames(styles.root, message != \"\" && styles.visible)}>\n\t\t\t<button\n\t\t\t\tclassName={styles.close}\n\t\t\t\tonClick={() => setMessage(\"\")}\n\t\t\t></button>\n\t\t\t<div className={styles.message}>{trimQuotes(message)}</div>\n\t\t</div>\n\t);\n}\n\nfunction trimQuotes(str: string)\n{\n\tif (str.at(0) == '\"') str = str.slice(1);\n\tif (str.at(-1) == '\"') str = str.slice(0, -1);\n\treturn str;\n}\n\nfunction getMsg()\n{\n\treturn getCookie(\"MESSAGE_TO_FRONTEND\");\n}\n","export default function getCookie(name: string)\n{\n\tlet matches = document.cookie.match(new RegExp( // eslint-disable-next-line\n\t\t\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\n\t));\n\treturn matches ? decodeURIComponent(matches[1]) : undefined;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__4DGhY\"};","import { useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\n\nexport default function HeaderBack()\n{\n\tconst navigate = useNavigate();\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<button onClick={() => navigate(-1)} className=\"button button_light\">\n\t\t\t\tНазад\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Zvl9c\",\"home\":\"styles_home__o+-s7\",\"block\":\"styles_block__a1SM7\",\"balance\":\"styles_balance__PLLCC\",\"user\":\"styles_user__0ltHf\",\"img\":\"styles_img__vhWmb\",\"menu\":\"styles_menu__WWgPh\",\"menuVisible\":\"styles_menuVisible__mMGZn\"};","import { useMutation, useQueryClient } from \"react-query\";\nimport { fetchJsonPost, fetchPost } from \"../utils/fetch\"\nimport { ApiError } from \"./dataTypes\";\nimport { User, createEmptyUser } from \"./user\";\n\nexport function useMutationAuth(onError?: (msg: string) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postAuth,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"user\", () => data);\n\t\t},\n\t\tonError: (error) =>\n\t\t{\n\t\t\tonError?.(error instanceof ApiError ? error.message : \"Произошла ошибка, попробуйте ещё раз\");\n\t\t}\n\t});\n\treturn mutation;\n}\n\nasync function postAuth(authData: AuthData)\n{\n\tconst user = await fetchJsonPost<User>(\"/api/auth\", authData);\n\tuser.auth = true;\n\treturn user;\n}\n\ninterface AuthData\n{\n\tlogin: string,\n\tpassword: string,\n}\n\n\nexport function useMutationLogout(onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postLogout,\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"user\", (_?: User) => createEmptyUser());\n\t\t\tonSuccess?.();\n\t\t}\n\t});\n\treturn mutation;\n}\n\nexport async function postLogout()\n{\n\tawait fetchPost(\"/api/logout\");\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__BdzzK\",\"spinner\":\"styles_spinner__rlI86\",\"lds-ring\":\"styles_lds-ring__jnLuB\"};","import styles from \"./styles.module.css\"\n\nexport default function Spinner({ color, zIndex, block, r = 0 }: SpinnerProps)\n{\n\treturn (\n\t\t<div className={styles.root} style={{ position: block ? \"absolute\" : \"fixed\", borderRadius: r }}>\n\t\t\t<div className={styles.spinner} style={{ \"--color\": color, zIndex } as React.CSSProperties}><div></div><div></div><div></div><div></div></div>\n\t\t</div>\n\t);\n}\n\ninterface SpinnerProps\n{\n\tcolor?: string,\n\tzIndex?: number,\n\tr?: number | string,\n\tblock?: boolean\n}","import { Link, useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\nimport { useMutationLogout } from \"../../api/auth\";\nimport useUser from \"../../api/user\";\nimport Spinner from \"../Spinner\";\nimport { useState } from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport hasPermission from \"../../api/operations\";\n\nexport default function Header({ color = \"#042e40\" }: HeaderProps)\n{\n\tconst [menuOpen, setMenuOpen] = useState(false);\n\tconst navigate = useNavigate();\n\tconst mutation = useMutationLogout(() =>\n\t{\n\t\tsetMenuOpen(false);\n\t});\n\tconst user = useUser();\n\n\treturn (\n\t\t<div className={styles.root} style={{ background: color }}>\n\t\t\t<Link to={\"/\"} className={styles.home}></Link>\n\t\t\t<span className={styles.block}>\n\t\t\t\t<div className={styles.balance}>{user.data?.balance || 0} G</div>\n\t\t\t\t<button className={styles.user} onClick={() => user.data?.auth ? setMenuOpen(v => !v) : navigate(\"/\")}>\n\t\t\t\t\t<span>{user.data?.auth ? user.data?.name : \"Войти\"}</span>\n\t\t\t\t</button>\n\t\t\t\t{user.data?.photo && <img className={styles.img} src={user.data.photo} alt=\"avatar\" />}\n\t\t\t\t<div className={classNames(styles.menu, menuOpen && styles.menuVisible)} style={{ background: color }}>\n\t\t\t\t\t{/* <button onClick={() => navigate(\"/profile\")}>\n\t\t\t\t\t\tПрофиль\n\t\t\t\t\t</button> */}\n\t\t\t\t\t{hasPermission(user, \"page_debug\") && <Link to=\"/debug\">{`</>`}</Link>}\n\t\t\t\t\t{hasPermission(user, \"page_worker\") && <Link to=\"/worker\">[-^-]</Link>}\n\t\t\t\t\t<button onClick={() => mutation.mutate()} disabled={mutation.status != \"idle\"}>\n\t\t\t\t\t\tВыйти\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t{mutation.status == \"loading\" && <Spinner />}\n\t\t</div>\n\t);\n}\n\ninterface HeaderProps\n{\n\tcolor?: string,\n}","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__xvR2N\",\"hasFooter\":\"styles_hasFooter__lMS3o\",\"body\":\"styles_body__S-p4X\",\"body_centered\":\"styles_body_centered__NzRPU\",\"body_centeredPage\":\"styles_body_centeredPage__R-EzO\"};","import classNames from \"../../utils/classNames\";\nimport Header from \"../Header\";\nimport styles from \"./styles.module.css\"\n\nexport default function Layout({ children, className, headerColor, styles: el_styles, centered = false, centeredPage = false, height100 = false, gap = 0, header, footer }: LayoutProps)\n{\n\tif (header === undefined) header = <Header color={headerColor} />\n\n\treturn (\n\t\t<div className={classNames(styles.root, !!footer && styles.hasFooter)} style={{ ...el_styles, maxHeight: height100 ? \"100dvh\" : \"\" }}>\n\t\t\t{header || <div></div>}\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\tstyles.body, className,\n\t\t\t\t\tcentered && styles.body_centered,\n\t\t\t\t\tcenteredPage && styles.body_centeredPage,\n\t\t\t\t)}\n\t\t\t\tstyle={{ gap, maxHeight: height100 ? \"100%\" : \"\" }}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t\t{footer}\n\t\t</div>\n\t);\n}\n\ninterface LayoutProps extends React.PropsWithChildren\n{\n\tcenteredPage?: boolean,\n\tcentered?: boolean,\n\theight100?: boolean,\n\tgap?: number | string,\n\tclassName?: string,\n\theader?: React.ReactNode,\n\tfooter?: React.ReactNode,\n\tstyles?: React.CSSProperties,\n\n\theaderColor?: string,\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NotFoundPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tТакой страницы нет\n\t\t</Layout>\n\t);\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NoPermissionPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tУ вас недостатточно прав на просмотр этой страницы\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"back\":\"styles_back__uuJZO\",\"form\":\"styles_form__n7Rcu\"};","import { useEffect } from \"react\"\n\nexport function useTitle(title: string | (string | undefined | null | false)[], prefis = \"Мероприятие\")\n{\n\tuseEffect(() =>\n\t{\n\t\tconst prevTitle = document.title;\n\t\tconst t = typeof title != \"object\" ? [title] : title;\n\t\tdocument.title = [prefis, ...t].filter(v => !!v).join(\" | \");\n\t\treturn () => { document.title = prevTitle; }\n\t}, [title, prefis]);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__cFFCH\",\"field\":\"styles_field__5rpBk\"};","import classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport function Form({ className, style, onSubmit, children }: FormProps)\n{\n\treturn (\n\t\t<form\n\t\t\tclassName={classNames(styles.form, className)}\n\t\t\tstyle={style}\n\t\t\tonSubmit={e =>\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\tonSubmit();\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</form>\n\t);\n}\n\ninterface FormProps extends React.PropsWithChildren\n{\n\tonSubmit: () => void,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLFormElement>,\n}\n\n\nexport function FormField({ label, className, style, children }: FormFieldProps)\n{\n\treturn (\n\t\t<label className={classNames(styles.field, className)} style={style}>\n\t\t\t<span>{label}</span>\n\t\t\t{children}\n\t\t</label>\n\t);\n}\n\ninterface FormFieldProps extends React.PropsWithChildren\n{\n\tlabel?: string,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLLabelElement>,\n}\n","import { useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport { useMutationAuth } from \"../../api/auth\";\nimport Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport { Form, FormField } from \"../../components/Form\";\nimport Spinner from \"../../components/Spinner\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function AuthPage()\n{\n\tuseTitle(\"Авторизация\");\n\tconst [error, setError] = useState(\"\");\n\tconst inp_login = useRef<HTMLInputElement>(null);\n\tconst inp_password = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationAuth(setError);\n\n\tfunction onSubmit()\n\t{\n\t\tconst login = inp_login.current?.value || \"\";\n\t\tconst password = inp_password.current?.value || \"\";\n\t\tmutation.mutate({ login, password });\n\t}\n\n\treturn (\n\t\t<Layout header={null} centered centeredPage gap=\"2em\">\n\t\t\t<Link to=\"/\" className={classNames(styles.back, \"material_symbols\")}>arrow_back</Link>\n\t\t\t<h1>Мероприятие</h1>\n\t\t\t{error && <h3>{error}</h3>}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form className={styles.form} onSubmit={onSubmit}>\n\t\t\t\t<FormField label=\"Логин\">\n\t\t\t\t\t<input ref={inp_login} type=\"text\" name=\"login\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Пароль\">\n\t\t\t\t\t<input ref={inp_password} type=\"password\" name=\"password\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<button type=\"submit\" className=\"button button_light button_small\" disabled={mutation.status == \"loading\"}>Войти</button>\n\t\t\t</Form>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__7P05R\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__O0923\",\"hidden\":\"styles_hidden__eYJaf\",\"open\":\"styles_open__35Vcu\",\"popup\":\"styles_popup__L-0H0\",\"header\":\"styles_header__o87wG\",\"close\":\"styles_close__w0Yhz\",\"body\":\"styles_body__t75Nd\"};","import { useEffect, useRef, useState } from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport default function Popup({ children, open = false, close, title = \"\", closeOnOutclick=true }: CustomPopupProps)\n{\n\tconst ref = useRef<HTMLDivElement>(null)\n\tconst [isOpen, setIsOpen] = useState(open);\n\tconst [hidden, setHidden] = useState(!open);\n\tuseEffect(() =>\n\t{\n\t\tif (open)\n\t\t{\n\t\t\tsetHidden(false);\n\t\t\tconst timeout = setTimeout(() => setIsOpen(true), 100);\n\t\t\treturn () => clearTimeout(timeout);\n\t\t}\n\t\tsetIsOpen(false);\n\t\tconst timeout = setTimeout(() => setHidden(true), 250);\n\t\treturn () => clearTimeout(timeout);\n\t}, [open]);\n\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\tclassName={classNames(styles.root, isOpen && styles.open, hidden && styles.hidden)}\n\t\t\tonClick={e =>\n\t\t\t{\n\t\t\t\tif (closeOnOutclick && e.target == ref.current)\n\t\t\t\t\tclose?.();\n\t\t\t}}\n\t\t>\n\t\t\t<div className={styles.popup}>\n\t\t\t\t{\n\t\t\t\t\t(title || close) &&\n\t\t\t\t\t<div className={styles.header}>\n\t\t\t\t\t\t<h3>{title}</h3>\n\t\t\t\t\t\t{close && <button className={styles.close} onClick={close}></button>}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<div className={styles.body}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport interface PopupProps\n{\n\topen?: boolean,\n\tclose?: () => void,\n\ttitle?: string,\n\tcloseOnOutclick?: boolean,\n}\n\ntype CustomPopupProps = PopupProps & React.PropsWithChildren;","import { useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport Layout from \"../../components/Layout\"\nimport Popup from \"../../components/Popup\";\nimport { Link } from \"react-router-dom\";\n\nexport default function DebugPage()\n{\n\tconst [logErrors, setLogErrors] = useState(\"\");\n\tconst [log, setLog] = useState(\"\");\n\tconst refLogErrors = useRef<HTMLPreElement>(null);\n\tconst refLog = useRef<HTMLPreElement>(null);\n\n\treturn (\n\t\t<Layout centered gap=\"1rem\" className={styles.root}>\n\t\t\t<Link to=\"/users\">Users</Link>\n\t\t\t<Link to=\"/log\">Log</Link>\n\t\t\t<button onClick={async () =>\n\t\t\t{\n\t\t\t\tsetLogErrors(\"Loading\");\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tconst res = await fetch(\"/api/debug/log_errors\");\n\t\t\t\t\tconst data = await res.text();\n\t\t\t\t\tsetLogErrors(data);\n\t\t\t\t\tsetTimeout(() => refLogErrors.current?.parentElement?.scrollTo(0, refLogErrors.current?.parentElement?.scrollHeight), 150);\n\t\t\t\t}\n\t\t\t\tcatch (x) { setLogErrors(JSON.stringify(x)); }\n\t\t\t}}>Log errors</button>\n\t\t\t<button onClick={async () =>\n\t\t\t{\n\t\t\t\tsetLog(\"Loading\");\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tconst res = await fetch(\"/api/debug/log_info\");\n\t\t\t\t\tconst data = await res.text();\n\t\t\t\t\tsetLog(data);\n\t\t\t\t\tsetTimeout(() => refLog.current?.parentElement?.scrollTo(0, refLog.current?.parentElement?.scrollHeight), 150);\n\t\t\t\t}\n\t\t\t\tcatch (x) { setLog(JSON.stringify(x)); }\n\t\t\t}}>Log requests</button>\n\t\t\t<Popup title=\"logErrors\" open={logErrors != \"\"} close={() => setLogErrors(\"\")}>\n\t\t\t\t<pre ref={refLogErrors}>{logErrors}</pre>\n\t\t\t</Popup>\n\t\t\t<Popup title=\"log\" open={log != \"\"} close={() => setLog(\"\")}>\n\t\t\t\t<pre ref={refLog}>{log}</pre>\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__h8xNs\",\"auth\":\"styles_auth__quDS1\",\"img\":\"styles_img__jUWp9\",\"title\":\"styles_title__+su+v\",\"btn\":\"styles_btn__xIQ7b\"};","import styles from \"./styles.module.css\"\nimport city from \"./city.png\";\nimport { Link } from \"react-router-dom\";\n\nexport default function IndexPage()\n{\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<Link to=\"/auth\" className={styles.auth} />\n\t\t\t<div className={styles.title}>\n\t\t\t\t<img className={styles.img} src={city} alt=\"Город\" />\n\t\t\t\t<div>\n\t\t\t\t\t<h1>Underparty</h1>\n\t\t\t\t\t<h2>18.02.24</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<a className={styles.btn} href=\"https://oauth.vk.com/authorize?client_id=51848582&redirect_uri=https://platformevent.pythonanywhere.com/auth_vk&display=page&response_type=code\">\n\t\t\t\tВход\n\t\t\t</a>\n\t\t</div>\n\t);\n}\n","import { useQuery } from \"react-query\";\nimport { Modify } from \"./dataTypes\";\nimport { fetchJsonGet } from \"../utils/fetch\";\n\nexport function useLog()\n{\n\treturn useQuery(\"log\", async () =>\n\t\t(await fetchJsonGet<LogItemResponse[]>(\"/api/debug/log\")).map(parseLogResponse)\n\t);\n}\n\nexport function parseLogResponse(responseLog: LogItemResponse)\n{\n\tconst log = responseLog as unknown as LogItem;\n\tlog.date = new Date(responseLog.date);\n\treturn log;\n}\n\nexport interface LogItem\n{\n\tid: number,\n\tactionCode: \"added\" | \"updated\" | \"deleted\" | \"restored\",\n\tdate: Date,\n\trecordId: number,\n\tuserId: number,\n\tuserName: string,\n\ttableName: \"User\" | \"Role\" | \"Event\" | \"Ticket\" | \"TicketType\" | \"PermissionAccess\",\n\tchanges: [string, any, any][],\n}\n\ntype LogItemResponse = Modify<LogItem, {\n\tdate: string,\n}>\n","export function padNum(num: number, len: number)\n{\n\treturn `${num}`.padStart(len, \"0\");\n}\n\nexport function countWord(num: number, one: string, two: string, five: string)\n{\n\tconst numS = `${num}`;\n\tif (numS.at(-1) == \"1\" && numS.at(-2) != \"1\")\n\t\treturn one;\n\tif ([\"2\", \"3\", \"4\"].includes(numS.at(-1) || \"\") && numS.at(-2) != \"1\")\n\t\treturn two;\n\treturn five;\n}\n","import { padNum, countWord } from \"./nums\";\n\nexport function dateToString(date: Date | null | undefined, reverse = false)\n{\n\tif (!date) return \"\";\n\tif (reverse)\n\t\treturn `${date.getFullYear()}.${padNum(date.getMonth() + 1, 2)}.${padNum(date.getDate(), 2)}`;\n\treturn `${padNum(date.getDate(), 2)}.${padNum(date.getMonth() + 1, 2)}.${date.getFullYear()}`;\n}\n\nexport function timeToString(date: Date, seconds = false)\n{\n\tlet dateStr = `${padNum(date.getHours(), 2)}:${padNum(date.getMinutes(), 2)}`;\n\tif (seconds) return dateStr + `:${padNum(date.getSeconds(), 2)}`;\n\treturn dateStr;\n}\n\nexport function datetimeToString(date: Date, seconds = false, reverseDate = false)\n{\n\treturn dateToString(date, reverseDate) + \" \" + timeToString(date, seconds);\n}\n\nexport function relativeDate(date: Date, nowBreak: \"second\" | \"minute\" | \"hour\" | \"day\" = \"second\")\n{\n\tconst now = new Date();\n\n\tconst delta = date.getTime() - now.getTime();\n\tlet d = Math.floor(Math.abs(delta) / 1000);\n\n\tconst dY = Math.floor(d / (60 * 60 * 24 * 30 * 12)); d -= dY * 60 * 60 * 24 * 30 * 12;\n\tconst dM = Math.floor(d / (60 * 60 * 24 * 30)); d -= dM * 60 * 60 * 24 * 30;\n\tconst dD = Math.floor(d / (60 * 60 * 24)); d -= dD * 60 * 60 * 24;\n\tconst dh = Math.floor(d / (60 * 60)) % 24; d -= dh * 60 * 60;\n\tconst dm = Math.floor(d / 60) % 60; d -= dm * 60;\n\tconst ds = d % 60;\n\n\tfunction getChange(): [string | number, [string, string, string]]\n\t{\n\t\tconst sv = (v: string) => [v, [\"\", \"\", \"\"]] as [string, [string, string, string]];\n\t\tif (dY != 0) return [dY, [\"год\", \"года\", \"лет\"]];\n\t\tif (dM != 0) return [dM, [\"месяц\", \"месяца\", \"месяцов\"]];\n\t\tif (dD != 0) return [dD, [\"день\", \"дня\", \"дней\"]];\n\t\tif (nowBreak == \"day\") return sv(\"Сегодня\");\n\t\tif (dh != 0) return [dh, [\"час\", \"часа\", \"часов\"]];\n\t\tif (nowBreak == \"hour\") return sv(\"Сейчас\");\n\t\tif (dm != 0) return [dm, [\"минута\", \"минуты\", \"минут\"]];\n\t\tif (nowBreak == \"minute\") return sv(\"Сейчас\");\n\t\tif (ds != 0) return [ds, [\"секунда\", \"секунды\", \"секунд\"]];\n\t\treturn sv(\"Только что\");\n\t}\n\tlet [vChange, vNames] = getChange();\n\n\tif (typeof vChange == \"string\")\n\t\treturn vChange;\n\n\tlet relative = `${countWord(vChange, ...vNames)}`\n\tif (Math.abs(vChange) > 1) relative = Math.abs(vChange) + \" \" + relative;\n\tif (delta > 0) relative = \"Через \" + relative;\n\telse relative += \" назад\";\n\n\treturn relative;\n}\n\nexport function secondsPast(date: Date)\n{\n\tconst now = new Date();\n\treturn (now.getTime() - date.getTime()) / 1000;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"table\":\"styles_table__QLr-h\",\"changesCell\":\"styles_changesCell__0wQDJ\",\"changes\":\"styles_changes__EyS9f\",\"btn\":\"styles_btn__H7b72\"};","import { LogItem, useLog } from \"../../api/log\";\nimport Layout from \"../../components/Layout\"\nimport { datetimeToString } from \"../../utils/dates\";\nimport displayError from \"../../utils/displayError\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function LogPage()\n{\n\tuseTitle(\"Log\");\n\tconst log = useLog();\n\n\treturn <Layout centeredPage styles={{ fontFamily: \"'PT Sans', Arial\" }}>\n\t\t{log.isFetching && <h3>Загрузка</h3>}\n\t\t{displayError(log)}\n\t\t{!log.isFetching && <button className={styles.btn} onClick={() => log.refetch()}>Update</button>}\n\t\t<table className={styles.table}>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th style={{ minWidth: \"9.5em\" }}>Date</th>\n\t\t\t\t\t<th style={{ minWidth: \"4em\" }}>Action</th>\n\t\t\t\t\t<th style={{ minWidth: \"9.5em\" }}>Table[id]</th>\n\t\t\t\t\t<th>User[id]</th>\n\t\t\t\t\t<th style={{ width: \"18em\" }}>Changes</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{log.data?.map(item => <tr key={item.id}>\n\t\t\t\t\t<td>{datetimeToString(item.date, true, true)}</td>\n\t\t\t\t\t<td>{colorizeAction(item.actionCode)}</td>\n\t\t\t\t\t<td>{item.tableName}[{item.recordId}]</td>\n\t\t\t\t\t<td>{item.userName} [{item.userId}]</td>\n\t\t\t\t\t<td className={styles.changesCell}>\n\t\t\t\t\t\t<div className={styles.changes}>\n\t\t\t\t\t\t\t<input type=\"checkbox\" className={styles.toggleInp} id={`item${item.id}`} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{item.changes.map(v => <div key={v[0]}>{v[0]}: {JSON.stringify(v[1])} {\"->\"} {JSON.stringify(v[2])}</div>)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{item.changes.length > 0 &&\n\t\t\t\t\t\t\t\t<label className={styles.btn} htmlFor={`item${item.id}`}>{item.changes.length}</label>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>)}\n\t\t\t</tbody>\n\t\t</table>\n\t</Layout>\n}\n\nfunction colorizeAction(action: LogItem[\"actionCode\"])\n{\n\tconst colors: { [key in LogItem[\"actionCode\"]]: string } = {\n\t\tadded: \"#008000\",\n\t\tdeleted: \"#b30000\",\n\t\tupdated: \"#006fb3\",\n\t\trestored: \"#990099\",\n\t}\n\treturn <span style={{ color: colors[action] }}>{action}</span>\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { fetchDelete, fetchJsonGet, fetchJsonPost } from \"../utils/fetch\";\n\nexport interface Quest\n{\n\tid: number;\n\tname: string;\n\treward: number;\n}\n\nexport function useQuests()\n{\n\treturn useQuery(\"quests\", async () =>\n\t\tawait fetchJsonGet<Quest[]>(\"/api/quests\")\n\t);\n}\n\nexport function useMutationCompleteQuest(onSuccess?: (data: CompleteQuestRes) => void, onError?: (err: any) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (completeQuestData: CompleteQuestData) =>\n\t\t\tawait fetchJsonPost<CompleteQuestRes>(\"/api/quest_complete\", completeQuestData),\n\t\tonSuccess: onSuccess,\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport interface CompleteQuestData\n{\n\tquestId: number,\n\tuserId: string,\n}\n\nexport interface CompleteQuestRes\n{\n\tres: \"ok\" | \"already_done\" | \"no_visitor\",\n\tvisitor: string,\n}\n\n\nexport function useMutationAddQuest(onSuccess?: (data: Quest) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (questData: QuestData) =>\n\t\t\tawait fetchJsonPost<Quest>(\"/api/quest\", questData),\n\t\tonSuccess: (data: Quest) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"quests\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"quests\", (quests?: Quest[]) => quests ? [...quests, data] : [data]);\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport interface QuestData\n{\n\tname: string,\n\treward: number,\n}\n\nexport function useMutationEditQuest(questId: number, onSuccess?: (data: Quest) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (questData: QuestData) =>\n\t\t\tawait fetchJsonPost<Quest>(`/api/quest/${questId}`, questData),\n\t\tonSuccess: (data: Quest) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"quests\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"quests\", (quests?: Quest[]) => quests?.map(v => v.id == data.id ? data : v) || []);\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationDeleteQuest(questId: number, onSuccess?: () => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchDelete(`/api/quest/${questId}`),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"quests\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"quests\", (quests?: Quest[]) => quests?.filter(v => v.id != questId) || []);\n\n\t\t\tonSuccess?.();\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n","import { useState } from \"react\";\n\nexport default function useStateBool(initialState: boolean | (() => boolean), onSet?: () => void)\n{\n\tlet [v, set] = useState(initialState)\n\tif (onSet)\n\t\tset = (v: boolean | ((prevState: boolean) => boolean)) =>\n\t\t{\n\t\t\tset(v);\n\t\t\tonSet();\n\t\t};\n\n\treturn {\n\t\tv,\n\t\tset,\n\t\tsetT: () => set(true),\n\t\tsetF: () => set(false),\n\t};\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__oNkfm\",\"img\":\"styles_img__46Cxj\"};","import { useRef } from \"react\";\nimport { Form, FormField } from \"../../../components/Form\"\nimport Popup from \"../../../components/Popup\"\nimport Spinner from \"../../../components/Spinner\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport styles from \"./styles.module.css\"\nimport { useMutationAddQuest } from \"../../../api/quest\";\n\nexport default function AddQuest()\n{\n\tconst nameRef = useRef<HTMLInputElement>(null);\n\tconst rewardRef = useRef<HTMLInputElement>(null);\n\tconst popupOpen = useStateBool(false);\n\tconst mutationAdd = useMutationAddQuest(() =>\n\t{\n\t\tpopupOpen.setF();\n\t\tif (nameRef.current)\n\t\t\tnameRef.current.value = \"\";\n\t\tif (rewardRef.current)\n\t\t\trewardRef.current.value = \"\";\n\t});\n\n\treturn <>\n\t\t<button className={styles.root} onClick={popupOpen.setT}>Добавить</button>\n\t\t<Popup title=\"Добавление квеста\" open={popupOpen.v} close={popupOpen.setF} closeOnOutclick={false}>\n\t\t\t{mutationAdd.isLoading && <Spinner />}\n\t\t\t{displayError(mutationAdd)}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst name = nameRef.current?.value;\n\t\t\t\tconst reward = rewardRef.current?.valueAsNumber;\n\t\t\t\tif (name && reward)\n\t\t\t\t\tmutationAdd.mutate({\n\t\t\t\t\t\tname,\n\t\t\t\t\t\treward,\n\t\t\t\t\t})\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Название\">\n\t\t\t\t\t<input ref={nameRef} required type=\"text\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Награда\">\n\t\t\t\t\t<input ref={rewardRef} required type=\"number\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField>\n\t\t\t\t\t<button type=\"submit\">Добавить</button>\n\t\t\t\t</FormField>\n\t\t\t</Form>\n\t\t</Popup>\n\t</>\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"styles_button__MKylh\"};","import styles from \"./styles.module.css\"\nimport { UseMutationResult } from \"react-query\";\nimport displayError from \"../../utils/displayError\";\nimport { Form } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport Spinner from \"../Spinner\";\nimport { useEffect } from \"react\";\n\nexport default function PopupConfirm<T, K>({ title, mutationFn, mutatateParams, itemId, onSuccess, open, close }: PopupConfirmProps<T, K>)\n{\n\tconst mutation = mutationFn(itemId, (item: any) =>\n\t{\n\t\tclose?.();\n\t\tonSuccess?.(item);\n\t});\n\n\tuseEffect(() =>\n\t{\n\t\tif (!open)\n\t\t\tmutation.reset();\n\t\t// eslint-disable-next-line\n\t}, [open]);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\"Вы уверены?\">\n\t\t\t{displayError(mutation)}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tmutation.mutate(mutatateParams!);\n\t\t\t}}>\n\t\t\t\t<h2>{title}</h2>\n\t\t\t\t<button type=\"submit\" className={styles.button}>Подтвердить</button>\n\t\t\t</Form>\n\t\t</Popup>\n\t);\n}\n\ninterface PopupConfirmProps<T, K> extends PopupProps\n{\n\tmutationFn: (itemId: number, onSuccess: (item: T | void) => void) => UseMutationResult<T, any, K, any>,\n\tmutatateParams?: K,\n\titemId: number,\n\ttitle: string,\n\tonSuccess?: (item: T) => void,\n}\n","import { useState } from \"react\";\n\nexport default function useStateObj<S>(initialState: S | (() => S), onSet?: () => void)\n{\n\tconst [v, set] = useState(initialState)\n\tif (onSet)\n\t\treturn {\n\t\t\tv, set: (v: S | ((prevState: S) => S)) =>\n\t\t\t{\n\t\t\t\tset(v);\n\t\t\t\tonSet();\n\t\t\t}\n\t\t};\n\treturn { v, set };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__RyDEO\",\"error\":\"styles_error__mpo99\",\"id\":\"styles_id__+YyjR\",\"img\":\"styles_img__Q1dE-\",\"inputs\":\"styles_inputs__+GHP-\",\"changed\":\"styles_changed__-Gqjn\",\"buttons\":\"styles_buttons__DpOXa\",\"btnMinus\":\"styles_btnMinus__sOvku\"};","import { useEffect } from \"react\";\nimport PopupConfirm from \"../../../components/PopupConfirm\";\nimport Spinner from \"../../../components/Spinner\";\nimport classNames from \"../../../utils/classNames\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport useStateObj from \"../../../utils/useStateObj\";\nimport styles from \"./styles.module.css\"\nimport { useMutationEditQuest, type Quest, useMutationDeleteQuest } from \"../../../api/quest\";\n\nexport default function Quest({ quest }: QuestProps)\n{\n\tconst changed = useStateBool(false);\n\tconst deleting = useStateBool(false);\n\tconst name = useStateObj(quest.name, changed.setT);\n\tconst reward = useStateObj(quest.reward, changed.setT);\n\n\tconst mutationEdit = useMutationEditQuest(quest.id, reset, () => reset());\n\n\tfunction reset(newQuest?: Quest)\n\t{\n\t\tname.set(newQuest?.name || quest.name);\n\t\treward.set(newQuest?.reward || quest.reward);\n\t\tchanged.setF();\n\t}\n\n\tuseEffect(reset, [quest])\n\n\treturn (\n\t\t<div className={classNames(styles.root, changed.v && styles.changed)}>\n\t\t\t{mutationEdit.isLoading && <Spinner block r=\"0.5rem\" />}\n\t\t\t{displayError(mutationEdit, err => <div className={styles.error}>\n\t\t\t\t<div>{err}</div>\n\t\t\t\t<button onClick={() => mutationEdit.reset()}>ОК</button>\n\t\t\t</div>)}\n\t\t\t<PopupConfirm title={\"Удалить товар: \" + name.v} itemId={quest.id} mutationFn={useMutationDeleteQuest} open={deleting.v} close={deleting.setF} />\n\t\t\t<div className={styles.id}>{quest.id}</div>\n\t\t\t<div className={styles.inputs}>\n\t\t\t\t<div>Название</div>\n\t\t\t\t<input type=\"text\" value={name.v} onChange={inp => name.set(inp.target.value)} />\n\t\t\t\t<div>Награда</div>\n\t\t\t\t<input type=\"number\" value={reward.v} onChange={inp => reward.set(inp.target.valueAsNumber)} />\n\t\t\t</div>\n\t\t\t<div className={classNames(\"material_symbols\", styles.buttons)}>\n\t\t\t\t{!changed.v && <button onClick={deleting.setT}>delete</button>}\n\t\t\t\t{changed.v && <button\n\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tmutationEdit.mutate({\n\t\t\t\t\t\t\tname: name.v,\n\t\t\t\t\t\t\treward: reward.v,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tsave\n\t\t\t\t</button>}\n\t\t\t\t{changed.v && <button onClick={() => reset()}>cancel</button>}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface QuestProps\n{\n\tquest: Quest\n}","// extracted by mini-css-extract-plugin\nexport default {\"quests\":\"styles_quests__lnETn\"};","import { useQuests } from \"../../api/quest\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport AddQuest from \"./AddQuest\";\nimport Quest from \"./Quest\";\nimport styles from \"./styles.module.css\"\n\nexport default function ManageQuestPage()\n{\n\tconst quests = useQuests();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"0.5rem\">\n\t\t\t{quests.isLoading && <Spinner />}\n\t\t\t{displayError(quests)}\n\n\t\t\t<h1>Управление квестами</h1>\n\n\t\t\t<AddQuest />\n\n\t\t\t<div className={styles.quests}>\n\t\t\t\t{quests.data?.map(quest => <Quest key={quest.id} quest={quest} />)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { fetchDelete, fetchJsonGet, fetchJsonPost } from \"../utils/fetch\";\nimport type { ImgData } from \"./dataTypes\";\n\nexport interface StoreItem\n{\n\tid: number;\n\tname: string;\n\tprice: number;\n\tcount: number;\n\timg?: string;\n}\n\n\nexport function useStoreItems()\n{\n\treturn useQuery(\"storeItems\", async () =>\n\t\tawait fetchJsonGet<StoreItem[]>(\"/api/store_items\")\n\t);\n}\n\n\nexport interface SellData\n{\n\tuserId: string,\n\titemId: number,\n}\n\nexport function useMutationSellItemCheck(onSuccess?: (data: SellCheckRes) => void, onError?: (err: any) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (sellData: SellData) =>\n\t\t\tawait fetchJsonPost<SellCheckRes>(\"/api/store_sell_check\", sellData),\n\t\tonSuccess: (res, data) =>\n\t\t{\n\t\t\tres.itemId = data.itemId;\n\t\t\tres.visitorId = data.userId;\n\t\t\tonSuccess?.(res);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport interface SellCheckRes\n{\n\tres: \"ok\" | \"no_item\" | \"no_visitor\" | \"no_money\",\n\titem: StoreItem,\n\tvisitor: string,\n\titemId: number,\n\tvisitorId: string,\n}\n\nexport function useMutationSellItem(onSuccess?: (data: SellItemRes) => void, onError?: (err: any) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (sellData: SellData) =>\n\t\t\tawait fetchJsonPost<SellItemRes>(\"/api/store_sell\", sellData),\n\t\tonSuccess: onSuccess,\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport interface SellItemRes\n{\n\tres: \"ok\" | \"no_money\",\n\titem: string,\n\tvisitor: string,\n}\n\nexport function useMutationAddItem(onSuccess?: (data: StoreItem) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (itemData: ItemData) =>\n\t\t\tawait fetchJsonPost<StoreItem>(\"/api/store_item\", itemData),\n\t\tonSuccess: (data: StoreItem) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"storeItems\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"storeItems\", (items?: StoreItem[]) => items ? [...items, data] : [data]);\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport interface ItemData\n{\n\tname: string,\n\tprice: number,\n\tcount: number,\n\timg?: ImgData,\n}\n\nexport function useMutationEditItem(itemId: number, onSuccess?: (data: StoreItem) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (itemData: ItemData) =>\n\t\t\tawait fetchJsonPost<StoreItem>(`/api/store_item/${itemId}`, itemData),\n\t\tonSuccess: (data: StoreItem) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"storeItems\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"storeItems\", (items?: StoreItem[]) => items?.map(v => v.id == data.id ? data : v) || []);\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationDecreaseItem(itemId: number, onSuccess?: (data: StoreItem) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchJsonPost<StoreItem>(`/api/store_item/${itemId}/decrease`),\n\t\tonSuccess: (data: StoreItem) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"storeItems\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"storeItems\", (items?: StoreItem[]) => items?.map(v => v.id == data.id ? data : v) || []);\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationDeleteItem(itemId: number, onSuccess?: () => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchDelete(`/api/store_item/${itemId}`),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"storeItems\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"storeItems\", (items?: StoreItem[]) => items?.filter(v => v.id != itemId) || []);\n\n\t\t\tonSuccess?.();\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__yl-I8\",\"img\":\"styles_img__gddIw\"};","import { ImgData } from \"../api/dataTypes\";\n\nexport default async function imagefileToData(file: File, name: string)\n{\n\tconst imgBase64 = await new Promise((resolve: (a: { result: string | ArrayBuffer | null, error: string | DOMException | null }) => void) =>\n\t{\n\t\tvar reader = new FileReader();\n\t\treader.addEventListener(\"loadend\", e =>\n\t\t{\n\t\t\tresolve({\n\t\t\t\tresult: reader.result,\n\t\t\t\terror: reader.error,\n\t\t\t});\n\t\t});\n\t\treader.readAsDataURL(file);\n\t});\n\tif (imgBase64.error)\n\t{\n\t\tconsole.error(imgBase64.error);\n\t\treturn null;\n\t}\n\treturn {\n\t\tdata: imgBase64.result,\n\t\tname,\n\t} as ImgData\n}","import { useRef } from \"react\";\nimport { useMutationAddItem } from \"../../../api/store\";\nimport { Form, FormField } from \"../../../components/Form\"\nimport Popup from \"../../../components/Popup\"\nimport Spinner from \"../../../components/Spinner\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport styles from \"./styles.module.css\"\nimport imagefileToData from \"../../../utils/imagefileToData\";\nimport useStateObj from \"../../../utils/useStateObj\";\nimport type { ImgData } from \"../../../api/dataTypes\";\n\nexport default function AddStoreItem()\n{\n\tconst imgData = useStateObj<ImgData | null>(null);\n\tconst nameRef = useRef<HTMLInputElement>(null);\n\tconst priceRef = useRef<HTMLInputElement>(null);\n\tconst countRef = useRef<HTMLInputElement>(null);\n\tconst popupOpen = useStateBool(false);\n\tconst mutationAdd = useMutationAddItem(() =>\n\t{\n\t\timgData.set(null);\n\t\tpopupOpen.setF();\n\t\tif (nameRef.current)\n\t\t\tnameRef.current.value = \"\";\n\t\tif (priceRef.current)\n\t\t\tpriceRef.current.value = \"\";\n\t\tif (countRef.current)\n\t\t\tcountRef.current.value = \"\";\n\t});\n\n\treturn <>\n\t\t<button className={styles.root} onClick={popupOpen.setT}>Добавить</button>\n\t\t<Popup title=\"Добавление товара\" open={popupOpen.v} close={popupOpen.setF} closeOnOutclick={false}>\n\t\t\t{mutationAdd.isLoading && <Spinner />}\n\t\t\t{displayError(mutationAdd)}\n\t\t\t{imgData.v?.data == \"\" && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst name = nameRef.current?.value;\n\t\t\t\tconst count = countRef.current?.valueAsNumber;\n\t\t\t\tconst price = priceRef.current?.valueAsNumber;\n\t\t\t\tif (count && name && price)\n\t\t\t\t\tmutationAdd.mutate({\n\t\t\t\t\t\tcount,\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tprice,\n\t\t\t\t\t\timg: imgData.v || undefined,\n\t\t\t\t\t})\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Изображение\">\n\t\t\t\t\t<div className={styles.img}>\n\t\t\t\t\t\t{imgData.v && <img src={imgData.v.data} alt=\"Изображение\" />}\n\t\t\t\t\t</div>\n\t\t\t\t\t<input type=\"file\" style={{ display: \"none\" }} onChange={async e =>\n\t\t\t\t\t{\n\t\t\t\t\t\timgData.set({ data: \"\", name: \"\" });\n\t\t\t\t\t\timgData.set(await imagefileToData(e.target?.files?.[0]!, \"\"));\n\t\t\t\t\t}} />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Название\">\n\t\t\t\t\t<input ref={nameRef} required type=\"text\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Цена\">\n\t\t\t\t\t<input ref={priceRef} required type=\"number\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Количество\">\n\t\t\t\t\t<input ref={countRef} required type=\"number\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField>\n\t\t\t\t\t<button type=\"submit\">Добавить</button>\n\t\t\t\t</FormField>\n\t\t\t</Form>\n\t\t</Popup>\n\t</>\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__792UO\",\"error\":\"styles_error__EjE0M\",\"id\":\"styles_id__EvI3k\",\"img\":\"styles_img__F6UZc\",\"inputs\":\"styles_inputs__r6vu+\",\"changed\":\"styles_changed__aaZPg\",\"buttons\":\"styles_buttons__X3oNY\",\"btnMinus\":\"styles_btnMinus__5ZzMA\"};","import { useEffect } from \"react\";\nimport { useMutationEditItem, type StoreItem, useMutationDeleteItem, useMutationDecreaseItem } from \"../../../api/store\";\nimport PopupConfirm from \"../../../components/PopupConfirm\";\nimport Spinner from \"../../../components/Spinner\";\nimport classNames from \"../../../utils/classNames\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport useStateObj from \"../../../utils/useStateObj\";\nimport styles from \"./styles.module.css\"\nimport type { ImgData } from \"../../../api/dataTypes\";\nimport imagefileToData from \"../../../utils/imagefileToData\";\n\nexport default function StoreItem({ item }: StoreItemProps)\n{\n\tconst changed = useStateBool(false);\n\tconst deleting = useStateBool(false);\n\tconst decreasing = useStateBool(false);\n\tconst imgData = useStateObj<ImgData | null>(null, changed.setT);\n\tconst name = useStateObj(item.name, changed.setT);\n\tconst count = useStateObj(item.count, changed.setT);\n\tconst price = useStateObj(item.price, changed.setT);\n\n\tconst mutationEdit = useMutationEditItem(item.id, reset, () => reset());\n\n\tfunction reset(newitem?: StoreItem)\n\t{\n\t\timgData.set(null);\n\t\tname.set(newitem?.name || item.name);\n\t\tcount.set(newitem?.count || item.count);\n\t\tprice.set(newitem?.price || item.price);\n\t\tchanged.setF();\n\t}\n\n\tuseEffect(reset, [item])\n\n\treturn (\n\t\t<div className={classNames(styles.root, changed.v && styles.changed)}>\n\t\t\t{mutationEdit.isLoading && <Spinner block r=\"0.5rem\" />}\n\t\t\t{imgData.v?.data == \"\" && <Spinner block r=\"0.5rem\" />}\n\t\t\t{displayError(mutationEdit, err => <div className={styles.error}>\n\t\t\t\t<div>{err}</div>\n\t\t\t\t<button onClick={() => mutationEdit.reset()}>ОК</button>\n\t\t\t</div>)}\n\t\t\t<PopupConfirm title={\"Удалить товар: \" + name.v} itemId={item.id} mutationFn={useMutationDeleteItem} open={deleting.v} close={deleting.setF} />\n\t\t\t<PopupConfirm title={\"Уменьшить кол-во на 1: \" + name.v} itemId={item.id} mutationFn={useMutationDecreaseItem} open={decreasing.v} close={decreasing.setF} />\n\t\t\t<div className={styles.id}>{item.id}</div>\n\t\t\t<label className={styles.img}>\n\t\t\t\t{(item.img || imgData.v) && <img src={imgData.v?.data || item.img} alt=\"Картинка\" />}\n\t\t\t\t<input type=\"file\" style={{ display: \"none\" }} onChange={async e =>\n\t\t\t\t{\n\t\t\t\t\timgData.set({ data: \"\", name: \"\" });\n\t\t\t\t\timgData.set(await imagefileToData(e.target?.files?.[0]!, \"\"));\n\t\t\t\t\te.target.value = \"\";\n\t\t\t\t}} />\n\t\t\t</label>\n\t\t\t<div className={styles.inputs}>\n\t\t\t\t<div>Название</div>\n\t\t\t\t<input type=\"text\" value={name.v} onChange={inp => name.set(inp.target.value)} />\n\t\t\t\t<div>Цена</div>\n\t\t\t\t<input type=\"number\" value={price.v} onChange={inp => price.set(inp.target.valueAsNumber)} />\n\t\t\t\t<div>Количество</div>\n\t\t\t\t<input type=\"number\" value={count.v} onChange={inp => count.set(inp.target.valueAsNumber)} />\n\t\t\t</div>\n\t\t\t<div className={classNames(\"material_symbols\", styles.buttons)}>\n\t\t\t\t{!changed.v && <button onClick={deleting.setT}>delete</button>}\n\t\t\t\t{!changed.v && <button className={styles.btnMinus} onClick={decreasing.setT}>-1</button>}\n\t\t\t\t{changed.v && <button\n\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tmutationEdit.mutate({\n\t\t\t\t\t\t\tname: name.v,\n\t\t\t\t\t\t\tcount: count.v,\n\t\t\t\t\t\t\tprice: price.v,\n\t\t\t\t\t\t\timg: imgData.v || undefined,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tsave\n\t\t\t\t</button>}\n\t\t\t\t{changed.v && <button onClick={() => reset()}>cancel</button>}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface StoreItemProps\n{\n\titem: StoreItem\n}","// extracted by mini-css-extract-plugin\nexport default {\"items\":\"styles_items__34Dlt\"};","import { useStoreItems } from \"../../api/store\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport AddStoreItem from \"./AddStoreItem\";\nimport StoreItem from \"./StoreItem\";\nimport styles from \"./styles.module.css\"\n\nexport default function ManageStorePage()\n{\n\tconst items = useStoreItems();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"0.5rem\">\n\t\t\t{items.isLoading && <Spinner />}\n\t\t\t{displayError(items)}\n\n\t\t\t<h1>Управление магазином</h1>\n\n\t\t\t<AddStoreItem />\n\n\t\t\t<div className={styles.items}>\n\t\t\t\t{items.data?.map(item => <StoreItem key={item.id} item={item} />)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__3AhF7\",\"title\":\"styles_title__AMBJ6\",\"map\":\"styles_map__lp2hs\",\"active\":\"styles_active__OfSUZ\",\"background\":\"styles_background__23nEs\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__cV7H9\",\"active\":\"styles_active__RcNKa\"};","import { Link } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\n\nexport default function Footer({ curPage }: FooterProps)\n{\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<div>\n\t\t\t\t<Link className={curPage == \"map\" ? styles.active : \"\"} to={\"/\"}>Карта</Link>\n\t\t\t\t<Link className={curPage == \"timetable\" ? styles.active : \"\"} to={\"/timetable\"}>План</Link>\n\t\t\t\t<Link className={curPage == \"quest\" ? styles.active : \"\"} to={\"/quest\"}>Квест</Link>\n\t\t\t\t<Link className={curPage == \"store\" ? styles.active : \"\"} to={\"/store\"}>Магаз</Link>\n\t\t\t\t<Link className={curPage == \"race\" ? styles.active : \"\"} to={\"/race\"}>Гонки</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface FooterProps\n{\n\tcurPage?: \"map\" | \"timetable\" | \"quest\" | \"store\" | \"race\"\n}\n","import styles from \"./styles.module.css\"\nimport map1 from \"./map1.png\";\nimport map2 from \"./map2.png\";\nimport Layout from \"../../components/Layout\";\nimport Footer from \"../../components/Footer\";\nimport useStateBool from \"../../utils/useStateBool\";\n\nexport default function MapPage()\n{\n\tconst firstMap = useStateBool(true);\n\n\treturn (\n\t\t<Layout centeredPage headerColor=\"#042e40\" gap=\"1em\" className={styles.root} footer={<Footer curPage=\"map\" />}>\n\t\t\t<div className={styles.background}></div>\n\t\t\t<h1 className={styles.title}>Underparty</h1>\n\t\t\t<div className={styles.map}>\n\t\t\t\t<img src={firstMap.v ? map1 : map2} alt=\"Карта\" />\n\t\t\t\t<div>\n\t\t\t\t\t<button onClick={firstMap.setT} className={firstMap.v ? styles.active : \"\"}>Этаж 1</button>\n\t\t\t\t\t<button onClick={firstMap.setF} className={!firstMap.v ? styles.active : \"\"}>Этаж 2</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","import { useMutation } from \"react-query\";\nimport { fetchJsonPost } from \"../utils/fetch\";\n\nexport function useMutationPromoteWorker(onSuccess?: (res: PromoteRes) => void, onError?: (err: any) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (promoteData: PromoteData) =>\n\t\t\tawait fetchJsonPost<PromoteRes>(\"/api/promote_worker\", promoteData),\n\t\tonSuccess: onSuccess,\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationPromoteManager(onSuccess?: (res: PromoteRes) => void, onError?: (err: any) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (promoteData: PromoteData) =>\n\t\t\tawait fetchJsonPost<PromoteRes>(\"/api/promote_manager\", promoteData),\n\t\tonSuccess: onSuccess,\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport interface PromoteData\n{\n\tuserId: string,\n}\n\nexport interface PromoteRes\n{\n\tres: \"ok\" | \"no_user\" | \"already_has\",\n\tuser: string,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__QdJnV\",\"msg\":\"styles_msg__plnAU\",\"msg_visible\":\"styles_msg_visible__G0rDm\",\"msg_dimmed\":\"styles_msg_dimmed__0Xs60\",\"bar\":\"styles_bar__VuYbs\",\"bar_full\":\"styles_bar_full__poY0b\"};","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"styles_error__EtK3I\",\"video\":\"styles_video__b88Zl\"};","import styles from \"./styles.module.css\"\nimport beep from \"./beep.mp3\";\nimport { useEffect, useState } from \"react\";\nimport useSound from \"../useSound\";\nimport QrScanner from \"qr-scanner\";\n\nlet onScan = (r: string) => { };\nlet onError = () => { };\nlet error = false;\nlet scannerEl: HTMLDivElement | null = null;\nlet scanner: QrScanner | null = null;\n\nexport default function useScanner(pause = false, afterScanTimeout = 500)\n{\n\tif (!scanner)\n\t{\n\t\tscannerEl = document.createElement(\"div\");\n\t\tdocument.body.appendChild(scannerEl);\n\t\tscannerEl.style.display = \"flex\";\n\t\tscannerEl.style.backgroundColor = \"black\";\n\n\t\tconst video = document.createElement(\"video\");\n\t\tscannerEl.appendChild(video);\n\t\tscanner = new QrScanner(\n\t\t\tvideo,\n\t\t\tresult => onScan(result.data),\n\t\t\t{\n\t\t\t\thighlightScanRegion: true,\n\t\t\t\tmaxScansPerSecond: 10,\n\t\t\t},\n\t\t);\n\t}\n\n\tuseEffect(() =>\n\t{\n\t\tsetTimeout(() =>\n\t\t\tscanner?.start().catch(() =>\n\t\t\t{\n\t\t\t\tsetTimeout(() =>\n\t\t\t\t{\n\t\t\t\t\tscanner?.start().catch(() => onError());\n\t\t\t\t}, 250)\n\t\t\t}), 100)\n\t\treturn () =>\n\t\t{\n\t\t\tscanner?.stop();\n\t\t}\n\t}, []);\n\n\tconst [isTimeout, setIsTimeout] = useState(false);\n\tconst [scanned, setScanned] = useState(\"\");\n\tconst [isError, setIsError] = useState(error);\n\tconst playBeep = useSound(beep);\n\n\tonScan = (r: string) =>\n\t{\n\t\tif (isTimeout || pause) return;\n\t\tsetScanned(r);\n\t\tsetIsTimeout(true);\n\t\tplayBeep();\n\t\tsetTimeout(() =>\n\t\t{\n\t\t\tsetScanned(\"\");\n\t\t\tsetIsTimeout(false);\n\t\t}, afterScanTimeout);\n\t}\n\tonError = () =>\n\t{\n\t\terror = true;\n\t\tsetIsError(true);\n\t}\n\n\tif (isError)\n\t\treturn {\n\t\t\tscanned,\n\t\t\tscanner: <div className={styles.error}>\n\t\t\t\t<h1>Нет доступа к камере</h1>\n\t\t\t\t<p>Разрешите использование камеры этому сайту и браузеру, который вы используте.</p>\n\t\t\t\t<p>После перезагрузите страницу.</p>\n\t\t\t</div>\n\t\t};\n\n\treturn {\n\t\tscanned,\n\t\tscanner: <div>\n\t\t\t<div\n\t\t\t\tref={ref =>\n\t\t\t\t{\n\t\t\t\t\tif (!ref) return;\n\t\t\t\t\tref.innerHTML = \"\";\n\t\t\t\t\tref.appendChild(scannerEl!);\n\t\t\t\t}}\n\t\t\t\tclassName={styles.video}\n\t\t\t></div>\n\t\t</div>\n\t};\n}\n","import { useState } from \"react\";\n\nexport default function useSound(url: string)\n{\n\tconst [audio] = useState(() =>\n\t{\n\t\tconst audio = new Audio(url)\n\t\taudio.preload = \"auto\";\n\t\treturn audio;\n\t});\n\n\tconst play = () =>\n\t{\n\t\taudio.currentTime = 0;\n\t\taudio.play();\n\t};\n\n\treturn play;\n};\n","import { useEffect, useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport useScanner from \"../../utils/useScanner\";\nimport { UseMutationResult } from \"react-query\";\nimport { formatError } from \"../../utils/displayError\";\nimport Spinner from \"../Spinner\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function Scanner<Res, Data>({ useMutation, onScan, formatMsg,onRes, className, pause }: ScannerProps<Res, Data>)\n{\n\tconst [msg, setMsg] = useState(\"\");\n\tconst [err, setErr] = useState(\"\");\n\tconst barRef = useRef<HTMLDivElement>(null);\n\tconst mutation = useMutation(r =>\n\t{\n\t\tsetMsg(formatMsg(r));\n\t\tsetErr(\"\");\n\t\tonMutated();\n\t\tonRes?.(r);\n\t}, err =>\n\t{\n\t\tsetMsg(\"\");\n\t\tsetErr(formatError(err));\n\t\tonMutated();\n\t});\n\tconst { scanned, scanner } = useScanner(!mutation.isIdle || pause);\n\n\tfunction onMutated()\n\t{\n\t\tsetTimeout(() => mutation.reset(), 1000);\n\t\tbarRef.current?.classList.add(styles.bar_full);\n\t\tsetTimeout(() => barRef.current?.classList.remove(styles.bar_full), 100);\n\t}\n\n\tuseEffect(() =>\n\t{\n\t\tif (scanned == \"\" || !mutation.isIdle) return;\n\t\tsetMsg(\"\");\n\t\tsetErr(\"\");\n\t\tconst data = onScan(scanned);\n\t\tif (data)\n\t\t\tmutation.mutate(data);\n\t\telse\n\t\t\tsetErr(\"Не опознано\");\n\t\t// eslint-disable-next-line\n\t}, [scanned])\n\n\treturn <div className={classNames(styles.root, className)}>\n\t\t{mutation.isLoading && <Spinner />}\n\t\t{scanner}\n\t\t<div className={classNames(styles.msg, (msg || err) && styles.msg_visible, (msg || err) && mutation.isIdle && styles.msg_dimmed)}>\n\t\t\t<h2>{msg}</h2>\n\t\t\t<h2>{err}</h2>\n\t\t</div>\n\t\t<div ref={barRef} className={styles.bar}></div>\n\t</div>\n}\n\ninterface ScannerProps<Res, Data>\n{\n\tuseMutation: (onSuccess: (data: Res) => void, onError: (err: any) => void) => UseMutationResult<Res, any, Data, unknown>,\n\tonScan: (scanned: string) => Data | null,\n\tonRes?: (res: Res) => void,\n\tformatMsg: (res: Res) => string,\n\tclassName?: string,\n\tpause?: boolean,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__sSzNc\",\"title\":\"styles_title__05ult\"};","import { useMutationPromoteManager, useMutationPromoteWorker } from \"../../api/promote\";\nimport Layout from \"../../components/Layout\";\nimport Scanner from \"../../components/Scanner\";\nimport styles from \"./styles.module.css\"\n\nexport default function PromotePage({ role }: PromoteProps)\n{\n\tconst roleText = {\n\t\t\"worker\": \"волонтёра\",\n\t\t\"manager\": \"управляющего\",\n\t}[role];\n\tconst roleText2 = {\n\t\t\"worker\": \"волонтёр\",\n\t\t\"manager\": \"управляющий\",\n\t}[role];\n\tif (!roleText) return <Layout>Ошибка!</Layout>;\n\n\treturn (\n\t\t<Layout className={styles.root}>\n\t\t\t<div className={styles.title}>\n\t\t\t\t<h3>\n\t\t\t\t\tПросканируйте qr-код человек, чтобы повысить его до {roleText}.\n\t\t\t\t</h3>\n\t\t\t</div>\n\n\t\t\t<Scanner\n\t\t\t\tuseMutation={{\n\t\t\t\t\t\"worker\": useMutationPromoteWorker,\n\t\t\t\t\t\"manager\": useMutationPromoteManager,\n\t\t\t\t}[role]}\n\t\t\t\tonScan={scanned =>\n\t\t\t\t{\n\t\t\t\t\tif (!scanned.startsWith(\"user_\"))\n\t\t\t\t\t\treturn null;\n\t\t\t\t\tconst userId = scanned.slice(\"user_\".length);\n\t\t\t\t\treturn { userId };\n\t\t\t\t}}\n\t\t\t\tformatMsg={r => ({\n\t\t\t\t\t\"ok\": `${r.user} повышен до ${roleText}`,\n\t\t\t\t\t\"already_has\": `${r.user} уже ${roleText2}`,\n\t\t\t\t\t\"no_user\": \"Человек не найден\",\n\t\t\t\t}[r.res] || r.res)}\n\t\t\t/>\n\t\t</Layout>\n\t);\n}\n\ninterface PromoteProps\n{\n\trole: \"worker\" | \"manager\",\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__CEdGL\",\"body\":\"styles_body__o-6ZK\",\"bottom\":\"styles_bottom__zkZn6\",\"title\":\"styles_title__6wHPv\",\"btnQr\":\"styles_btnQr__94tox\",\"quests\":\"styles_quests__58NxQ\",\"quest\":\"styles_quest__65tbN\"};","import { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode\"\n\nexport default function QrCode({ code, scale = 10, margin = 1, color = \"#000000\", colorBg = \"#ffffff\" }: QrCodeProps)\n{\n\tconst [qrcode, setQrcode] = useState(\"\");\n\tuseEffect(() =>\n\t{\n\t\tif (!code) return;\n\t\tsetQrcode(\"\")\n\t\tQRCode.toDataURL(code, { errorCorrectionLevel: \"H\", scale, margin, color: { dark: color, light: colorBg } }, (e, url) => setQrcode(url));\n\t}, [code, color, scale, margin, colorBg]);\n\n\treturn (\n\t\t<img src={qrcode} alt={code} style={{ width: \"100%\" }} />\n\t);\n}\n\ninterface QrCodeProps\n{\n\tscale?: number\n\tmargin?: number\n\tcode?: string,\n\tcolor?: string,\n\tcolorBg?: string,\n}\n","import { useState } from \"react\";\nimport { useQuests } from \"../../api/quest\";\nimport Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport styles from \"./styles.module.css\"\nimport useUser, { useUpdateUser } from \"../../api/user\";\nimport Popup from \"../../components/Popup\";\nimport QrCode from \"../../components/QrCode\";\n\nexport default function QuestPage()\n{\n\tconst user = useUser();\n\tconst updateUser = useUpdateUser();\n\tconst [popupIsOpen, setPopupIsOpen] = useState(false);\n\tconst quests = useQuests();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1em\" className={styles.root} footer={<Footer curPage=\"quest\" />}>\n\t\t\t{quests.isLoading && <Spinner />}\n\t\t\t{user.isFetching && <Spinner />}\n\t\t\t<div className={styles.body}>\n\t\t\t\t<h1 className={styles.title}>Underparty</h1>\n\t\t\t\t<div className={styles.quests}>\n\t\t\t\t\t{displayError(quests)}\n\t\t\t\t\t{quests?.data?.map(quest =>\n\t\t\t\t\t\t<div className={styles.quest} key={quest.id}>\n\t\t\t\t\t\t\t<span>{quest.name}</span>\n\t\t\t\t\t\t\t{user.data?.complited_quests.includes(quest.id) ?\n\t\t\t\t\t\t\t\t<span className=\"material_symbols\">done</span>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<span>{quest.reward}G</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={styles.bottom}>\n\t\t\t\t<button\n\t\t\t\t\tclassName={styles.btnQr}\n\t\t\t\t\tonClick={() => setPopupIsOpen(true)}\n\t\t\t\t>\n\t\t\t\t\tЗавершить квест!\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<Popup title=\"Завершение квеста\" open={popupIsOpen} close={() =>\n\t\t\t{\n\t\t\t\tsetPopupIsOpen(false);\n\t\t\t\tif (user.data?.auth)\n\t\t\t\t\tupdateUser();\n\t\t\t}}>\n\t\t\t\t{user?.data?.auth ?\n\t\t\t\t\t<>\n\t\t\t\t\t\t<QrCode code={`user_${user.data.id}`} colorBg=\"#ffffff00\" scale={13} />\n\t\t\t\t\t\t<h3>Покажите qr-код квестовику</h3>\n\t\t\t\t\t</> : <>\n\t\t\t\t\t\t<p>Для прохождения квестов необходимо войти в систему.</p>\n\t\t\t\t\t\t<p>Кнопка входа находиться в правом верхнем углу.</p>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__91Sa8\",\"title\":\"styles_title__Duk4+\"};","import Layout from \"../../components/Layout\"\nimport styles from \"./styles.module.css\"\nimport { useParams } from \"react-router-dom\";\nimport { useQuests, useMutationCompleteQuest } from \"../../api/quest\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport Scanner from \"../../components/Scanner\";\n\nexport default function ScannerQuestPage()\n{\n\tconst urlParams = useParams();\n\tconst questId = parseInt(urlParams[\"questId\"]!, 10);\n\tconst quests = useQuests();\n\n\treturn (\n\t\t<Layout className={styles.root}>\n\t\t\t{quests.isLoading && <Spinner />}\n\n\t\t\t<div className={styles.title}>\n\t\t\t\t<h2>{quests.data?.find(quest => quest.id == questId)?.name}</h2>\n\t\t\t\t<h3>Просканируйте qr-код посетителя, чтобы засчитать ему этот квест.</h3>\n\t\t\t\t{displayError(quests)}\n\t\t\t</div>\n\n\t\t\t<Scanner\n\t\t\t\tuseMutation={useMutationCompleteQuest}\n\t\t\t\tonScan={scanned =>\n\t\t\t\t{\n\t\t\t\t\tif (!scanned.startsWith(\"user_\"))\n\t\t\t\t\t\treturn null;\n\t\t\t\t\tconst userId = scanned.slice(\"user_\".length);\n\t\t\t\t\treturn { userId, questId };\n\t\t\t\t}}\n\t\t\t\tformatMsg={r => ({\n\t\t\t\t\t\"ok\": `Квест зачтён для ${r.visitor}`,\n\t\t\t\t\t\"already_done\": `${r.visitor} уже проходил этот квест`,\n\t\t\t\t\t\"no_visitor\": \"Посетитель не найден\",\n\t\t\t\t}[r.res] || r.res)}\n\t\t\t/>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__d985G\",\"quests\":\"styles_quests__TBzNh\"};","import { Link } from \"react-router-dom\";\nimport { useQuests } from \"../../api/quest\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport styles from \"./styles.module.css\"\n\nexport default function ScannerSelectQuestPage()\n{\n\tconst quests = useQuests();\n\n\treturn (\n\t\t<Layout centered gap=\"1rem\" className={styles.root}>\n\t\t\t{quests.isLoading && <Spinner />}\n\t\t\t{displayError(quests)}\n\t\t\t<h2>Какой квест вы проводите?</h2>\n\t\t\t<div className={styles.quests}>\n\t\t\t\t{quests.data?.map(quest =>\n\t\t\t\t\t<Link to={\"/scanner_quest/\" + quest.id} key={quest.id}>\n\t\t\t\t\t\t{quest.name}\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__jLTkZ\",\"title\":\"styles_title__oIrEy\",\"item\":\"styles_item__rXv3s\",\"item__img\":\"styles_item__img__O-P1T\",\"item__desc\":\"styles_item__desc__zxJ9K\",\"btns\":\"styles_btns__9aQ2N\",\"btn_deny\":\"styles_btn_deny__7EPCy\",\"btn_ok\":\"styles_btn_ok__WFDzm\"};","import Layout from \"../../components/Layout\"\nimport styles from \"./styles.module.css\"\nimport Scanner from \"../../components/Scanner\";\nimport { SellCheckRes, useMutationSellItem, useMutationSellItemCheck } from \"../../api/store\";\nimport { useState } from \"react\";\nimport Popup from \"../../components/Popup\";\nimport displayError from \"../../utils/displayError\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function ScannerStorePage()\n{\n\tconst [pauseScanner, setPauseScanner] = useState(false);\n\tconst [popupOpened, setPopupOpened] = useState(false);\n\tconst [sellData, setSellData] = useState<SellCheckRes | null>(null);\n\tconst sellMutation = useMutationSellItem(onSell, onSell);\n\n\tfunction cancelSell()\n\t{\n\t\tsetPauseScanner(false);\n\t\tsetPopupOpened(false);\n\t}\n\tfunction onSell()\n\t{\n\t\tsetPopupOpened(false);\n\t}\n\tfunction onSellDone()\n\t{\n\t\tsellMutation.reset();\n\t\tsetPauseScanner(false);\n\t}\n\n\treturn (\n\t\t<Layout className={styles.root}>\n\t\t\t{sellMutation.isLoading && <Spinner />}\n\t\t\t<div className={styles.title}>\n\t\t\t\t<h3>Просканируйте qr-код посетителя, чтобы продать ему товар.</h3>\n\t\t\t</div>\n\n\t\t\t<Scanner\n\t\t\t\tuseMutation={useMutationSellItemCheck}\n\t\t\t\tpause={pauseScanner}\n\t\t\t\tonScan={scanned =>\n\t\t\t\t{\n\t\t\t\t\tconst values = scanned.split(\";\");\n\t\t\t\t\tif (values.length != 2)\n\t\t\t\t\t\treturn null\n\t\t\t\t\tconst [user, item] = values;\n\t\t\t\t\tif (!user.startsWith(\"user_\") || !item.startsWith(\"item_\"))\n\t\t\t\t\t\treturn null;\n\t\t\t\t\tconst userId = user.slice(\"user_\".length);\n\t\t\t\t\tconst itemId = parseInt(item.slice(\"item_\".length), 10);\n\t\t\t\t\tif (isNaN(itemId))\n\t\t\t\t\t\treturn null;\n\t\t\t\t\treturn { userId, itemId };\n\t\t\t\t}}\n\t\t\t\tformatMsg={r => ({\n\t\t\t\t\t\"ok\": \"\",\n\t\t\t\t\t\"no_item\": `Товар не найден`,\n\t\t\t\t\t\"no_visitor\": `Покупатель не найден`,\n\t\t\t\t\t\"no_money\": `У ${r.visitor} не хватает средств`,\n\t\t\t\t}[r.res] ?? r.res)}\n\t\t\t\tonRes={r =>\n\t\t\t\t{\n\t\t\t\t\tif (r.res != \"ok\") return;\n\t\t\t\t\tsetPauseScanner(true);\n\t\t\t\t\tsetPopupOpened(true);\n\t\t\t\t\tsetSellData(r);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<Popup title=\"Продажа товара\" open={popupOpened} closeOnOutclick={false} close={cancelSell}>\n\t\t\t\t<h3>{sellData?.visitor} хочет купить:</h3>\n\t\t\t\t<div className={styles.item}>\n\t\t\t\t\t<div className={styles.item__img}>\n\t\t\t\t\t\t<img src={sellData?.item.img} alt=\"Товар\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.item__desc}>\n\t\t\t\t\t\t<span>{sellData?.item.name}</span>\n\t\t\t\t\t\t<span>{sellData?.item.price} G</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<p>Выдайте товар и подтвердите покупку:</p>\n\t\t\t\t<div className={styles.btns}>\n\t\t\t\t\t<button className={styles.btn_deny} onClick={cancelSell}>\n\t\t\t\t\t\tОтклонить\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className={styles.btn_ok} onClick={() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tsellMutation.mutate({ userId: sellData!.visitorId, itemId: sellData!.itemId });\n\t\t\t\t\t}}>\n\t\t\t\t\t\tПодтвердить\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</Popup>\n\t\t\t<Popup title=\"Продажа товара\" open={sellMutation.isSuccess || sellMutation.isError} close={onSellDone}>\n\t\t\t\t{sellMutation.isSuccess && (sellMutation.data.res == \"ok\" ?\n\t\t\t\t\t<h2>Товар {sellMutation.data.item} успешно продан посетителю {sellMutation.data.visitor}</h2>\n\t\t\t\t\t:\n\t\t\t\t\t<h2>У {sellMutation.data.visitor} не хватает средств на покупку {sellMutation.data.item}</h2>\n\t\t\t\t)}\n\t\t\t\t{displayError(sellMutation)}\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__0CejE\",\"title\":\"styles_title__u3Xt9\",\"items\":\"styles_items__n-Fvc\",\"item\":\"styles_item__zIxt2\",\"item__img\":\"styles_item__img__r3iEr\",\"item__desc\":\"styles_item__desc__wbcAM\"};","import { useState } from \"react\";\nimport { useStoreItems } from \"../../api/store\";\nimport useUser, { useUpdateUser } from \"../../api/user\";\nimport Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport styles from \"./styles.module.css\"\nimport QrCode from \"../../components/QrCode\";\nimport Popup from \"../../components/Popup\";\nimport { StoreItem } from \"../../api/store\";\n\nexport default function StorePage()\n{\n\tconst user = useUser();\n\tconst updateUser = useUpdateUser();\n\tconst [popupIsOpen, setPopupIsOpen] = useState(false);\n\tconst [selectedItem, setSelectedItem] = useState<StoreItem | null>(null);\n\tconst items = useStoreItems()\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1em\" className={styles.root} footer={<Footer curPage=\"store\" />}>\n\t\t\t{items.isLoading && <Spinner />}\n\t\t\t<h1 className={styles.title}>Underparty</h1>\n\t\t\t<div className={styles.items}>\n\t\t\t\t{displayError(items)}\n\t\t\t\t{items?.data?.map(item =>\n\t\t\t\t\t<button className={styles.item} key={item.id} onClick={() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tsetSelectedItem(item);\n\t\t\t\t\t\tsetPopupIsOpen(true);\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className={styles.item__img}>\n\t\t\t\t\t\t\t{item.img ? <img src={item.img} alt=\"Товар\" /> : <div></div>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.item__desc}>\n\t\t\t\t\t\t\t<span>{item.name}</span>\n\t\t\t\t\t\t\t<span>{item.price} G</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Popup title=\"Покупка товара\" open={popupIsOpen} close={() =>\n\t\t\t{\n\t\t\t\tsetPopupIsOpen(false);\n\t\t\t\tif (!user.data?.auth || user.data.balance < (selectedItem?.price || 0)) return;\n\t\t\t\tupdateUser();\n\t\t\t}}>\n\t\t\t\t{user?.data?.auth ?\n\t\t\t\t\t<>\n\t\t\t\t\t\t{user.data.balance < (selectedItem?.price || 0) ?\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<h2 style={{ marginBottom: 8 }}>К сожалению, этот товар вам не по карману</h2>\n\t\t\t\t\t\t\t\t<h2 className={styles.item__desc}>\n\t\t\t\t\t\t\t\t\t<span>{selectedItem?.name}</span>\n\t\t\t\t\t\t\t\t\t<span>{selectedItem?.price} G</span>\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<h2 className={styles.item__desc} style={{ marginBottom: 8 }}>\n\t\t\t\t\t\t\t\t\t<span>Вам не хватает:</span>\n\t\t\t\t\t\t\t\t\t<span>{(selectedItem?.price || 0) - user.data.balance} G</span>\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<h3>Выполняйте квесты и разбогатеете!</h3>\n\t\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t\t<QrCode code={`user_${user.data?.id};item_${selectedItem?.id}`} colorBg=\"#ffffff00\" scale={13} />\n\t\t\t\t\t\t\t\t<h2 className={styles.item__desc}>\n\t\t\t\t\t\t\t\t\t<span>{selectedItem?.name}</span>\n\t\t\t\t\t\t\t\t\t<span>{selectedItem?.price} G</span>\n\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t<h3>Покажите qr-код продавцу</h3>\n\t\t\t\t\t\t\t\t<h4>Если баланс не обновился через пару секунд - перезагрузите страницу</h4>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t</> : <>\n\t\t\t\t\t\t<p>Для совершения покупок необходимо войти в систему.</p>\n\t\t\t\t\t\t<p>Кнопка входа находиться в правом верхнем углу.</p>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__E5y+5\",\"title\":\"styles_title__3QqY9\",\"body\":\"styles_body__nvDgq\",\"list\":\"styles_list__6yPeV\",\"items\":\"styles_items__UxmDm\",\"btns\":\"styles_btns__Ctsik\",\"active\":\"styles_active__1eH-B\",\"background\":\"styles_background__f5ayg\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__sa0ap\",\"header\":\"styles_header__thHuO\",\"body\":\"styles_body__27+PL\",\"footer\":\"styles_footer__6LzVn\"};","import styles from \"./styles.module.css\"\nimport buttons from \"./buttons.png\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function StyledWindow({ children, footer, className, onClose }: StyledWindowProps)\n{\n\treturn (\n\t\t<div className={classNames(styles.root, className)}>\n\t\t\t<div className={styles.header}>\n\t\t\t\t<div>Underparty</div>\n\t\t\t\t<button onClick={onClose}>\n\t\t\t\t\t<img src={buttons} alt=\"close\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className={styles.body}>\n\t\t\t\t<div>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={classNames(!!footer && styles.footer)}>\n\t\t\t\t{footer}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface StyledWindowProps extends React.PropsWithChildren\n{\n\tfooter?: React.ReactNode,\n\tclassName?: string,\n\tonClose?: () => void,\n}","import styles from \"./styles.module.css\"\nimport Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport StyledWindow from \"../../components/StyledWindow\";\n\nexport default function TimetablePage()\n{\n\tconst showTimetable = useStateBool(true);\n\tconst showTimetableFirst = useStateBool(true);\n\tconst showTurnamentFirst = useStateBool(true);\n\n\treturn (\n\t\t<Layout centeredPage headerColor=\"#4d0709\" className={styles.root} footer={<Footer curPage=\"timetable\" />}>\n\t\t\t<div className={styles.background}></div>\n\t\t\t<h1 className={styles.title}>Underparty</h1>\n\t\t\t<div className={styles.body}>\n\t\t\t\t{showTimetable.v ?\n\t\t\t\t\t<StyledWindow\n\t\t\t\t\t\tclassName={styles.list}\n\t\t\t\t\t\tfooter={\n\t\t\t\t\t\t\t<div className={styles.btns}>\n\t\t\t\t\t\t\t\t<button onClick={showTimetableFirst.setT} className={showTimetableFirst.v ? styles.active : \"\"}>Главная</button>\n\t\t\t\t\t\t\t\t<button onClick={showTimetableFirst.setF} className={!showTimetableFirst.v ? styles.active : \"\"}>Вторая</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className={styles.items}>\n\t\t\t\t\t\t\t{(showTimetableFirst.v ? data_timetable_first : data_timetable_second)\n\t\t\t\t\t\t\t\t.map((el, i) => <div key={i}>{el}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</StyledWindow>\n\t\t\t\t\t:\n\t\t\t\t\t<StyledWindow\n\t\t\t\t\t\tclassName={styles.list}\n\t\t\t\t\t\tfooter={\n\t\t\t\t\t\t\t<div className={styles.btns}>\n\t\t\t\t\t\t\t\t<button onClick={showTurnamentFirst.setT} className={showTurnamentFirst.v ? styles.active : \"\"}>Under</button>\n\t\t\t\t\t\t\t\t<button onClick={showTurnamentFirst.setF} className={!showTurnamentFirst.v ? styles.active : \"\"}>Ретро</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className={styles.items}>\n\t\t\t\t\t\t\t{(showTurnamentFirst.v ? data_turnament_first : data_turnament_second)\n\t\t\t\t\t\t\t\t.map((el, i) => <div key={i}>{el}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</StyledWindow>\n\t\t\t\t}\n\t\t\t\t<div className={styles.btns}>\n\t\t\t\t\t<button onClick={showTimetable.setT} className={showTimetable.v ? styles.active : \"\"}>План</button>\n\t\t\t\t\t<button onClick={showTimetable.setF} className={!showTimetable.v ? styles.active : \"\"}>Турнир</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n\nconst data_timetable_first = [\n\t\"12:50 - Церемония открытия\",\n\t\"13:00 - Shima Nori Piano Performance\",\n\t\"13:45 - Косплей дефиле\",\n\t\"14:45 - СлуЧайность\",\n\t\"15:30 - Аукцион\",\n\t\"16:00 - UnderEvent и результаты Game Jam\",\n\t\"16:30 - Гонки улиток\",\n\t\"17:00 - Музыкальные выступления\",\n\t\"17:30 - Финал турниров: Undercards & UV Battles\",\n\t\"18:30 - Награждение\",\n\t\"19:00 - Undertale Анимации\",\n\t\"19:55 - Закрытие сцены\",\n]\n\nconst data_timetable_second = [\n\t\"12:00 - Ответы на вопросы от Ютуберов\",\n\t\"12:40 - Лотерея\",\n\t\"13:00 - The Jackbox Party Pack с Ютуберами\",\n\t\"14:00 - Undertale Quiz\",\n\t\"14:30 - 84 Sans AU Quiz\",\n\t\"15:00 - Лотерея\",\n\t\"15:30 - Презентации Undertale AU\",\n\t\"16:30 - Презентации Игр\",\n\t\"17:30 - Лотерея\",\n\t\"18:00 - Everybody Switch\",\n\t\"19:00 - Дискотека\",\n\t\"19:55 - Закрытие сцены\",\n]\n\nconst data_turnament_first = [\n\t\"14:00 - Undercards\",\n\t\"15:00 - Underverse Battles\",\n\t\"11:30 - 17:00 - Endless Sans\",\n\t\"11:30 - 17:00 - Unfair Undyne\",\n]\n\nconst data_turnament_second = [\n\t\"13:00 - Nes - TMNT: Tournament Fighters\",\n\t\"14:00 - Sega - Ultimate Mortal Kombat 3\",\n\t\"15:00 - Snes - Super Tetris 3\",\n\t\"16:00 - Ps1 - Tekken 3\",\n]\n","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"styles_user__WUZvf\",\"title\":\"styles_title__Gd1jL\",\"toggle\":\"styles_toggle__qlIwC\",\"toggleInp\":\"styles_toggleInp__fGE-7\",\"userInfo\":\"styles_userInfo__vgBlw\",\"operations\":\"styles_operations__MGBbv\"};","import { useUsers } from \"../../api/user\";\nimport Layout from \"../../components/Layout\";\nimport displayError from \"../../utils/displayError\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function UsersPage()\n{\n\tuseTitle(\"Пользователи\");\n\tconst users = useUsers()\n\n\treturn (\n\t\t<Layout centeredPage gap={8} styles={{ fontFamily: \"'PT Sans', Arial\" }}>\n\t\t\t{users.isLoading && <h3>Загрузка</h3>}\n\t\t\t{displayError(users)}\n\t\t\t{users.data?.map(v => <div className={styles.user} key={v.id}>\n\t\t\t\t<input type=\"checkbox\" className={styles.toggleInp} id={`user${v.id}`} />\n\t\t\t\t<label className={styles.title} htmlFor={`user${v.id}`}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>{v.login}</div>\n\t\t\t\t\t\t<div style={{ color: \"blue\" }}>{v.id}</div>\n\t\t\t\t\t\t<div>|</div>\n\t\t\t\t\t\t<div>{v.name}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{v.deleted && <>\n\t\t\t\t\t\t\t<div style={{ color: \"tomato\" }}>deleted</div>\n\t\t\t\t\t\t\t<div>|</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t\t<span>{v.roles.join(\", \")}</span>\n\t\t\t\t\t\t<div className={styles.toggle}></div>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t\t<div className={styles.userInfo}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h4>Operations</h4>\n\t\t\t\t\t\t<div className={styles.operations}>\n\t\t\t\t\t\t\t{v.operations.map((o, i) => <div key={i}>{colorizeOperation(o)}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>)}\n\t\t</Layout>\n\t);\n}\n\nfunction colorizeOperation(operation: string)\n{\n\tconst colors = {\n\t\tpage: \"#990099\",\n\t\tadd: \"#008000\",\n\t\tget: \"#008000\",\n\t\tchange: \"#006fb3\",\n\t\tdelete: \"#b30000\",\n\t}\n\tfor (const prefix in colors)\n\t{\n\t\tif (operation.startsWith(prefix))\n\t\t\treturn <>\n\t\t\t\t<span style={{ color: colors[prefix as keyof typeof colors] }}>{prefix}</span>\n\t\t\t\t<span>{operation.slice(prefix.length)}</span>\n\t\t\t</>\n\t}\n\treturn <span>{operation}</span>\n}","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"styles_btn__w12Ul\"};","import { Link } from \"react-router-dom\";\nimport Layout from \"../../components/Layout\"\nimport styles from \"./styles.module.css\"\nimport { useHasPermission } from \"../../api/operations\";\n\nexport default function WorkerPage()\n{\n\treturn (\n\t\t<Layout centered gap=\"0.8rem\">\n\t\t\t{useHasPermission(\"manage_store\") && <Link to={\"/manage_store\"} className={styles.btn}>Управление магазином</Link>}\n\t\t\t{useHasPermission(\"manage_quest\") && <Link to={\"/manage_quest\"} className={styles.btn}>Управление квестами</Link>}\n\t\t\t{useHasPermission(\"page_scanner_quest\") && <Link to={\"/scanner_quest\"} className={styles.btn}>Для квестовиков</Link>}\n\t\t\t{useHasPermission(\"page_scanner_store\") && <Link to={\"/scanner_store\"} className={styles.btn}>Для продавцов</Link>}\n\t\t\t{useHasPermission(\"promote_worker\") && <Link to={\"/promote_worker\"} className={styles.btn}>Повысить до волонтёра</Link>}\n\t\t\t{useHasPermission(\"promote_manager\") && <Link to={\"/promote_manager\"} className={styles.btn}>Повысить до управляющего</Link>}\n\t\t</Layout>\n\t);\n}\n","import { Navigate, Route, Routes } from \"react-router-dom\";\nimport useUser from \"./api/user\";\nimport hasPermission, { Operation } from \"./api/operations\";\nimport Preloader from \"./components/Preloader\";\nimport ScrollToTop from \"./utils/scrollToTop\";\nimport displayError from \"./utils/displayError\";\nimport MessageFromBackend from \"./components/MessageFromBackend\";\n\nimport NotFoundPage from \"./pages/NotFoundPage\";\nimport NoPermissionPage from \"./pages/NoPermissionPage\";\n\nimport AuthPage from \"./pages/AuthPage\";\nimport DebugPage from \"./pages/DebugPage\";\nimport IndexPage from \"./pages/IndexPage\";\nimport LogPage from \"./pages/LogPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport ManageQuestPage from \"./pages/ManageQuestPage\";\nimport ManageStorePage from \"./pages/ManageStorePage\";\nimport MapPage from \"./pages/MapPage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport PromotePage from \"./pages/PromotePage\";\nimport QuestPage from \"./pages/QuestPage\";\nimport ScannerQuestPage from \"./pages/ScannerQuestPage\";\nimport ScannerSelectQuestPage from \"./pages/ScannerSelectQuestPage\";\nimport ScannerStorePage from \"./pages/ScannerStorePage\";\nimport StorePage from \"./pages/StorePage\";\nimport TimetablePage from \"./pages/TimetablePage\";\nimport UsersPage from \"./pages/UsersPage\";\nimport WorkerPage from \"./pages/WorkerPage\";\n\nexport default function App()\n{\n\tconst user = useUser();\n\n\tfunction ProtectedRoute(permission: Operation | null, path: string, element: JSX.Element)\n\t{\n\t\treturn <Route path={path} element={\n\t\t\t!user.data?.auth ? <Navigate to=\"/login\" /> : (\n\t\t\t\tpermission == null || hasPermission(user, permission) ? element : <NoPermissionPage />\n\t\t\t)\n\t\t} />\n\t}\n\n\treturn <div className=\"root\">\n\t\t<ScrollToTop />\n\t\t<MessageFromBackend />\n\n\t\t{user.isLoading && <Preloader />}\n\t\t{displayError(user)}\n\t\t{user.isSuccess &&\n\t\t\t<Routes>\n\t\t\t\t{/* <Route path=\"/\" element={<IndexPage />} /> */}\n\t\t\t\t<Route path=\"/\" element={!user.data?.auth ? <IndexPage /> : <Navigate to=\"/map\" />} />\n\t\t\t\t{/* <Route path=\"/login\" element={!user.data?.auth ? <LoginPage /> : <Navigate to=\"/\" />} /> */}\n\t\t\t\t<Route path=\"/auth\" element={!user.data?.auth ? <AuthPage /> : <Navigate to=\"/\" />} />\n\t\t\t\t<Route path=\"/timetable\" element={<TimetablePage />} />\n\t\t\t\t<Route path=\"/quest\" element={<QuestPage />} />\n\t\t\t\t<Route path=\"/store\" element={<StorePage />} />\n\t\t\t\t<Route path=\"/map\" element={<MapPage />} />\n\t\t\t\t{/* <Route path=\"/race\" element={<RacePage />} /> */}\n\t\t\t\t{/* {ProtectedRoute(null, \"/profile\", <ProfilePage />)} */}\n\t\t\t\t{ProtectedRoute(\"page_worker\", \"/worker\", <WorkerPage />)}\n\t\t\t\t{ProtectedRoute(\"manage_store\", \"/manage_store\", <ManageStorePage />)}\n\t\t\t\t{ProtectedRoute(\"manage_quest\", \"/manage_quest\", <ManageQuestPage />)}\n\t\t\t\t{ProtectedRoute(\"page_scanner_quest\", \"/scanner_quest\", <ScannerSelectQuestPage />)}\n\t\t\t\t{ProtectedRoute(\"page_scanner_quest\", \"/scanner_quest/:questId\", <ScannerQuestPage />)}\n\t\t\t\t{ProtectedRoute(\"page_scanner_store\", \"/scanner_store\", <ScannerStorePage />)}\n\t\t\t\t{ProtectedRoute(\"promote_worker\", \"/promote_worker\", <PromotePage role=\"worker\" />)}\n\t\t\t\t{ProtectedRoute(\"promote_manager\", \"/promote_manager\", <PromotePage role=\"manager\" />)}\n\t\t\t\t{ProtectedRoute(\"page_debug\", \"/debug\", <DebugPage />)}\n\t\t\t\t{ProtectedRoute(\"page_debug\", \"/log\", <LogPage />)}\n\t\t\t\t{ProtectedRoute(\"page_users\", \"/users\", <UsersPage />)}\n\t\t\t\t<Route path=\"*\" element={<NotFoundPage />} />\n\t\t\t</Routes>\n\t\t}\n\t</div>\n}\n"],"names":["ApiError","Error","async","fetchWithJson","method","input","body","res","fetch","headers","undefined","JSON","stringify","ok","json","msg","fetchDelete","fetchJson","fetchJsonGet","fetchJsonPost","useUpdateUser","queryClient","useQueryClient","invalidateQueries","useUser","useQuery","getUser","data","status","auth","id","balance","roles","name","last_name","photo","complited_quests","operations","user","hasPermission","operation","_user$data","_user$data2","includes","useHasPermission","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","formatError","error","messageFormater","err","message","displayError","requestRes","render","isError","defaultRender","_jsx","style","color","textAlign","children","classNames","_len","arguments","length","names","Array","_key","filter","v","join","MessageFromBackend","setMessage","useState","timer","setInterval","msgCur","matches","document","cookie","match","RegExp","replace","decodeURIComponent","getCookie","clearInterval","_jsxs","className","styles","root","visible","close","onClick","trimQuotes","str","at","slice","HeaderBack","navigate","useNavigate","postAuth","authData","postLogout","Spinner","_ref","zIndex","block","r","position","borderRadius","spinner","Header","_user$data3","_user$data4","_user$data5","menuOpen","setMenuOpen","mutation","onSuccess","useMutation","mutationFn","setQueryData","_","useMutationLogout","background","Link","to","home","img","src","alt","menu","menuVisible","mutate","disabled","Layout","headerColor","el_styles","centered","centeredPage","height100","gap","header","footer","hasFooter","maxHeight","body_centered","body_centeredPage","NotFoundPage","NoPermissionPage","useTitle","title","prefis","prevTitle","t","Form","onSubmit","form","e","preventDefault","FormField","_ref2","label","field","AuthPage","setError","inp_login","useRef","inp_password","onError","useMutationAuth","back","isLoading","_inp_login$current","_inp_password$current","login","current","value","password","ref","type","required","Popup","open","closeOnOutclick","isOpen","setIsOpen","hidden","setHidden","timeout","setTimeout","clearTimeout","target","popup","DebugPage","logErrors","setLogErrors","log","setLog","refLogErrors","refLog","text","_refLogErrors$current","_refLogErrors$current2","_refLogErrors$current3","_refLogErrors$current4","parentElement","scrollHeight","x","_refLog$current","_refLog$current$paren","_refLog$current2","_refLog$current2$pare","IndexPage","city","btn","href","parseLogResponse","responseLog","date","Date","padNum","num","len","concat","padStart","datetimeToString","seconds","getFullYear","getMonth","getDate","dateToString","dateStr","getHours","getMinutes","getSeconds","timeToString","LogPage","_log$data","map","fontFamily","isFetching","refetch","table","minWidth","width","item","colorizeAction","actionCode","tableName","recordId","userName","userId","changesCell","changes","toggleInp","htmlFor","action","added","deleted","updated","restored","useQuests","useMutationCompleteQuest","completeQuestData","useMutationDeleteQuest","questId","_queryClient$getQuery3","getQueryState","quests","useStateBool","initialState","onSet","set","setT","setF","AddQuest","nameRef","rewardRef","popupOpen","mutationAdd","questData","_queryClient$getQuery","useMutationAddQuest","_Fragment","_nameRef$current","_rewardRef$current","reward","valueAsNumber","PopupConfirm","mutatateParams","itemId","reset","button","useStateObj","Quest","quest","changed","deleting","mutationEdit","_queryClient$getQuery2","useMutationEditQuest","newQuest","inputs","onChange","inp","buttons","ManageQuestPage","_quests$data","useStoreItems","useMutationSellItemCheck","sellData","visitorId","useMutationDecreaseItem","items","useMutationDeleteItem","_queryClient$getQuery4","imagefileToData","file","imgBase64","Promise","resolve","reader","FileReader","addEventListener","result","readAsDataURL","console","AddStoreItem","_imgData$v","imgData","priceRef","countRef","itemData","useMutationAddItem","_countRef$current","_priceRef$current","count","price","display","_e$target","_e$target$files","files","StoreItem","_imgData$v2","decreasing","useMutationEditItem","newitem","btnMinus","ManageStorePage","_items$data","Footer","curPage","active","MapPage","firstMap","map1","map2","useMutationPromoteWorker","promoteData","useMutationPromoteManager","onScan","scannerEl","scanner","useScanner","pause","afterScanTimeout","createElement","appendChild","backgroundColor","video","QrScanner","highlightScanRegion","maxScansPerSecond","_scanner","start","catch","_scanner2","_scanner3","stop","isTimeout","setIsTimeout","scanned","setScanned","setIsError","playBeep","url","audio","Audio","preload","play","currentTime","useSound","beep","innerHTML","Scanner","formatMsg","onRes","setMsg","setErr","barRef","onMutated","isIdle","_barRef$current","classList","add","bar_full","_barRef$current2","remove","msg_visible","msg_dimmed","bar","PromotePage","role","roleText","roleText2","startsWith","QrCode","code","scale","margin","colorBg","qrcode","setQrcode","QRCode","errorCorrectionLevel","dark","light","QuestPage","updateUser","popupIsOpen","setPopupIsOpen","bottom","btnQr","ScannerQuestPage","_quests$data$find","urlParams","useParams","parseInt","find","visitor","ScannerSelectQuestPage","ScannerStorePage","pauseScanner","setPauseScanner","popupOpened","setPopupOpened","setSellData","sellMutation","useMutationSellItem","onSell","cancelSell","values","split","isNaN","_ok$no_item$no_visito","item__img","item__desc","btns","btn_deny","btn_ok","isSuccess","StorePage","selectedItem","setSelectedItem","marginBottom","StyledWindow","onClose","TimetablePage","showTimetable","showTimetableFirst","showTurnamentFirst","list","data_timetable_first","data_timetable_second","el","i","data_turnament_first","data_turnament_second","UsersPage","_users$data","users","toggle","userInfo","o","colorizeOperation","colors","page","get","change","delete","prefix","WorkerPage","App","ProtectedRoute","permission","path","element","Route","Navigate","Preloader","Routes"],"sourceRoot":""}