{"version":3,"file":"static/js/930.8ea405bf.chunk.js","mappings":"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","sources":["api/dataTypes.ts","utils/fetch.ts","api/user.ts","api/operations.ts","utils/scrollToTop.tsx","utils/displayError.tsx","utils/classNames.ts","webpack://event_platform/./src/components/MessageFromBackend/styles.module.css?70b3","components/MessageFromBackend/index.tsx","utils/getCookies.ts","webpack://event_platform/./src/components/HeaderBack/styles.module.css?464d","components/HeaderBack/index.tsx","webpack://event_platform/./src/components/Header/styles.module.css?07e3","webpack://event_platform/./src/components/Spinner/styles.module.css?6126","components/Spinner/index.tsx","icons/home.tsx","components/Header/index.tsx","api/auth.ts","webpack://event_platform/./src/components/Layout/styles.module.css?6939","components/Layout/index.tsx","pages/NotFoundPage/index.tsx","pages/NoPermissionPage/index.tsx","webpack://event_platform/./src/pages/AuthPage/styles.module.css?7367","utils/useTtile.ts","webpack://event_platform/./src/components/Form/styles.module.css?5f34","components/Form/index.tsx","pages/AuthPage/index.tsx","webpack://event_platform/./src/pages/DebugPage/styles.module.css?9feb","webpack://event_platform/./src/components/Popup/styles.module.css?f1d6","components/Popup/index.tsx","pages/DebugPage/index.tsx","webpack://event_platform/./src/pages/IndexPage/styles.module.css?578a","utils/imagefileToData.ts","utils/useStateObj.ts","webpack://event_platform/./src/components/AuthByTicket/styles.module.css?845d","webpack://event_platform/./src/components/Textbox/styles.module.css?8383","components/Textbox/index.tsx","components/AuthByTicket/index.tsx","utils/useStateBool.ts","pages/IndexPage/index.tsx","api/log.ts","utils/nums.ts","utils/dates.ts","webpack://event_platform/./src/pages/LogPage/styles.module.css?478b","pages/LogPage/index.tsx","utils/query.ts","api/quest.ts","webpack://event_platform/./src/pages/ManageQuestPage/AddQuest/styles.module.css?ec25","pages/ManageQuestPage/AddQuest/index.tsx","api/dialog.ts","webpack://event_platform/./src/components/GameDialogEditor/DialogNode/styles.module.css?7dd4","icons/delete.tsx","components/GameDialogEditor/DialogNode/index.tsx","icons/cancel.tsx","icons/save.tsx","webpack://event_platform/./src/components/GameDialogEditor/ManageCharacters/Character/styles.module.css?a5d9","webpack://event_platform/./src/components/PopupConfirm/styles.module.css?b464","components/PopupConfirm/index.tsx","components/GameDialogEditor/ManageCharacters/Character/index.tsx","webpack://event_platform/./src/components/GameDialogEditor/ManageCharacters/styles.module.css?521e","components/GameDialogEditor/ManageCharacters/index.tsx","webpack://event_platform/./src/components/GameDialogEditor/styles.module.css?e0e1","components/GameDialogEditor/index.tsx","utils/copyObj.ts","webpack://event_platform/./src/pages/ManageQuestPage/EditStartDialog/styles.module.css?8a9d","webpack://event_platform/./src/components/GameDialog/styles.module.css?3643","components/GameDialog/index.tsx","icons/edit.tsx","pages/ManageQuestPage/EditStartDialog/index.tsx","webpack://event_platform/./src/pages/ManageQuestPage/Quest/styles.module.css?6142","icons/view.tsx","icons/reload.tsx","pages/ManageQuestPage/Quest/index.tsx","webpack://event_platform/./src/pages/ManageQuestPage/styles.module.css?b3c3","pages/ManageQuestPage/index.tsx","api/store.ts","webpack://event_platform/./src/pages/ManageStorePage/AddStoreItem/styles.module.css?0eb8","pages/ManageStorePage/AddStoreItem/index.tsx","webpack://event_platform/./src/pages/ManageStorePage/StoreItem/styles.module.css?d2c5","pages/ManageStorePage/StoreItem/index.tsx","webpack://event_platform/./src/pages/ManageStorePage/styles.module.css?4232","pages/ManageStorePage/index.tsx","webpack://event_platform/./src/pages/MapPage/styles.module.css?f9fa","webpack://event_platform/./src/components/Footer/styles.module.css?e39a","components/Footer/index.tsx","webpack://event_platform/./src/components/GameDialogGreetings/SelectGroup/styles.module.css?5d72","components/GameDialogGreetings/SelectGroup/index.tsx","components/GameDialogGreetings/index.tsx","webpack://event_platform/./src/components/StyledWindow/styles.module.css?5fb0","components/StyledWindow/index.tsx","webpack://event_platform/./src/pages/MapPage/InteractiveMap/styles.module.css?c04f","pages/MapPage/InteractiveMap/index.tsx","pages/MapPage/index.tsx","components/QrCode/index.tsx","webpack://event_platform/./src/pages/PromotePage/styles.module.css?cc6e","pages/PromotePage/index.tsx","webpack://event_platform/./src/pages/QuestPage/styles.module.css?26ae","pages/QuestPage/index.tsx","api/scanner.ts","webpack://event_platform/./src/components/Scanner/styles.module.css?0297","webpack://event_platform/./src/utils/useScanner/styles.module.css?1ae4","utils/useSound.ts","utils/useScanner/index.tsx","components/Scanner/index.tsx","webpack://event_platform/./src/pages/ScannerPage/styles.module.css?d401","pages/ScannerPage/index.tsx","webpack://event_platform/./src/pages/SendPage/styles.module.css?db02","pages/SendPage/index.tsx","api/send.ts","webpack://event_platform/./src/pages/StorePage/styles.module.css?2133","pages/StorePage/index.tsx","webpack://event_platform/./src/pages/TimetablePage/styles.module.css?d4b9","pages/TimetablePage/index.tsx","webpack://event_platform/./src/pages/UsersPage/styles.module.css?2339","pages/UsersPage/index.tsx","webpack://event_platform/./src/pages/WorkerPage/styles.module.css?c125","pages/WorkerPage/index.tsx","webpack://event_platform/./src/pages/WorkerQuestPage/styles.module.css?85f7","pages/WorkerQuestPage/index.tsx","webpack://event_platform/./src/pages/WorkerStorePage/styles.module.css?02b2","pages/WorkerStorePage/index.tsx","webpack://event_platform/./src/pages/GamePage/styles.module.css?b68d","api/game.ts","pages/GamePage/index.tsx","utils/useDisableZoom.ts","webpack://event_platform/./src/pages/GameSettingsPage/styles.module.css?965d","pages/GameSettingsPage/index.tsx","webpack://event_platform/./src/pages/GameScreenPage/styles.module.css?d360","pages/GameScreenPage/index.tsx","App.tsx"],"sourcesContent":["export class ApiError extends Error { }\n\nexport type Modify<T, R> = Omit<T, keyof R> & R;\nexport interface ResponseMsg\n{\n\tmsg: string,\n}\n\nexport interface ImgData\n{\n\tdata: string,\n\tname: string,\n}\n","import { ApiError, ResponseMsg } from \"../api/dataTypes\";\n\nasync function fetchWithJson(method: \"GET\" | \"POST\" | \"DELETE\", input: RequestInfo | URL, body?: any)\n{\n\tconst res = await fetch(input, {\n\t\tmethod,\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: body === undefined ? null : JSON.stringify(body),\n\t});\n\tif (!res.ok) throw new ApiError((await res.json() as ResponseMsg).msg);\n\treturn res;\n}\n\nexport function fetchGet(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchWithJson(\"GET\", input, body);\n}\n\nexport function fetchPost(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchWithJson(\"POST\", input, body);\n}\n\nexport function fetchDelete(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchWithJson(\"DELETE\", input, body);\n}\n\nasync function fetchJson<T>(method: \"GET\" | \"POST\" | \"DELETE\", input: RequestInfo | URL, body?: any)\n{\n\tconst res = await fetchWithJson(method, input, body);\n\tconst data = await res.json();\n\treturn data as T;\n}\n\nexport function fetchJsonGet<T>(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchJson<T>(\"GET\", input, body);\n}\n\nexport function fetchJsonPost<T>(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchJson<T>(\"POST\", input, body);\n}\n\nexport function fetchJsonDelete<T>(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchJson<T>(\"DELETE\", input, body);\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { ApiError, ResponseMsg } from \"./dataTypes\";\nimport { fetchJsonGet, fetchJsonPost, fetchPost } from \"../utils/fetch\";\n\nexport interface User\n{\n\tauth: boolean;\n\tid: string;\n\tname: string;\n\tlast_name: string;\n\tphoto: string;\n\tbalance: number;\n\troles: string[];\n\toperations: string[];\n\tgroup: UserGroup;\n}\n\nexport interface UserFull\n{\n\tid: number;\n\tid_vk: number;\n\tid_big: string;\n\tlogin: string;\n\tname: string;\n\tlast_name: string;\n\tphoto: string;\n\tbalance: number;\n\troles: string[];\n\tdeleted: boolean;\n\toperations: string[];\n\tgroup: UserGroup;\n}\n\nexport type UserGroup = -1 | 0 | 1 | 2;\n\nexport interface UserWithPwd extends User\n{\n\tpassword: string;\n}\n\nexport function createEmptyUser(): User\n{\n\treturn { auth: false, id: \"\", balance: 0, roles: [], name: \"\", last_name: \"\", photo: \"\", operations: [], group: -1 };\n}\n\nexport function useUpdateUser()\n{\n\tconst queryClient = useQueryClient();\n\treturn () => queryClient.invalidateQueries(\"user\");\n}\n\nexport default function useUser()\n{\n\treturn useQuery(\"user\", getUser);\n}\n\nasync function getUser(): Promise<User>\n{\n\tconst res = await fetch(\"/api/user\");\n\tconst data = await res.json();\n\n\tif (res.status == 401) return createEmptyUser();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst user = data as User;\n\tuser.auth = true;\n\treturn user;\n}\n\nexport function useUsers()\n{\n\treturn useQuery(\"users\", async () =>\n\t\tawait fetchJsonGet<UserFull[]>(\"/api/users\")\n\t);\n}\n\nexport function useMutationChangePassword(onSuccess?: () => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (data: ChangePasswordData) =>\n\t\t\tawait fetchPost(\"/api/user/change_password\", data),\n\t\tonSuccess: onSuccess,\n\t});\n\treturn mutation;\n}\n\n\ninterface ChangePasswordData\n{\n\tpassword: string;\n}\n\nexport function useMutationChangeName(onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (data: ChangeName) =>\n\t\t{\n\t\t\tawait fetchPost(\"/api/user/change_name\", data);\n\t\t\treturn data;\n\t\t},\n\t\tonSuccess: (data: ChangeName) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"user\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"user\", (user?: User) => ({ ...user!, name: data.name }));\n\t\t\tonSuccess?.();\n\t\t},\n\t});\n\treturn mutation;\n}\n\ninterface ChangeName\n{\n\tname: string;\n}\n\nexport function useMutationSetGroup(onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (data: SetGroup) =>\n\t\t\tawait fetchJsonPost<SetGroup>(\"/api/user/set_group\", data),\n\t\tonSuccess: (data: SetGroup) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"user\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"user\", (user?: User) => ({ ...user!, group: data.group }));\n\n\t\t\tqueryClient.invalidateQueries(\"quests\", { exact: true });\n\n\t\t\tonSuccess?.();\n\t\t},\n\t});\n\treturn mutation;\n}\n\ninterface SetGroup\n{\n\tgroup: UserGroup;\n}","import { UseQueryResult } from \"react-query\";\nimport { User } from \"./user\";\nimport useUser from \"./user\";\n\nconst Operations = {\n\tpage_debug: \"page_debug\",\n\tpage_users: \"page_users\",\n\tpage_worker: \"page_worker\",\n\tpage_worker_quest: \"page_worker_quest\",\n\tpage_worker_store: \"page_worker_store\",\n\tpromote_worker: \"promote_worker\",\n\tpromote_manager: \"promote_manager\",\n\tmanage_store: \"manage_store\",\n\tmanage_quest: \"manage_quest\",\n\tmanage_games: \"manage_games\",\n\tsend_any: \"send_any\",\n}\n\nexport type Operation = keyof typeof Operations;\n\nexport default function hasPermission(user: UseQueryResult<User, unknown>, operation: Operation)\n{\n\treturn !!(user.data?.auth && user.data?.operations.includes(operation));\n}\n\nexport function useHasPermission(operation: Operation)\n{\n\tconst user = useUser();\n\treturn hasPermission(user, operation);\n}\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop()\n{\n\tconst { pathname } = useLocation();\n\n\tuseEffect(() =>\n\t{\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\n\treturn null;\n}\n","import { ReactNode } from \"react\";\nimport { UseMutationResult, UseQueryResult } from \"react-query\";\nimport { ApiError } from \"../api/dataTypes\";\n\nexport function formatError(error: any, messageFormater?: (error: string) => string)\n{\n\tconst err = error instanceof ApiError ? error.message : \"\";\n\tconst msg = messageFormater ? messageFormater(err) : err;\n\treturn msg\n}\n\nexport default function displayError(requestRes: UseMutationResult<any, any, any, any> | UseQueryResult<any, any>, render?: (error: string) => ReactNode, messageFormater?: (error: string) => string)\n{\n\tif (!requestRes.isError) return null;\n\n\tconst msg = formatError(requestRes.error, messageFormater);\n\tconst renderer = render || defaultRender;\n\treturn renderer(msg);\n}\n\nfunction defaultRender(error: string)\n{\n\treturn (\n\t\t<h3 style={{ color: \"tomato\", textAlign: \"center\" }}>{error}</h3>\n\t)\n}\n","export default function classNames(...names: (string | undefined | null | false)[])\n{\n\treturn names.filter(v => !!v).join(\" \");\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__hzHjz\",\"visible\":\"styles_visible__6aD-n\",\"close\":\"styles_close__3L8iW\",\"message\":\"styles_message__oF8zk\"};","import { useEffect, useState } from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\nimport getCookie from \"../../utils/getCookies\";\n\nlet msg = \"\";\nexport default function MessageFromBackend()\n{\n\tconst [message, setMessage] = useState(\"\");\n\n\tuseEffect(() =>\n\t{\n\t\tconst timer = setInterval(() =>\n\t\t{\n\t\t\tconst msgCur = getMsg();\n\t\t\tif (msgCur != msg)\n\t\t\t{\n\t\t\t\tmsg = msgCur || \"\";\n\t\t\t\tsetMessage(msg);\n\t\t\t}\n\t\t}, 1000);\n\t\treturn () =>\n\t\t{\n\t\t\tclearInterval(timer);\n\t\t}\n\t}, [setMessage])\n\n\treturn (\n\t\t<div className={classNames(styles.root, message != \"\" && styles.visible)}>\n\t\t\t<button\n\t\t\t\tclassName={styles.close}\n\t\t\t\tonClick={() => setMessage(\"\")}\n\t\t\t></button>\n\t\t\t<div className={styles.message}>{trimQuotes(message)}</div>\n\t\t</div>\n\t);\n}\n\nfunction trimQuotes(str: string)\n{\n\tif (str.at(0) == '\"') str = str.slice(1);\n\tif (str.at(-1) == '\"') str = str.slice(0, -1);\n\treturn str;\n}\n\nfunction getMsg()\n{\n\treturn getCookie(\"MESSAGE_TO_FRONTEND\");\n}\n","export default function getCookie(name: string)\n{\n\tlet matches = document.cookie.match(new RegExp( // eslint-disable-next-line\n\t\t\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\n\t));\n\treturn matches ? decodeURIComponent(matches[1]) : undefined;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__4DGhY\"};","import { useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\n\nexport default function HeaderBack()\n{\n\tconst navigate = useNavigate();\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<button onClick={() => navigate(-1)} className=\"button button_light\">\n\t\t\t\t\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Zvl9c\",\"home\":\"styles_home__o+-s7\",\"block\":\"styles_block__a1SM7\",\"balance\":\"styles_balance__PLLCC\",\"user\":\"styles_user__0ltHf\",\"img\":\"styles_img__vhWmb\",\"menu\":\"styles_menu__WWgPh\",\"menuVisible\":\"styles_menuVisible__mMGZn\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__BdzzK\",\"spinner\":\"styles_spinner__rlI86\",\"lds-ring\":\"styles_lds-ring__jnLuB\"};","import styles from \"./styles.module.css\"\n\nexport default function Spinner({ color, zIndex, block, r = 0 }: SpinnerProps)\n{\n\treturn (\n\t\t<div className={styles.root} style={{ position: block ? \"absolute\" : \"fixed\", borderRadius: r }}>\n\t\t\t<div className={styles.spinner} style={{ \"--color\": color, zIndex } as React.CSSProperties}><div></div><div></div><div></div><div></div></div>\n\t\t</div>\n\t);\n}\n\ninterface SpinnerProps\n{\n\tcolor?: string,\n\tzIndex?: number,\n\tr?: number | string,\n\tblock?: boolean\n}","export default function IconHome()\n{\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" height=\"1em\" width=\"1em\" fill=\"currentColor\">\n\t\t\t<path d=\"M240-200h120v-200q0-17 11.5-28.5T400-440h160q17 0 28.5 11.5T600-400v200h120v-360L480-740 240-560v360Zm-80 0v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H560q-17 0-28.5-11.5T520-160v-200h-80v200q0 17-11.5 28.5T400-120H240q-33 0-56.5-23.5T160-200Zm320-270Z\" />\n\t\t</svg>\n\t)\n}\n\n","import { Link, useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\nimport avatar from \"./avatar.png\";\nimport { useMutationLogout } from \"../../api/auth\";\nimport useUser from \"../../api/user\";\nimport Spinner from \"../Spinner\";\nimport { useState } from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport hasPermission from \"../../api/operations\";\nimport IconHome from \"../../icons/home\";\n\nexport default function Header({ homeBtn = false }: HeaderProps)\n{\n\tconst [menuOpen, setMenuOpen] = useState(false);\n\tconst navigate = useNavigate();\n\tconst mutation = useMutationLogout(() =>\n\t{\n\t\tsetMenuOpen(false);\n\t});\n\tconst user = useUser();\n\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<Link to={\"/\"} className={styles.home}>\n\t\t\t\t{homeBtn && <IconHome />}\n\t\t\t</Link>\n\t\t\t<span className={styles.block}>\n\t\t\t\t<div className={classNames(styles.balance, \"title\")}>{user.data?.balance || 0}</div>\n\t\t\t\t<button className={classNames(styles.user, \"title\")} onClick={() => user.data?.auth ? setMenuOpen(v => !v) : navigate(\"/\")}>\n\t\t\t\t\t<span>{user.data?.auth ? user.data?.name : \"\"}</span>\n\t\t\t\t\t<img className={styles.img} src={user.data?.photo || avatar} alt=\"avatar\" />\n\t\t\t\t</button>\n\t\t\t\t<div className={classNames(styles.menu, menuOpen && styles.menuVisible)}>\n\t\t\t\t\t{/* <button onClick={() => navigate(\"/profile\")}>\n\t\t\t\t\t\t\n\t\t\t\t\t</button> */}\n\t\t\t\t\t{hasPermission(user, \"page_debug\") && <Link to=\"/debug\">{`</>`}</Link>}\n\t\t\t\t\t{hasPermission(user, \"page_worker\") && <Link to=\"/worker\">[-^-]</Link>}\n\t\t\t\t\t<button onClick={() => mutation.mutate()} disabled={mutation.status != \"idle\" && mutation.status != \"error\"}>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t{mutation.status == \"loading\" && <Spinner />}\n\t\t</div>\n\t);\n}\n\ninterface HeaderProps\n{\n\thomeBtn?: boolean\n}","import { useMutation, useQueryClient } from \"react-query\";\nimport { fetchJsonPost, fetchPost } from \"../utils/fetch\"\nimport { ApiError } from \"./dataTypes\";\nimport { User, createEmptyUser } from \"./user\";\n\nexport function useMutationAuth(onError?: (msg: string) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (authData: AuthData) =>\n\t\t{\n\t\t\tconst user = await fetchJsonPost<User>(\"/api/auth\", authData);\n\t\t\tuser.auth = true;\n\t\t\treturn user;\n\t\t},\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"user\", data);\n\t\t},\n\t\tonError: (error) =>\n\t\t{\n\t\t\tonError?.(error instanceof ApiError ? error.message : \" ,   \");\n\t\t}\n\t});\n\treturn mutation;\n}\n\ninterface AuthData\n{\n\tlogin: string,\n\tpassword: string,\n}\n\n\nexport function useMutationAuthByTicket(onError?: (msg: string) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (data: AuthByTicketData) =>\n\t\t{\n\t\t\tconst user = await fetchJsonPost<User>(\"/api/auth_ticket\", data);\n\t\t\tuser.auth = true;\n\t\t\treturn user;\n\t\t},\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"user\", data);\n\t\t},\n\t\tonError: (error) =>\n\t\t{\n\t\t\tonError?.(error instanceof ApiError ? error.message : \" ,   \");\n\t\t}\n\t});\n\treturn mutation;\n}\n\ninterface AuthByTicketData\n{\n\tcode: string,\n}\n\n\nexport function useMutationLogout(onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchPost(\"/api/logout\"),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"user\", (_?: User) => createEmptyUser());\n\t\t\tonSuccess?.();\n\t\t}\n\t});\n\treturn mutation;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__xvR2N\",\"hasFooter\":\"styles_hasFooter__lMS3o\",\"body\":\"styles_body__S-p4X\",\"body_centered\":\"styles_body_centered__NzRPU\",\"body_centeredPage\":\"styles_body_centeredPage__R-EzO\"};","import classNames from \"../../utils/classNames\";\nimport Header from \"../Header\";\nimport styles from \"./styles.module.css\"\n\nexport default function Layout({ children, className, homeBtn = false, styles: el_styles, centered = false, centeredPage = false, height100 = false, gap = 0, header, footer }: LayoutProps)\n{\n\tif (header === undefined) header = <Header homeBtn={homeBtn} />\n\n\treturn (\n\t\t<div className={classNames(styles.root, !!footer && styles.hasFooter)} style={{ ...el_styles, maxHeight: height100 ? \"100dvh\" : \"\" }}>\n\t\t\t{header || <div></div>}\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\tstyles.body, className,\n\t\t\t\t\tcentered && styles.body_centered,\n\t\t\t\t\tcenteredPage && styles.body_centeredPage,\n\t\t\t\t)}\n\t\t\t\tstyle={{ gap, maxHeight: height100 ? \"100%\" : \"\" }}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t\t{footer}\n\t\t</div>\n\t);\n}\n\ninterface LayoutProps extends React.PropsWithChildren\n{\n\tcenteredPage?: boolean,\n\tcentered?: boolean,\n\theight100?: boolean,\n\tgap?: number | string,\n\tclassName?: string,\n\theader?: React.ReactNode,\n\tfooter?: React.ReactNode,\n\tstyles?: React.CSSProperties,\n\n\thomeBtn?: boolean\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NotFoundPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\t  \n\t\t</Layout>\n\t);\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NoPermissionPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\t       \n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"back\":\"styles_back__uuJZO\",\"form\":\"styles_form__n7Rcu\"};","import { useEffect } from \"react\"\n\nexport function useTitle(title: string | (string | undefined | null | false)[], prefix = \"\")\n{\n\tuseEffect(() =>\n\t{\n\t\tconst prevTitle = document.title;\n\t\tconst t = typeof title != \"object\" ? [title] : title;\n\t\tdocument.title = [prefix, ...t].filter(v => !!v).join(\" | \");\n\t\treturn () => { document.title = prevTitle; }\n\t}, [title, prefix]);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__cFFCH\",\"field\":\"styles_field__5rpBk\"};","import { useRef } from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport function Form({ className, style, onSubmit, children }: FormProps)\n{\n\tconst formRef = useRef<HTMLFormElement>(null);\n\n\treturn (\n\t\t<form\n\t\t\tclassName={classNames(styles.form, className)}\n\t\t\tstyle={style}\n\t\t\tref={formRef}\n\t\t\tonSubmit={e =>\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\tif (!formRef.current) return;\n\n\t\t\t\tconst data = new FormData(formRef.current);\n\t\t\t\tonSubmit(data);\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</form>\n\t);\n}\n\ninterface FormProps extends React.PropsWithChildren\n{\n\tonSubmit: (data: FormData) => void,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLFormElement>,\n}\n\n\nexport function FormField({ label, className, style, children }: FormFieldProps)\n{\n\treturn (\n\t\t<label className={classNames(styles.field, className)} style={style}>\n\t\t\t<span>{label}</span>\n\t\t\t{children}\n\t\t</label>\n\t);\n}\n\ninterface FormFieldProps extends React.PropsWithChildren\n{\n\tlabel?: string,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLLabelElement>,\n}\n","import { useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport { useMutationAuth } from \"../../api/auth\";\nimport Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport { Form, FormField } from \"../../components/Form\";\nimport Spinner from \"../../components/Spinner\";\nimport { Link } from \"react-router-dom\";\n\nexport default function AuthPage()\n{\n\tuseTitle(\"\");\n\tconst [error, setError] = useState(\"\");\n\tconst inp_login = useRef<HTMLInputElement>(null);\n\tconst inp_password = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationAuth(setError);\n\n\tfunction onSubmit()\n\t{\n\t\tconst login = inp_login.current?.value || \"\";\n\t\tconst password = inp_password.current?.value || \"\";\n\t\tmutation.mutate({ login, password });\n\t}\n\n\treturn (\n\t\t<Layout header={null} centered centeredPage gap=\"2em\">\n\t\t\t<Link to=\"/\" className={styles.back}></Link>\n\t\t\t<h1></h1>\n\t\t\t{error && <h3>{error}</h3>}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form className={styles.form} onSubmit={onSubmit}>\n\t\t\t\t<FormField label=\"\">\n\t\t\t\t\t<input ref={inp_login} type=\"text\" name=\"login\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"\">\n\t\t\t\t\t<input ref={inp_password} type=\"password\" name=\"password\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<button type=\"submit\" className=\"button button_light button_small\" disabled={mutation.status == \"loading\"}></button>\n\t\t\t</Form>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__7P05R\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__O0923\",\"hidden\":\"styles_hidden__eYJaf\",\"open\":\"styles_open__35Vcu\",\"popup\":\"styles_popup__L-0H0\",\"header\":\"styles_header__o87wG\",\"close\":\"styles_close__w0Yhz\",\"body\":\"styles_body__t75Nd\"};","import { useEffect, useRef, useState } from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport default function Popup({ children, open = false, close, title = \"\", footer, closeOnOutclick = false }: CustomPopupProps)\n{\n\tconst ref = useRef<HTMLDivElement>(null)\n\tconst [isOpen, setIsOpen] = useState(open);\n\tconst [hidden, setHidden] = useState(!open);\n\tuseEffect(() =>\n\t{\n\t\tif (open)\n\t\t{\n\t\t\tsetHidden(false);\n\t\t\tconst timeout = setTimeout(() => setIsOpen(true), 100);\n\t\t\treturn () => clearTimeout(timeout);\n\t\t}\n\t\tsetIsOpen(false);\n\t\tconst timeout = setTimeout(() => setHidden(true), 250);\n\t\treturn () => clearTimeout(timeout);\n\t}, [open]);\n\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\tclassName={classNames(styles.root, isOpen && styles.open, hidden && styles.hidden)}\n\t\t\tonClick={e =>\n\t\t\t{\n\t\t\t\tif (closeOnOutclick && e.target == ref.current)\n\t\t\t\t\tclose?.();\n\t\t\t}}\n\t\t>\n\t\t\t<div className={styles.popup}>\n\t\t\t\t{\n\t\t\t\t\t(title || close) &&\n\t\t\t\t\t<div className={styles.header}>\n\t\t\t\t\t\t<h3>{title}</h3>\n\t\t\t\t\t\t{close && <button className={styles.close} onClick={close}></button>}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<div className={styles.body}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.footer}>\n\t\t\t\t\t{footer}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport interface PopupProps\n{\n\topen?: boolean,\n\tclose?: () => void,\n\ttitle?: string,\n\tcloseOnOutclick?: boolean,\n\tfooter?: React.ReactNode,\n}\n\ntype CustomPopupProps = PopupProps & React.PropsWithChildren;","import { useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport Layout from \"../../components/Layout\"\nimport Popup from \"../../components/Popup\";\nimport { Link } from \"react-router-dom\";\n\nexport default function DebugPage()\n{\n\tconst [logErrors, setLogErrors] = useState(\"\");\n\tconst [log, setLog] = useState(\"\");\n\tconst refLogErrors = useRef<HTMLPreElement>(null);\n\tconst refLog = useRef<HTMLPreElement>(null);\n\n\treturn (\n\t\t<Layout centered gap=\"1rem\" className={styles.root} homeBtn>\n\t\t\t<Link to=\"/users\">Users</Link>\n\t\t\t<Link to=\"/log\">Log</Link>\n\t\t\t<button onClick={async () =>\n\t\t\t{\n\t\t\t\tsetLogErrors(\"Loading\");\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tconst res = await fetch(\"/api/debug/log_errors\");\n\t\t\t\t\tconst data = await res.text();\n\t\t\t\t\tsetLogErrors(data);\n\t\t\t\t\tsetTimeout(() => refLogErrors.current?.parentElement?.scrollTo(0, refLogErrors.current?.parentElement?.scrollHeight), 150);\n\t\t\t\t}\n\t\t\t\tcatch (x) { setLogErrors(JSON.stringify(x)); }\n\t\t\t}}>Log errors</button>\n\t\t\t<button onClick={async () =>\n\t\t\t{\n\t\t\t\tsetLog(\"Loading\");\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tconst res = await fetch(\"/api/debug/log_info\");\n\t\t\t\t\tconst data = await res.text();\n\t\t\t\t\tsetLog(data);\n\t\t\t\t\tsetTimeout(() => refLog.current?.parentElement?.scrollTo(0, refLog.current?.parentElement?.scrollHeight), 150);\n\t\t\t\t}\n\t\t\t\tcatch (x) { setLog(JSON.stringify(x)); }\n\t\t\t}}>Log requests</button>\n\t\t\t<Popup title=\"logErrors\" open={logErrors != \"\"} close={() => setLogErrors(\"\")}>\n\t\t\t\t<pre ref={refLogErrors}>{logErrors}</pre>\n\t\t\t</Popup>\n\t\t\t<Popup title=\"log\" open={log != \"\"} close={() => setLog(\"\")}>\n\t\t\t\t<pre ref={refLog}>{log}</pre>\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__h8xNs\",\"auth\":\"styles_auth__quDS1\",\"logo\":\"styles_logo__2UaYh\",\"btn\":\"styles_btn__xIQ7b\"};","import { ImgData } from \"../api/dataTypes\";\n\nexport default async function imagefileToData(file: File, name: string)\n{\n\tconst imgBase64 = await new Promise((resolve: (a: { result: string | ArrayBuffer | null, error: string | DOMException | null }) => void) =>\n\t{\n\t\tvar reader = new FileReader();\n\t\treader.addEventListener(\"loadend\", e =>\n\t\t{\n\t\t\tresolve({\n\t\t\t\tresult: reader.result,\n\t\t\t\terror: reader.error,\n\t\t\t});\n\t\t});\n\t\treader.readAsDataURL(file);\n\t});\n\tif (imgBase64.error)\n\t{\n\t\tconsole.error(imgBase64.error);\n\t\treturn null;\n\t}\n\treturn {\n\t\tdata: imgBase64.result,\n\t\tname,\n\t} as ImgData\n}","import { useState } from \"react\";\n\nexport default function useStateObj<S>(initialState: S | (() => S), onSet?: () => void): StateObj<S>\n{\n\tconst [v, set] = useState(initialState)\n\tif (onSet)\n\t\treturn {\n\t\t\tv, set: (v: S | ((prevState: S) => S)) =>\n\t\t\t{\n\t\t\t\tset(v);\n\t\t\t\tonSet();\n\t\t\t}\n\t\t};\n\treturn { v, set };\n}\n\nexport interface StateObj<S>\n{\n\tv: S;\n\tset: React.Dispatch<React.SetStateAction<S>>;\n}\n\nexport function useStateObjExt<S>(initialState: S | (() => S), onSet?: (v: S, pv: S) => void)\n{\n\tconst [v, set] = useState(initialState)\n\tif (onSet)\n\t\treturn {\n\t\t\tv, set: (v: S | ((prevState: S) => S), disableOnSet = false) =>\n\t\t\t{\n\t\t\t\tset(pv =>\n\t\t\t\t{\n\t\t\t\t\tconst nv = v instanceof Function ? v(pv) : v;\n\t\t\t\t\tif (!disableOnSet)\n\t\t\t\t\t\tonSet(nv, pv);\n\t\t\t\t\treturn nv;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\treturn { v, set };\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__ek8XR\",\"open\":\"styles_open__DpDD1\",\"body\":\"styles_body__kj341\",\"msgWide\":\"styles_msgWide__xAoa-\",\"msg1\":\"styles_msg1__Ennl+\",\"msg2box\":\"styles_msg2box__jxXEx\",\"msg2\":\"styles_msg2__2yRTi\",\"msg_error\":\"styles_msg_error__92wvX\",\"msg_error_open\":\"styles_msg_error_open__6-pHY\",\"msg3\":\"styles_msg3__jxfL8\",\"openFile\":\"styles_openFile__Wzz+z\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__ggNxk\",\"box\":\"styles_box__MGwpJ\",\"dark\":\"styles_dark__3B-Va\",\"outline\":\"styles_outline__-hp+1\",\"box_back\":\"styles_box_back__kKr9l\",\"outline_back\":\"styles_outline_back__DoVQi\",\"outline_front\":\"styles_outline_front__Yhytt\",\"btn\":\"styles_btn__H2inm\",\"btnOutline\":\"styles_btnOutline__h8ExY\",\"small\":\"styles_small__zhXkP\",\"type2\":\"styles_type2__Nnbbx\"};","import classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\nimport btns from \"./btns.png\"\n\nexport default function Textbox({ children, type2 = false, btn = false, small = false, dark = false, highlight = false, className }: TextboxProps)\n{\n\treturn (\n\t\t<div className={classNames(styles.root, type2 && styles.type2, small && styles.small, dark && styles.dark, className)}>\n\t\t\t{highlight && <div className={classNames(styles.outline, styles.outline_back)}></div>}\n\t\t\t{highlight && <div className={classNames(styles.outline, styles.outline_front)}></div>}\n\t\t\t<div className={classNames(styles.box, styles.box_back)}></div>\n\t\t\t{btn && <span className={styles.btn}>\n\t\t\t\t<img src={btns} alt=\"\" />\n\t\t\t\t{highlight && <div className={styles.btnOutline}></div>}\n\t\t\t</span>}\n\t\t\t<div className={classNames(styles.box, styles.box_front)}>{children}</div>\n\t\t</div>\n\t);\n}\n\n\ninterface TextboxProps extends React.PropsWithChildren\n{\n\thighlight?: boolean;\n\tbtn?: boolean;\n\tsmall?: boolean;\n\tdark?: boolean;\n\ttype2?: boolean;\n\tclassName?: string;\n}\n","import { useMutationAuthByTicket } from \"../../api/auth\";\nimport classNames from \"../../utils/classNames\";\nimport imagefileToData from \"../../utils/imagefileToData\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport Spinner from \"../Spinner\";\nimport styles from \"./styles.module.css\"\nimport logo from \"./logo.png\";\nimport avatar from \"./avatar.png\";\nimport QrcodeDecoder from \"qrcode-decoder/dist/index\";\nimport Textbox from \"../Textbox\";\n\nexport default function AuthByTicket({ open }: AuthByTicketProps)\n{\n\tconst error = useStateObj(\"\");\n\tconst mutation = useMutationAuthByTicket(error.set);\n\n\treturn (\n\t\t<div className={classNames(styles.root, open && styles.open)}>\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<div className={styles.body}>\n\t\t\t\t<Textbox className={styles.msgWide}>\n\t\t\t\t\t<div className={styles.msg1}>\n\t\t\t\t\t\t<img src={logo} alt=\" \" />\n\t\t\t\t\t\t<span> ...</span>\n\t\t\t\t\t</div>\n\t\t\t\t</Textbox>\n\t\t\t\t<Textbox type2 className={styles.msg2box}>\n\t\t\t\t\t<div className={styles.msg2}>\n\t\t\t\t\t\t<img src={avatar} alt=\"Avatar\" />\n\t\t\t\t\t\t<h2 className=\"title\"></h2>\n\t\t\t\t\t\t<span>    \"\"!  ,   ,   </span>\n\t\t\t\t\t</div>\n\t\t\t\t</Textbox>\n\t\t\t\t<Textbox type2 className={classNames(styles.msg2box, styles.msg_error, error.v && styles.msg_error_open)}>\n\t\t\t\t\t<div className={styles.msg2}>\n\t\t\t\t\t\t<img src={avatar} alt=\"Avatar\" />\n\t\t\t\t\t\t<h2 className=\"title\"></h2>\n\t\t\t\t\t\t<span>  ! {error.v}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</Textbox>\n\t\t\t\t<Textbox className={classNames(styles.msg3, styles.msgWide)}>\n\t\t\t\t\t<label className={styles.openFile}>\n\t\t\t\t\t\t<div className=\"title\"> </div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\t\taccept=\"image/png, image/jpeg, image/gif\"\n\t\t\t\t\t\t\tdisabled={mutation.isLoading}\n\t\t\t\t\t\t\tonChange={async e =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\terror.set(\"\");\n\t\t\t\t\t\t\t\tconst imgData = await imagefileToData(e.target?.files?.[0]!, \"\")\n\t\t\t\t\t\t\t\te.target.value = \"\";\n\t\t\t\t\t\t\t\tif (!imgData) return;\n\n\t\t\t\t\t\t\t\tconst qr = new QrcodeDecoder();\n\t\t\t\t\t\t\t\tconst r = await qr.decodeFromImage(imgData.data);\n\t\t\t\t\t\t\t\tconst code = r?.data;\n\t\t\t\t\t\t\t\tif (!code || !code.match(/\\d+-\\d+-\\d+-\\d+-\\d+/))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\terror.set(\"   QR-   .\");\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmutation.mutate({ code });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</label>\n\t\t\t\t</Textbox>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface AuthByTicketProps\n{\n\topen: boolean;\n}\n","import { useState } from \"react\";\n\nexport default function useStateBool(initialState: boolean | (() => boolean), onSet?: () => void): StateBool\n{\n\tconst [v, set] = useState(initialState)\n\tlet setFn = set;\n\tif (onSet)\n\t\tsetFn = (v: boolean | ((prevState: boolean) => boolean)) =>\n\t\t{\n\t\t\tset(v);\n\t\t\tonSet();\n\t\t};\n\n\treturn {\n\t\tv,\n\t\tset: setFn,\n\t\tsetT: () => setFn(true),\n\t\tsetF: () => setFn(false),\n\t\ttoggle: () => setFn(v => !v),\n\t};\n}\n\nexport interface StateBool\n{\n\tv: boolean;\n\tset: React.Dispatch<React.SetStateAction<boolean>>;\n\tsetT: () => void;\n\tsetF: () => void;\n\ttoggle: () => void;\n}\n","import styles from \"./styles.module.css\"\nimport logo from \"./logo.png\";\nimport btn from \"./btn.png\";\nimport { Link } from \"react-router-dom\";\nimport AuthByTicket from \"../../components/AuthByTicket\";\nimport useStateBool from \"../../utils/useStateBool\";\n\nexport default function IndexPage()\n{\n\tconst authOpen = useStateBool(false);\n\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<Link to=\"/auth\" className={styles.auth} />\n\t\t\t<div></div>\n\t\t\t<img className={styles.logo} src={logo} alt=\" \" />\n\t\t\t<button className={styles.btn} onClick={authOpen.setT}>\n\t\t\t\t<img src={btn} alt=\"\" />\n\t\t\t</button>\n\t\t\t<AuthByTicket open={authOpen.v} />\n\t\t</div>\n\t);\n}\n","import { useQuery } from \"react-query\";\nimport { Modify } from \"./dataTypes\";\nimport { fetchJsonGet } from \"../utils/fetch\";\n\nexport function useLog()\n{\n\treturn useQuery(\"log\", async () =>\n\t\t(await fetchJsonGet<LogItemResponse[]>(\"/api/debug/log\")).map(parseLogResponse)\n\t);\n}\n\nexport function parseLogResponse(responseLog: LogItemResponse)\n{\n\tconst log = responseLog as unknown as LogItem;\n\tlog.date = new Date(responseLog.date);\n\treturn log;\n}\n\nexport interface LogItem\n{\n\tid: number,\n\tactionCode: \"added\" | \"updated\" | \"deleted\" | \"restored\",\n\tdate: Date,\n\trecordId: number,\n\tuserId: number,\n\tuserName: string,\n\ttableName: \"User\" | \"Role\" | \"Event\" | \"Ticket\" | \"TicketType\" | \"PermissionAccess\",\n\tchanges: [string, any, any][],\n}\n\ntype LogItemResponse = Modify<LogItem, {\n\tdate: string,\n}>\n","export function padNum(num: number, len: number)\n{\n\treturn `${num}`.padStart(len, \"0\");\n}\n\nexport function countWord(num: number, one: string, two: string, five: string)\n{\n\tconst numS = `${num}`;\n\tif (numS.at(-1) == \"1\" && numS.at(-2) != \"1\")\n\t\treturn one;\n\tif ([\"2\", \"3\", \"4\"].includes(numS.at(-1) || \"\") && numS.at(-2) != \"1\")\n\t\treturn two;\n\treturn five;\n}\n","import { padNum, countWord } from \"./nums\";\n\nexport function dateToString(date: Date | null | undefined, reverse = false)\n{\n\tif (!date) return \"\";\n\tif (reverse)\n\t\treturn `${date.getFullYear()}.${padNum(date.getMonth() + 1, 2)}.${padNum(date.getDate(), 2)}`;\n\treturn `${padNum(date.getDate(), 2)}.${padNum(date.getMonth() + 1, 2)}.${date.getFullYear()}`;\n}\n\nexport function timeToString(date: Date, seconds = false)\n{\n\tlet dateStr = `${padNum(date.getHours(), 2)}:${padNum(date.getMinutes(), 2)}`;\n\tif (seconds) return dateStr + `:${padNum(date.getSeconds(), 2)}`;\n\treturn dateStr;\n}\n\nexport function datetimeToString(date: Date, seconds = false, reverseDate = false)\n{\n\treturn dateToString(date, reverseDate) + \" \" + timeToString(date, seconds);\n}\n\nexport function relativeDate(date: Date, nowBreak: \"second\" | \"minute\" | \"hour\" | \"day\" = \"second\")\n{\n\tconst now = new Date();\n\n\tconst delta = date.getTime() - now.getTime();\n\tlet d = Math.floor(Math.abs(delta) / 1000);\n\n\tconst dY = Math.floor(d / (60 * 60 * 24 * 30 * 12)); d -= dY * 60 * 60 * 24 * 30 * 12;\n\tconst dM = Math.floor(d / (60 * 60 * 24 * 30)); d -= dM * 60 * 60 * 24 * 30;\n\tconst dD = Math.floor(d / (60 * 60 * 24)); d -= dD * 60 * 60 * 24;\n\tconst dh = Math.floor(d / (60 * 60)) % 24; d -= dh * 60 * 60;\n\tconst dm = Math.floor(d / 60) % 60; d -= dm * 60;\n\tconst ds = d % 60;\n\n\tfunction getChange(): [string | number, [string, string, string]]\n\t{\n\t\tconst sv = (v: string) => [v, [\"\", \"\", \"\"]] as [string, [string, string, string]];\n\t\tif (dY != 0) return [dY, [\"\", \"\", \"\"]];\n\t\tif (dM != 0) return [dM, [\"\", \"\", \"\"]];\n\t\tif (dD != 0) return [dD, [\"\", \"\", \"\"]];\n\t\tif (nowBreak == \"day\") return sv(\"\");\n\t\tif (dh != 0) return [dh, [\"\", \"\", \"\"]];\n\t\tif (nowBreak == \"hour\") return sv(\"\");\n\t\tif (dm != 0) return [dm, [\"\", \"\", \"\"]];\n\t\tif (nowBreak == \"minute\") return sv(\"\");\n\t\tif (ds != 0) return [ds, [\"\", \"\", \"\"]];\n\t\treturn sv(\" \");\n\t}\n\tlet [vChange, vNames] = getChange();\n\n\tif (typeof vChange == \"string\")\n\t\treturn vChange;\n\n\tlet relative = `${countWord(vChange, ...vNames)}`\n\tif (Math.abs(vChange) > 1) relative = Math.abs(vChange) + \" \" + relative;\n\tif (delta > 0) relative = \" \" + relative;\n\telse relative += \" \";\n\n\treturn relative;\n}\n\nexport function secondsPast(date: Date)\n{\n\tconst now = new Date();\n\treturn (now.getTime() - date.getTime()) / 1000;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"table\":\"styles_table__QLr-h\",\"changesCell\":\"styles_changesCell__0wQDJ\",\"changes\":\"styles_changes__EyS9f\",\"btn\":\"styles_btn__H7b72\"};","import { LogItem, useLog } from \"../../api/log\";\nimport Layout from \"../../components/Layout\"\nimport { datetimeToString } from \"../../utils/dates\";\nimport displayError from \"../../utils/displayError\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function LogPage()\n{\n\tuseTitle(\"Log\");\n\tconst log = useLog();\n\n\treturn <Layout centeredPage styles={{ fontFamily: \"'PT Sans', Arial\", background: \"#1e1e1e\" }} homeBtn>\n\t\t{log.isFetching && <h3></h3>}\n\t\t{displayError(log)}\n\t\t{!log.isFetching && <button className={styles.btn} onClick={() => log.refetch()}>Update</button>}\n\t\t<table className={styles.table}>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th style={{ minWidth: \"9.5em\" }}>Date</th>\n\t\t\t\t\t<th style={{ minWidth: \"4em\" }}>Action</th>\n\t\t\t\t\t<th style={{ minWidth: \"9.5em\" }}>Table[id]</th>\n\t\t\t\t\t<th>User[id]</th>\n\t\t\t\t\t<th style={{ width: \"18em\" }}>Changes</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{log.data?.map(item => <tr key={item.id}>\n\t\t\t\t\t<td>{datetimeToString(item.date, true, true)}</td>\n\t\t\t\t\t<td>{colorizeAction(item.actionCode)}</td>\n\t\t\t\t\t<td>{item.tableName}[{item.recordId}]</td>\n\t\t\t\t\t<td>{item.userName} [{item.userId}]</td>\n\t\t\t\t\t<td className={styles.changesCell}>\n\t\t\t\t\t\t<div className={styles.changes}>\n\t\t\t\t\t\t\t<input type=\"checkbox\" className={styles.toggleInp} id={`item${item.id}`} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{item.changes.map(v => <div key={v[0]}>{v[0]}: {JSON.stringify(v[1])} {\"->\"} {JSON.stringify(v[2])}</div>)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{item.changes.length > 0 &&\n\t\t\t\t\t\t\t\t<label className={styles.btn} htmlFor={`item${item.id}`}>{item.changes.length}</label>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>)}\n\t\t\t</tbody>\n\t\t</table>\n\t</Layout>\n}\n\nfunction colorizeAction(action: LogItem[\"actionCode\"])\n{\n\tconst colors: { [key in LogItem[\"actionCode\"]]: string } = {\n\t\tadded: \"#008000\",\n\t\tdeleted: \"#b30000\",\n\t\tupdated: \"#006fb3\",\n\t\trestored: \"#990099\",\n\t}\n\treturn <span style={{ color: colors[action] }}>{action}</span>\n}\n","import type { QueryClient, QueryKey } from \"react-query\";\n\nexport function queryStrKey(queryKey: QueryKey)\n{\n\treturn queryKey instanceof Array ? queryKey.map(v => `${v}`) : `${queryKey}`;\n}\n\nexport function queryInvalidate(queryClient: QueryClient, queryKey: QueryKey)\n{\n\tqueryKey = queryStrKey(queryKey);\n\tqueryClient.invalidateQueries(queryKey, { exact: true });\n}\n\nexport function queryListAddItem<T>(queryClient: QueryClient, queryKey: QueryKey, item: T)\n{\n\tqueryKey = queryStrKey(queryKey);\n\tif (queryClient.getQueryState(queryKey)?.status == \"success\")\n\t\tqueryClient.setQueryData(queryKey, (items?: T[]) => items ? [...items, item] : [item]);\n}\n\nexport function queryListUpdateItem<T extends ObjWithId>(queryClient: QueryClient, queryKey: QueryKey, item: T)\n{\n\tqueryKey = queryStrKey(queryKey);\n\tif (queryClient.getQueryState(queryKey)?.status == \"success\")\n\t\tqueryClient.setQueryData(queryKey, (items?: T[]) => items?.map(v => v.id == item.id ? item : v) || []);\n}\n\nexport function queryListDeleteItem<T extends ObjWithId>(queryClient: QueryClient, queryKey: QueryKey, itemId: number | string)\n{\n\tqueryKey = queryStrKey(queryKey);\n\tif (queryClient.getQueryState(queryKey)?.status == \"success\")\n\t\tqueryClient.setQueryData(queryKey, (items?: T[]) => items ? items.filter(v => v.id != itemId) : []);\n}\n\ninterface ObjWithId\n{\n\tid: number | string,\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { fetchDelete, fetchJsonGet, fetchJsonPost, fetchPost } from \"../utils/fetch\";\nimport type { GameDialogData } from \"./dialog\";\nimport { queryInvalidate, queryListAddItem, queryListDeleteItem, queryListUpdateItem } from \"../utils/query\";\n\nexport interface Quest\n{\n\tid: number,\n\tname: string,\n\tdescription: string,\n\treward: number,\n\tcompleted: boolean,\n\tdialogId: number | null,\n\topened: boolean,\n}\n\nexport interface QuestFull\n{\n\tid: number,\n\tid_big: string,\n\tname: string,\n\tdescription: string,\n\treward: number,\n\thidden: boolean,\n\tdialog1Id: number | null,\n\tdialog2Id: number | null,\n}\n\nexport function useQuests()\n{\n\treturn useQuery(\"quests\", async () =>\n\t\tawait fetchJsonGet<Quest[]>(\"/api/quests\")\n\t);\n}\n\nexport function useQuestsFull()\n{\n\treturn useQuery(\"quests_full\", async () =>\n\t\tawait fetchJsonGet<QuestFull[]>(\"/api/quests_full\")\n\t);\n}\n\n\nexport function useMutationAddQuest(onSuccess?: (data: QuestFull) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (questData: QuestData) =>\n\t\t\tawait fetchJsonPost<QuestFull>(\"/api/quest\", questData),\n\t\tonSuccess: (data: QuestFull) =>\n\t\t{\n\t\t\tqueryListAddItem(queryClient, \"quests_full\", data);\n\t\t\tqueryInvalidate(queryClient, \"quests\");\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport interface QuestData\n{\n\tname: string,\n\tdescription: string,\n\treward: number,\n\thidden: boolean,\n\tdialog1?: GameDialogData | false,\n\tdialog2?: GameDialogData | false,\n}\n\nexport function useMutationEditQuest(questId: number, onSuccess?: (data: QuestFull) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (questData: QuestData) =>\n\t\t\tawait fetchJsonPost<QuestFull>(`/api/quest/${questId}`, questData),\n\t\tonSuccess: (data: QuestFull) =>\n\t\t{\n\t\t\tqueryListUpdateItem(queryClient, \"quests_full\", data);\n\t\t\tqueryInvalidate(queryClient, \"quests\");\n\t\t\tqueryInvalidate(queryClient, [\"dialogs\", data.dialog1Id]);\n\t\t\tqueryInvalidate(queryClient, [\"dialogs\", data.dialog2Id]);\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationDeleteQuest(questId: number, onSuccess?: () => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchDelete(`/api/quest/${questId}`),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tqueryListDeleteItem(queryClient, \"quests_full\", questId);\n\t\t\tqueryInvalidate(queryClient, \"quests\");\n\t\t\tonSuccess?.();\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\n\nexport function useMutationOpenQuest(onSuccess?: () => void, onError?: (err: any) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (questId: number) =>\n\t\t\tawait fetchPost(`/api/quest/${questId}/open`),\n\t\tonSuccess,\n\t\tonError,\n\t});\n\treturn mutation;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__oNkfm\",\"img\":\"styles_img__46Cxj\",\"textarea\":\"styles_textarea__sNjzZ\",\"description_count\":\"styles_description_count__Nnz4M\",\"description_count_too_many\":\"styles_description_count_too_many__udmKa\",\"form\":\"styles_form__EJp7b\"};","import { useRef } from \"react\";\nimport { Form, FormField } from \"../../../components/Form\"\nimport Popup from \"../../../components/Popup\"\nimport Spinner from \"../../../components/Spinner\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport styles from \"./styles.module.css\"\nimport { useMutationAddQuest } from \"../../../api/quest\";\nimport useStateObj from \"../../../utils/useStateObj\";\n\nexport default function AddQuest()\n{\n\tconst nameRef = useRef<HTMLInputElement>(null);\n\tconst rewardRef = useRef<HTMLInputElement>(null);\n\tconst hiddenRef = useRef<HTMLInputElement>(null);\n\tconst description = useStateObj(\"\");\n\tconst popupOpen = useStateBool(false);\n\tconst mutationAdd = useMutationAddQuest(() =>\n\t{\n\t\tpopupOpen.setF();\n\t\tif (nameRef.current)\n\t\t\tnameRef.current.value = \"\";\n\t\tif (rewardRef.current)\n\t\t\trewardRef.current.value = \"\";\n\t\tif (hiddenRef.current)\n\t\t\thiddenRef.current.checked = false;\n\t\tdescription.set(\"\");\n\t});\n\n\treturn <>\n\t\t<button className={styles.root} onClick={popupOpen.setT}></button>\n\t\t<Popup title=\" \" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t{mutationAdd.isLoading && <Spinner />}\n\t\t\t{displayError(mutationAdd)}\n\t\t\t<Form\n\t\t\t\tclassName={styles.form}\n\t\t\t\tonSubmit={() =>\n\t\t\t\t{\n\t\t\t\t\tconst name = nameRef.current?.value;\n\t\t\t\t\tconst reward = rewardRef.current?.valueAsNumber;\n\t\t\t\t\tconst hidden = hiddenRef.current?.checked;\n\t\t\t\t\tif (name && reward !== undefined && hidden !== undefined)\n\t\t\t\t\t\tmutationAdd.mutate({\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\treward,\n\t\t\t\t\t\t\thidden,\n\t\t\t\t\t\t\tdescription: description.v,\n\t\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<FormField label=\"\">\n\t\t\t\t\t<input ref={nameRef} required type=\"text\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"\">\n\t\t\t\t\t<input ref={rewardRef} required type=\"number\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input ref={hiddenRef} type=\"checkbox\" />\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</label>\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tclassName={styles.textarea}\n\t\t\t\t\t\tcols={40}\n\t\t\t\t\t\trows={10}\n\t\t\t\t\t\tvalue={description.v}\n\t\t\t\t\t\tonChange={inp => description.set(inp.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className={styles.description_count}>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span className={description.v.length > 256 ? styles.description_count_too_many : \"\"}>{description.v.length}</span>\n\t\t\t\t\t\t\t<span>/256</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</FormField>\n\t\t\t\t<FormField>\n\t\t\t\t\t<button type=\"submit\"></button>\n\t\t\t\t</FormField>\n\t\t\t</Form>\n\t\t</Popup>\n\t</>\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { fetchDelete, fetchJsonGet, fetchJsonPost } from \"../utils/fetch\";\nimport type { ImgData } from \"./dataTypes\";\n\nexport interface Dialog\n{\n\tid: number;\n\tdata: GameDialogData;\n}\nexport interface GameDialogData\n{\n\tnodes: GameDialogNode[];\n}\nexport interface GameDialogNode\n{\n\tcharacterId: number;\n\ttext: string;\n}\n\nexport interface GameDialogCharacter\n{\n\tid: number;\n\tname: string;\n\timg: string;\n}\nexport type GameDialogCharacterData = { [id: number]: GameDialogCharacter; };\n\nexport function createEmptyDialog(): GameDialogData\n{\n\treturn {\n\t\tnodes: [],\n\t}\n}\nexport function createEmptyDialogNode(): GameDialogNode\n{\n\treturn {\n\t\tcharacterId: 1,\n\t\ttext: \"\",\n\t}\n}\n\nexport function createEmptyCharacter(id: number): GameDialogCharacter\n{\n\treturn {\n\t\tid,\n\t\tname: \"\",\n\t\timg: \"\",\n\t}\n}\n\nexport function useDialog(dialogId: number, autoEnabled = true)\n{\n\treturn useQuery([\"dialogs\", `${dialogId}`], async () =>\n\t\tawait fetchJsonGet<Dialog>(`/api/dialog/${dialogId}`),\n\t\t{ enabled: autoEnabled && dialogId >= 0 }\n\t);\n}\n\nexport function useMutationEditDialog(dialogId: number, onSuccess?: (data: Dialog) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (dialogData: DialogData) =>\n\t\t\tawait fetchJsonPost<Dialog>(`/api/dialog/${dialogId}`, dialogData),\n\t\tonSuccess: (data: Dialog) =>\n\t\t{\n\t\t\tqueryClient.setQueryData([\"dialogs\", `${dialogId}`], data);\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\nexport interface DialogData\n{\n\tdata: GameDialogData;\n}\n\nexport function useDialogCharacters()\n{\n\treturn useQuery([\"dialogCharacters\"], async () =>\n\t{\n\t\tconst data = await fetchJsonGet<GameDialogCharacter[]>(`/api/dialog/characters`);\n\t\tconst characters = {} as GameDialogCharacterData;\n\t\tdata.forEach(v => characters[v.id] = v);\n\t\treturn characters;\n\t});\n}\n\nexport function useMutationAddCharacter(onSuccess?: (data: GameDialogCharacter) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (characterData: CharacterData) =>\n\t\t\tawait fetchJsonPost<GameDialogCharacter>(\"/api/dialog/character\", characterData),\n\t\tonSuccess: (data: GameDialogCharacter) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"dialogCharacters\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"dialogCharacters\", (characters?: GameDialogCharacterData) =>\n\t\t\t\t{\n\t\t\t\t\tcharacters = characters || {};\n\t\t\t\t\tcharacters[data.id] = data;\n\t\t\t\t\treturn characters;\n\t\t\t\t});\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport interface CharacterData\n{\n\tname: string;\n\timg?: ImgData;\n}\n\nexport function useMutationEditCharacter(characterId: number, onSuccess?: (data: GameDialogCharacter) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (characterData: CharacterData) =>\n\t\t\tawait fetchJsonPost<GameDialogCharacter>(`/api/dialog/character/${characterId}`, characterData),\n\t\tonSuccess: (data: GameDialogCharacter) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"dialogCharacters\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"dialogCharacters\", (characters?: GameDialogCharacterData) =>\n\t\t\t\t{\n\t\t\t\t\tcharacters = characters || {};\n\t\t\t\t\tcharacters[data.id] = data;\n\t\t\t\t\treturn characters;\n\t\t\t\t});\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationDeleteCharacter(characterId: number, onSuccess?: () => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchDelete(`/api/dialog/character/${characterId}`),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"dialogCharacters\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"dialogCharacters\", (characters?: GameDialogCharacterData) =>\n\t\t\t\t{\n\t\t\t\t\tcharacters = characters || {};\n\t\t\t\t\tdelete characters[characterId];\n\t\t\t\t\treturn characters;\n\t\t\t\t});\n\n\t\t\tonSuccess?.();\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__WvdMz\",\"body\":\"styles_body__1LPvJ\",\"selectName\":\"styles_selectName__u7s4v\",\"textarea\":\"styles_textarea__GqFav\",\"buttons\":\"styles_buttons__9yTCF\",\"btnUp\":\"styles_btnUp__nrklw\",\"btnDown\":\"styles_btnDown__V5tHT\",\"btnPlus\":\"styles_btnPlus__oBVqe\",\"doubleBtn\":\"styles_doubleBtn__WET5a\"};","export default function IconDelete()\n{\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" height=\"1em\" width=\"1em\" fill=\"currentColor\">\n\t\t\t<path d=\"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z\" />\n\t\t</svg>\n\t)\n}\n","import { useEffect } from \"react\";\nimport { useDialogCharacters, type GameDialogNode } from \"../../../api/dialog\";\nimport { useStateObjExt } from \"../../../utils/useStateObj\";\nimport styles from \"./styles.module.css\"\nimport IconDelete from \"../../../icons/delete\";\n\nexport default function DialogNode({ data, deleteNode, moveUp, addUp, moveDown, addDown }: NodeProps)\n{\n\tconst characters = useDialogCharacters();\n\tconst characterId = useStateObjExt(data.characterId, v => data.characterId = v);\n\tconst text = useStateObjExt(data.text, v => data.text = v);\n\n\tconst character = characters.data?.[characterId.v];\n\n\tuseEffect(() =>\n\t{\n\t\tcharacterId.set(data.characterId);\n\t\ttext.set(data.text);\n\t\t// eslint-disable-next-line\n\t}, [data]);\n\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<img src={character?.img} alt={character?.name} />\n\t\t\t<div className={styles.body}>\n\t\t\t\t<select className={styles.selectName} value={characterId.v} onChange={e => characterId.set(parseInt(e.target.value, 10))}>\n\t\t\t\t\t{Object.values(characters.data || {}).map(v => <option key={v.id} value={v.id}>{v.name}</option>)}\n\t\t\t\t</select>\n\t\t\t\t<textarea\n\t\t\t\t\tclassName={styles.textarea}\n\t\t\t\t\tplaceholder=\" \"\n\t\t\t\t\tvalue={text.v}\n\t\t\t\t\tonChange={e => text.set(e.target.value)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className={styles.buttons}>\n\t\t\t\t<span className={styles.doubleBtn}>\n\t\t\t\t\t<button className={styles.btnUp} onClick={moveUp}></button>\n\t\t\t\t\t<button className={styles.btnPlus} onClick={addUp}></button>\n\t\t\t\t</span>\n\t\t\t\t<button onClick={deleteNode}><IconDelete /></button>\n\t\t\t\t<span className={styles.doubleBtn}>\n\t\t\t\t\t<button className={styles.btnPlus} onClick={addDown}></button>\n\t\t\t\t\t<button className={styles.btnDown} onClick={moveDown}></button>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface NodeProps\n{\n\tdata: GameDialogNode;\n\tdeleteNode: () => void;\n\tmoveUp: () => void;\n\tmoveDown: () => void;\n\taddUp: () => void;\n\taddDown: () => void;\n}","export default function IconCancel()\n{\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" height=\"1em\" width=\"1em\" fill=\"currentColor\">\n\t\t\t<path d=\"m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z\" />\n\t\t</svg>\n\t)\n}\n","export default function IconSave()\n{\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" height=\"1em\" width=\"1em\" fill=\"currentColor\">\n\t\t\t<path d=\"M840-680v480q0 33-23.5 56.5T760-120H200q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h480l160 160Zm-80 34L646-760H200v560h560v-446ZM480-240q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35ZM240-560h360v-160H240v160Zm-40-86v446-560 114Z\" />\n\t\t</svg>\n\t)\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__CDE3U\",\"error\":\"styles_error__6s3zt\",\"img\":\"styles_img__Thun3\",\"id\":\"styles_id__pa79Q\",\"inputs\":\"styles_inputs__7ickr\",\"changed\":\"styles_changed__s9MgQ\",\"buttons\":\"styles_buttons__T7wSY\"};","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"styles_button__MKylh\"};","import styles from \"./styles.module.css\"\nimport { UseMutationResult } from \"react-query\";\nimport displayError from \"../../utils/displayError\";\nimport { Form } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport Spinner from \"../Spinner\";\nimport { useEffect } from \"react\";\n\nexport default function PopupConfirm<T, TE, K>({ title, mutationFn, mutatateParams, itemId, onSuccess, onError, open, close }: PopupConfirmProps<T, TE, K>)\n{\n\tconst mutation = mutationFn(itemId, (item: any) =>\n\t{\n\t\tclose?.();\n\t\tonSuccess?.(item);\n\t}, onError);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!open)\n\t\t\tmutation.reset();\n\t\t// eslint-disable-next-line\n\t}, [open]);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\" ?\" closeOnOutclick>\n\t\t\t{displayError(mutation)}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tmutation.mutate(mutatateParams!);\n\t\t\t}}>\n\t\t\t\t<h2>{title}</h2>\n\t\t\t\t<button type=\"submit\" className={styles.button}></button>\n\t\t\t</Form>\n\t\t</Popup>\n\t);\n}\n\ninterface PopupConfirmProps<T, TE, K> extends PopupProps\n{\n\tmutationFn: (itemId: number, onSuccess: (item: T | void) => void, onError?: (err: TE) => void) => UseMutationResult<T, TE, K, any>,\n\tmutatateParams?: K,\n\titemId: number,\n\ttitle: string,\n\tonSuccess?: (item: T) => void,\n\tonError?: (err: TE) => void,\n}\n","import { useEffect } from \"react\";\nimport { useMutationAddCharacter, useMutationDeleteCharacter, useMutationEditCharacter, type GameDialogCharacter } from \"../../../../api/dialog\";\nimport IconCancel from \"../../../../icons/cancel\";\nimport IconDelete from \"../../../../icons/delete\";\nimport IconSave from \"../../../../icons/save\";\nimport classNames from \"../../../../utils/classNames\";\nimport useStateBool from \"../../../../utils/useStateBool\";\nimport useStateObj from \"../../../../utils/useStateObj\";\nimport styles from \"./styles.module.css\"\nimport PopupConfirm from \"../../../PopupConfirm\";\nimport Spinner from \"../../../Spinner\";\nimport displayError from \"../../../../utils/displayError\";\nimport type { ImgData } from \"../../../../api/dataTypes\";\nimport imagefileToData from \"../../../../utils/imagefileToData\";\n\nexport default function Character({ character, deleteNew }: CharacterProps)\n{\n\tconst changed = useStateBool(false);\n\tconst deleting = useStateBool(false);\n\tconst id = useStateObj(character.id);\n\tconst name = useStateObj(character.name, changed.setT);\n\tconst imgData = useStateObj<ImgData | null>(null, changed.setT);\n\n\tconst mutationAdd = useMutationAddCharacter(deleteNew);\n\tconst mutationEdit = useMutationEditCharacter(id.v, reset, () => reset());\n\n\t// eslint-disable-next-line\n\tuseEffect(reset, [character])\n\n\tfunction reset(newCharacter?: GameDialogCharacter)\n\t{\n\t\tconst data = newCharacter || character;\n\t\tid.set(data.id);\n\t\tname.set(data.name);\n\t\tchanged.setF();\n\t}\n\n\treturn (\n\t\t<div className={classNames(styles.root, changed.v && styles.changed)}>\n\t\t\t{mutationAdd.isLoading && <Spinner block r=\"0.5rem\" />}\n\t\t\t{displayError(mutationAdd, err => <div className={styles.error}>\n\t\t\t\t<div>{err}</div>\n\t\t\t\t<button onClick={() => mutationAdd.reset()}></button>\n\t\t\t</div>)}\n\t\t\t{mutationEdit.isLoading && <Spinner block r=\"0.5rem\" />}\n\t\t\t{displayError(mutationEdit, err => <div className={styles.error}>\n\t\t\t\t<div>{err}</div>\n\t\t\t\t<button onClick={() => mutationEdit.reset()}></button>\n\t\t\t</div>)}\n\n\t\t\t<PopupConfirm title={\" : \" + name.v} itemId={character.id} mutationFn={useMutationDeleteCharacter} open={deleting.v} close={deleting.setF} />\n\t\t\t<div className={styles.id}>{character.id}</div>\n\t\t\t<label className={styles.img}>\n\t\t\t\t{(character.img || imgData.v) && <img src={imgData.v?.data || character.img} alt=\"\" />}\n\t\t\t\t<input\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\taccept=\"image/png, image/jpeg, image/gif\"\n\t\t\t\t\tonChange={async e =>\n\t\t\t\t\t{\n\t\t\t\t\t\timgData.set({ data: \"\", name: \"\" });\n\t\t\t\t\t\timgData.set(await imagefileToData(e.target?.files?.[0]!, \"\"));\n\t\t\t\t\t\te.target.value = \"\";\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</label>\n\t\t\t<div className={styles.inputs}>\n\t\t\t\t<div></div>\n\t\t\t\t<input type=\"text\" value={name.v} onChange={inp => name.set(inp.target.value)} />\n\t\t\t</div>\n\t\t\t<div className={styles.buttons}>\n\t\t\t\t{id.v > 0 ? <>\n\t\t\t\t\t{!changed.v && <button onClick={deleting.setT}><IconDelete /></button>}\n\t\t\t\t\t{changed.v && <button\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmutationEdit.mutate({\n\t\t\t\t\t\t\t\tname: name.v,\n\t\t\t\t\t\t\t\timg: imgData.v || undefined,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<IconSave />\n\t\t\t\t\t</button>}\n\t\t\t\t\t{changed.v && <button onClick={() => reset()}><IconCancel /></button>}\n\t\t\t\t</> : <>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmutationAdd.mutate({\n\t\t\t\t\t\t\t\tname: name.v,\n\t\t\t\t\t\t\t\timg: imgData.v || undefined,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<IconSave />\n\t\t\t\t\t</button>\n\t\t\t\t\t<button onClick={deleteNew}><IconDelete /></button>\n\t\t\t\t</>}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface CharacterProps\n{\n\tcharacter: GameDialogCharacter;\n\tdeleteNew?: () => void,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__qIedB\",\"addBtn\":\"styles_addBtn__Ci3v5\",\"characters\":\"styles_characters__rMIjG\"};","import { createEmptyCharacter, useDialogCharacters, type GameDialogCharacter, type GameDialogCharacterData } from \"../../../api/dialog\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport useStateObj from \"../../../utils/useStateObj\";\nimport Popup from \"../../Popup\";\nimport Spinner from \"../../Spinner\";\nimport Character from \"./Character\";\nimport styles from \"./styles.module.css\"\n\nexport default function ManageCharacters()\n{\n\tconst popupOpen = useStateBool(false);\n\tconst characters = useDialogCharacters();\n\tconst charactersNew = useStateObj<GameDialogCharacterData>({});\n\tconst lastId = useStateObj(1);\n\n\treturn <>\n\t\t<button className={styles.root} onClick={popupOpen.setT}> </button>\n\t\t<Popup title=\" \" open={popupOpen.v} close={popupOpen.setF}\n\t\t\tfooter={\n\t\t\t\t<button className={styles.addBtn} onClick={() =>\n\t\t\t\t{\n\t\t\t\t\tcharactersNew.set(v =>\n\t\t\t\t\t{\n\t\t\t\t\t\tconst nv = { ...v };\n\t\t\t\t\t\tnv[-lastId.v] = createEmptyCharacter(-lastId.v);\n\t\t\t\t\t\tlastId.set(v => v + 1);\n\t\t\t\t\t\treturn nv;\n\t\t\t\t\t})\n\t\t\t\t}}></button>\n\t\t\t}\n\t\t>\n\t\t\t{characters.isLoading && <Spinner />}\n\t\t\t{displayError(characters)}\n\t\t\t{characters.isSuccess && <>\n\t\t\t\t<div className={styles.characters}>\n\t\t\t\t\t{Object.values<GameDialogCharacter>(characters.data)\n\t\t\t\t\t\t.map(v => <Character key={v.id} character={v} />)\n\t\t\t\t\t}\n\t\t\t\t\t{Object.values(charactersNew.v)\n\t\t\t\t\t\t.map(v => <Character key={v.id} character={v}\n\t\t\t\t\t\t\tdeleteNew={() =>\n\t\t\t\t\t\t\t\tcharactersNew.set(V =>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdelete V[v.id];\n\t\t\t\t\t\t\t\t\treturn { ...V };\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</>}\n\t\t</Popup >\n\t</>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__6dYbo\",\"close\":\"styles_close__T2XDu\",\"body\":\"styles_body__-c4ky\",\"nodes\":\"styles_nodes__0Che8\",\"addBtn\":\"styles_addBtn__bt4O2\"};","import { createEmptyDialogNode, useDialogCharacters, type GameDialogData } from \"../../api/dialog\";\nimport displayError from \"../../utils/displayError\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport Spinner from \"../Spinner\";\nimport DialogNode from \"./DialogNode\";\nimport ManageCharacters from \"./ManageCharacters\";\nimport styles from \"./styles.module.css\"\n\nexport default function useGameDialogEditor(onClose?: (() => void))\n{\n\tconst update = useStateObj(0);\n\tconst editor = useStateObj({\n\t\t_data: null as null | GameDialogData,\n\t\t_onClose: undefined as (() => void) | undefined,\n\t\t_onCloseMain: undefined as (() => void) | undefined,\n\t\tel: () => editor.v._data ? <GameDialogEditor data={editor.v._data} close={editor.v.close} /> : <></>,\n\t\topen: (data: GameDialogData, onClose?: () => void) =>\n\t\t\teditor.set(v =>\n\t\t\t{\n\t\t\t\tv._data = data;\n\t\t\t\tv._onClose = onClose;\n\t\t\t\treturn v;\n\t\t\t}),\n\t\tclose: () =>\n\t\t\teditor.set(v =>\n\t\t\t{\n\t\t\t\tif (!v._data) return v;\n\t\t\t\tv._data = null;\n\t\t\t\tv._onClose?.();\n\t\t\t\tv._onCloseMain?.();\n\t\t\t\treturn v;\n\t\t\t}),\n\t}, () => update.set(v => v + 1));\n\teditor.v._onCloseMain = onClose;\n\n\treturn editor.v;\n}\n\nfunction GameDialogEditor({ data, close }: GameDialogEditorProps)\n{\n\tconst characters = useDialogCharacters();\n\tconst update = useStateBool(false);\n\n\tfunction moveNode(fromI: number, toI: number)\n\t{\n\t\tif (toI < 0) return;\n\t\tdata.nodes.splice(toI, 0, data.nodes.splice(fromI, 1)[0]);\n\t\tupdate.toggle();\n\t}\n\tfunction addNode(toI: number)\n\t{\n\t\tdata.nodes.splice(toI, 0, createEmptyDialogNode());\n\t\tupdate.toggle();\n\t}\n\tfunction deleteNode(i: number)\n\t{\n\t\tdata.nodes.splice(i, 1);\n\t\tupdate.toggle();\n\t}\n\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t{characters.isLoading && <Spinner />}\n\t\t\t{displayError(characters)}\n\t\t\t<button className={styles.close} onClick={close}></button>\n\t\t\t<div className={styles.body}>\n\t\t\t\t<h1> </h1>\n\t\t\t\t<ManageCharacters />\n\t\t\t\t<div className={styles.nodes}>\n\t\t\t\t\t{data.nodes.map((v, i) => <DialogNode\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tdata={v}\n\t\t\t\t\t\tdeleteNode={() => deleteNode(i)}\n\t\t\t\t\t\tmoveUp={() => moveNode(i, i - 1)}\n\t\t\t\t\t\tmoveDown={() => moveNode(i, i + 1)}\n\t\t\t\t\t\taddUp={() => addNode(i)}\n\t\t\t\t\t\taddDown={() => addNode(i + 1)}\n\t\t\t\t\t/>)}\n\t\t\t\t</div>\n\t\t\t\t<button className={styles.addBtn} onClick={() =>\n\t\t\t\t{\n\t\t\t\t\tdata.nodes.push(createEmptyDialogNode());\n\t\t\t\t\tupdate.toggle();\n\t\t\t\t}}> </button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface GameDialogEditorProps\n{\n\tdata: GameDialogData;\n\tclose: () => void;\n}\n","export default function copyObj<T>(obj: T): T\n{\n\treturn JSON.parse(JSON.stringify(obj));\n}","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Fv2Pv\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__H6WP2\",\"close\":\"styles_close__LpN36\",\"img\":\"styles_img__lP65O\",\"dialog_container\":\"styles_dialog_container__rAyPs\",\"dialog\":\"styles_dialog__9ovTV\",\"dialog__title\":\"styles_dialog__title__yj+t3\",\"dialog__body\":\"styles_dialog__body__HiqPJ\",\"dialog__text\":\"styles_dialog__text__gX-Zr\",\"dialog__btns\":\"styles_dialog__btns__n6R2J\",\"dialog__next\":\"styles_dialog__next__jEXew\",\"dialog__prev\":\"styles_dialog__prev__EqKdl\"};","import { useEffect, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport { useDialog, useDialogCharacters, type GameDialogCharacter, type GameDialogData } from \"../../api/dialog\";\nimport Spinner from \"../Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport type { UseQueryResult } from \"react-query\";\n\nexport default function useGameDialog()\n{\n\tconst characters = useDialogCharacters();\n\tconst update = useStateObj(0);\n\tconst dialog = useStateObj({\n\t\t_data: null as GameDialogData | null,\n\t\t_dialogId: -1,\n\t\t_characters: characters,\n\t\t_onClose: undefined as ((dialogId: number) => void) | undefined,\n\t\tel: () => dialog.v._data ?\n\t\t\t<GameDialog data={dialog.v._data} close={dialog.v.close} characters={dialog.v._characters} /> :\n\t\t\tdialog.v._dialogId >= 0 ?\n\t\t\t\t<GameDialogWithLoader dialogId={dialog.v._dialogId} close={dialog.v.close} characters={dialog.v._characters} /> :\n\t\t\t\t<></>,\n\t\trun: (dialogId: number, onClose?: (dialogId: number) => void) =>\n\t\t\tdialog.set(v =>\n\t\t\t{\n\t\t\t\tv._dialogId = dialogId;\n\t\t\t\tv._onClose = onClose;\n\t\t\t\treturn v;\n\t\t\t}),\n\t\trunLocal: (data: GameDialogData, onClose?: () => void) =>\n\t\t\tdialog.set(v =>\n\t\t\t{\n\t\t\t\tv._data = data;\n\t\t\t\tv._onClose = onClose;\n\t\t\t\treturn v;\n\t\t\t}),\n\t\tclose: () =>\n\t\t\tdialog.set(v =>\n\t\t\t{\n\t\t\t\tif (v._dialogId < 0 && !v._data) return v;\n\t\t\t\tv._onClose?.(v._dialogId);\n\t\t\t\tv._onClose = undefined;\n\t\t\t\tv._dialogId = -1;\n\t\t\t\tv._data = null;\n\t\t\t\treturn v;\n\t\t\t}),\n\t}, () => update.set(v => v + 1));\n\tdialog.v._characters = characters;\n\n\treturn dialog.v;\n}\n\nfunction GameDialogWithLoader({ dialogId, characters, close }: GameDialogWithLoaderProps)\n{\n\tconst dialog = useDialog(dialogId);\n\n\treturn dialog.isSuccess ?\n\t\t<GameDialog data={dialog.data.data} close={close} characters={characters} />\n\t\t:\n\t\t<div className={styles.root}>\n\t\t\t<button className={styles.close} onClick={close}></button>\n\t\t\t{dialog.isLoading && <Spinner />}\n\t\t\t{displayError(dialog)}\n\t\t</div>\n\t\t;\n}\n\ninterface GameDialogWithLoaderProps\n{\n\tdialogId: number;\n\tcharacters: UseQueryResult<{ [id: number]: GameDialogCharacter; }, unknown>;\n\tclose: () => void;\n}\n\nfunction GameDialog({ data, characters, close }: GameDialogProps)\n{\n\tconst [nodeI, setNodeI] = useState(0);\n\tconst node = data.nodes[nodeI];\n\tuseEffect(() => setNodeI(0), [data]);\n\n\tif (!characters.isSuccess)\n\t\treturn <div className={styles.root}>\n\t\t\t<button className={styles.close} onClick={close}></button>\n\t\t\t{characters.isLoading && <Spinner />}\n\t\t\t{displayError(characters)}\n\t\t</div>;\n\n\tif (!node)\n\t\treturn <div className={styles.root}>\n\t\t\t<button className={styles.close} onClick={close}></button>\n\t\t\t<h2></h2>\n\t\t</div>;\n\n\tconst character = characters.data[node.characterId];\n\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<button className={styles.close} onClick={close}></button>\n\t\t\t<img className={styles.img} src={character.img} alt={character.name} />\n\t\t\t<div className={styles.dialog_container}>\n\t\t\t\t<div className={styles.dialog}>\n\t\t\t\t\t<div className={styles.dialog__title}>{character.name}</div>\n\t\t\t\t\t<div className={styles.dialog__body}>\n\t\t\t\t\t\t<p className={styles.dialog__text}>{node.text}</p>\n\t\t\t\t\t\t<div className={styles.dialog__btns}>\n\t\t\t\t\t\t\t{nodeI > 0 ?\n\t\t\t\t\t\t\t\t<button className={styles.dialog__prev} onClick={() => setNodeI(v => v - 1)}>&lt;-</button>\n\t\t\t\t\t\t\t\t: <div></div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{nodeI < data.nodes.length - 1 ?\n\t\t\t\t\t\t\t\t<button className={styles.dialog__next} onClick={() => setNodeI(v => v + 1)}></button>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<button className={styles.dialog__next} onClick={close}></button>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface GameDialogProps\n{\n\tdata: GameDialogData;\n\tcharacters: UseQueryResult<{ [id: number]: GameDialogCharacter; }, unknown>;\n\tclose: () => void;\n}\n","export default function IconEdit()\n{\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" height=\"1em\" width=\"1em\" fill=\"currentColor\">\n\t\t\t<path d=\"M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z\" />\n\t\t</svg>\n\t)\n}\n","import { useEffect } from \"react\";\nimport { useDialog, useMutationEditDialog, type GameDialogData } from \"../../../api/dialog\";\nimport useGameDialogEditor from \"../../../components/GameDialogEditor\";\nimport PopupConfirm from \"../../../components/PopupConfirm\";\nimport Spinner from \"../../../components/Spinner\";\nimport copyObj from \"../../../utils/copyObj\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport useStateObj from \"../../../utils/useStateObj\";\nimport styles from \"./styles.module.css\"\nimport useGameDialog from \"../../../components/GameDialog\";\nimport IconEdit from \"../../../icons/edit\";\n\nexport default function EditStartDialog()\n{\n\tconst saving = useStateBool(false);\n\tconst dialogDataQuery = useDialog(1, false);\n\tconst dialogData = useStateObj<GameDialogData | null>(null);\n\n\tconst dialog = useGameDialog();\n\tconst editor = useGameDialogEditor(saving.setT);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!saving.v && dialogData.v && dialogDataQuery.isSuccess)\n\t\t\tdialogData.set(copyObj(dialogDataQuery.data.data));\n\t\t// eslint-disable-next-line\n\t}, [saving.v]);\n\n\tasync function getDialog(fn: (dialog: GameDialogData) => void)\n\t{\n\t\tif (dialogData.v) fn(dialogData.v);\n\t\telse if (dialogDataQuery.isSuccess && !dialogDataQuery.isStale)\n\t\t{\n\t\t\tconst data = copyObj(dialogDataQuery.data.data);\n\t\t\tdialogData.set(data);\n\t\t\tfn(data);\n\t\t}\n\t\telse if (dialogDataQuery.isIdle || dialogDataQuery.isStale || dialogDataQuery.isError)\n\t\t{\n\t\t\tconst d = await dialogDataQuery.refetch();\n\t\t\tif (d.isSuccess)\n\t\t\t{\n\t\t\t\tconst data = copyObj(d.data.data);\n\t\t\t\tdialogData.set(data);\n\t\t\t\tfn(data);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn <>\n\t\t{dialogDataQuery.isFetching && <Spinner />}\n\t\t{dialogData.v &&\n\t\t\t<PopupConfirm\n\t\t\t\ttitle={\" \"}\n\t\t\t\titemId={1}\n\t\t\t\tmutatateParams={{ data: dialogData.v }}\n\t\t\t\tmutationFn={useMutationEditDialog}\n\t\t\t\topen={saving.v}\n\t\t\t\tclose={saving.setF}\n\t\t\t/>\n\t\t}\n\t\t<div className={styles.root}>\n\t\t\t<button onClick={() => getDialog(dialog.runLocal)}> </button>\n\t\t\t<button onClick={() => getDialog(editor.open)}><IconEdit /></button>\n\t\t</div>\n\t\t{dialog.el()}\n\t\t{editor.el()}\n\t</>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__RyDEO\",\"error\":\"styles_error__mpo99\",\"id\":\"styles_id__+YyjR\",\"img\":\"styles_img__Q1dE-\",\"inputs\":\"styles_inputs__+GHP-\",\"changedHighlight\":\"styles_changedHighlight__0huRM\",\"changed\":\"styles_changed__-Gqjn\",\"buttons\":\"styles_buttons__DpOXa\",\"btnMinus\":\"styles_btnMinus__sOvku\",\"checkbox\":\"styles_checkbox__3q5xK\",\"description\":\"styles_description__IsQuf\",\"textarea\":\"styles_textarea__DP8w4\",\"description_count\":\"styles_description_count__rC08l\",\"description_count_too_many\":\"styles_description_count_too_many__9Cvtl\",\"dialogBtns\":\"styles_dialogBtns__OcBqR\"};","export default function IconView()\n{\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 442.04 442.04\" height=\"1em\" width=\"1em\" fill=\"currentColor\">\n\t\t\t<path d=\"M221.02,341.304c-49.708,0-103.206-19.44-154.71-56.22C27.808,257.59,4.044,230.351,3.051,229.203\n\t\t\tc-4.068-4.697-4.068-11.669,0-16.367c0.993-1.146,24.756-28.387,63.259-55.881c51.505-36.777,105.003-56.219,154.71-56.219\n\t\t\tc49.708,0,103.207,19.441,154.71,56.219c38.502,27.494,62.266,54.734,63.259,55.881c4.068,4.697,4.068,11.669,0,16.367\n\t\t\tc-0.993,1.146-24.756,28.387-63.259,55.881C324.227,321.863,270.729,341.304,221.02,341.304z M29.638,221.021\n\t\t\tc9.61,9.799,27.747,27.03,51.694,44.071c32.83,23.361,83.714,51.212,139.688,51.212s106.859-27.851,139.688-51.212\n\t\t\tc23.944-17.038,42.082-34.271,51.694-44.071c-9.609-9.799-27.747-27.03-51.694-44.071\n\t\t\tc-32.829-23.362-83.714-51.212-139.688-51.212s-106.858,27.85-139.688,51.212C57.388,193.988,39.25,211.219,29.638,221.021z\"/>\n\t\t\t<path d=\"M221.02,298.521c-42.734,0-77.5-34.767-77.5-77.5c0-42.733,34.766-77.5,77.5-77.5c18.794,0,36.924,6.814,51.048,19.188\n\t\t\tc5.193,4.549,5.715,12.446,1.166,17.639c-4.549,5.193-12.447,5.714-17.639,1.166c-9.564-8.379-21.844-12.993-34.576-12.993\n\t\t\tc-28.949,0-52.5,23.552-52.5,52.5s23.551,52.5,52.5,52.5c28.95,0,52.5-23.552,52.5-52.5c0-6.903,5.597-12.5,12.5-12.5\n\t\t\ts12.5,5.597,12.5,12.5C298.521,263.754,263.754,298.521,221.02,298.521z\"/>\n\t\t\t<path d=\"M221.02,246.021c-13.785,0-25-11.215-25-25s11.215-25,25-25c13.786,0,25,11.215,25,25S234.806,246.021,221.02,246.021z\" />\n\t\t</svg>\n\t)\n}\n","export default function IconReload()\n{\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 342.5 342.5\" height=\"1em\" width=\"1em\" fill=\"currentColor\">\n\t\t\t<path d=\"M254.37,22.255c-1.161-0.642-2.53-0.795-3.803-0.428c-1.274,0.367-2.35,1.226-2.992,2.387l-21.758,39.391\n\t\t\t\t\tc-1.335,2.417-0.458,5.459,1.96,6.794C264.616,90.748,287.5,129.495,287.5,171.52c0,63.649-51.782,115.431-115.431,115.431\n\t\t\t\t\tS56.638,235.169,56.638,171.52c0-23.888,7.557-47.427,21.382-66.897l34.478,34.478c1.338,1.337,3.315,1.806,5.109,1.21\n\t\t\t\t\tc1.795-0.596,3.101-2.152,3.374-4.024L139.963,6.271c0.228-1.563-0.295-3.141-1.412-4.258c-1.117-1.117-2.7-1.639-4.258-1.412\n\t\t\t\t\tL4.278,19.584c-1.872,0.273-3.428,1.579-4.023,3.374c-0.596,1.795-0.127,3.772,1.21,5.109l37.292,37.292\n\t\t\t\t\tC14.788,95.484,1.638,133,1.638,171.52c0,93.976,76.455,170.431,170.431,170.431c93.976,0,170.431-76.455,170.431-170.431\n\t\t\t\t\tC342.5,109.478,308.731,52.283,254.37,22.255z\"/>\n\t\t</svg>\n\t)\n}\n","import { Fragment, useEffect } from \"react\";\nimport PopupConfirm from \"../../../components/PopupConfirm\";\nimport Spinner from \"../../../components/Spinner\";\nimport classNames from \"../../../utils/classNames\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport useStateObj, { type StateObj } from \"../../../utils/useStateObj\";\nimport styles from \"./styles.module.css\"\nimport { useMutationEditQuest, useMutationDeleteQuest, type QuestFull } from \"../../../api/quest\";\nimport IconDelete from \"../../../icons/delete\";\nimport IconSave from \"../../../icons/save\";\nimport IconCancel from \"../../../icons/cancel\";\nimport Popup from \"../../../components/Popup\";\nimport IconEdit from \"../../../icons/edit\";\nimport IconView from \"../../../icons/view\";\nimport useGameDialog from \"../../../components/GameDialog\";\nimport IconReload from \"../../../icons/reload\";\nimport { createEmptyDialog, useDialog, type Dialog, type GameDialogData } from \"../../../api/dialog\";\nimport useGameDialogEditor from \"../../../components/GameDialogEditor\";\nimport type { UseQueryResult } from \"react-query\";\nimport copyObj from \"../../../utils/copyObj\";\n\nexport default function Quest({ quest }: QuestProps)\n{\n\tconst changed = useStateBool(false);\n\tconst deleting = useStateBool(false);\n\tconst popupOpen = useStateBool(false);\n\tconst name = useStateObj(quest.name, changed.setT);\n\tconst reward = useStateObj(quest.reward, changed.setT);\n\tconst hidden = useStateBool(quest.hidden, changed.setT);\n\tconst description = useStateObj(quest.description, changed.setT);\n\n\tconst dialog1Id = useStateObj(quest.dialog1Id, changed.setT);\n\tconst dialog2Id = useStateObj(quest.dialog2Id, changed.setT);\n\tconst dialog1DataQuery = useDialog(dialog1Id.v ?? -1, false);\n\tconst dialog2DataQuery = useDialog(dialog2Id.v ?? -1, false);\n\tconst dialog1Data = useStateObj<GameDialogData | null>(null);\n\tconst dialog2Data = useStateObj<GameDialogData | null>(null);\n\tconst dialog1Changed = useStateBool(false, changed.setT);\n\tconst dialog2Changed = useStateBool(false, changed.setT);\n\n\tconst dialog = useGameDialog();\n\tconst editor = useGameDialogEditor();\n\tconst mutationEdit = useMutationEditQuest(quest.id, reset, () => reset());\n\n\t// eslint-disable-next-line\n\tuseEffect(reset, [quest])\n\n\tfunction reset(newQuest?: QuestFull)\n\t{\n\t\tconst data = newQuest || quest;\n\t\tname.set(data.name);\n\t\treward.set(data.reward);\n\t\thidden.set(data.hidden);\n\t\tdescription.set(data.description);\n\t\tdialog1Id.set(data.dialog1Id);\n\t\tdialog2Id.set(data.dialog2Id);\n\t\tdialog1Data.set(null);\n\t\tdialog2Data.set(null);\n\t\tdialog1Changed.setF();\n\t\tdialog2Changed.setF();\n\t\tchanged.setF();\n\t}\n\n\tasync function getDialog(state: StateObj<GameDialogData | null>, query: UseQueryResult<Dialog, unknown>, fn: (dialog: GameDialogData) => void)\n\t{\n\t\tif (state.v) fn(state.v);\n\t\telse if (query.isSuccess && !query.isStale)\n\t\t{\n\t\t\tconst data = copyObj(query.data.data);\n\t\t\tstate.set(data);\n\t\t\tfn(data);\n\t\t}\n\t\telse if (query.isIdle || query.isStale || query.isError)\n\t\t{\n\t\t\tconst d = await query.refetch();\n\t\t\tif (d.isSuccess)\n\t\t\t{\n\t\t\t\tconst data = copyObj(d.data.data);\n\t\t\t\tstate.set(data);\n\t\t\t\tfn(data);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className={classNames(styles.root, changed.v && styles.changed)}>\n\t\t\t{dialog.el()}\n\t\t\t{editor.el()}\n\t\t\t{mutationEdit.isLoading && <Spinner block r=\"0.5rem\" />}\n\t\t\t{dialog1DataQuery.isFetching && <Spinner block r=\"0.5rem\" />}\n\t\t\t{dialog2DataQuery.isFetching && <Spinner block r=\"0.5rem\" />}\n\t\t\t{displayError(mutationEdit, err => <div className={styles.error}>\n\t\t\t\t<div>{err}</div>\n\t\t\t\t<button onClick={() => mutationEdit.reset()}></button>\n\t\t\t</div>)}\n\t\t\t<PopupConfirm title={\" : \" + name.v} itemId={quest.id} mutationFn={useMutationDeleteQuest} open={deleting.v} close={deleting.setF} />\n\t\t\t<div className={styles.id}>{quest.id}</div>\n\t\t\t<div className={styles.inputs}>\n\t\t\t\t<div></div>\n\t\t\t\t<input type=\"text\" value={name.v} onChange={inp => name.set(inp.target.value)} />\n\t\t\t\t<div></div>\n\t\t\t\t<input type=\"number\" value={reward.v} onChange={inp => reward.set(inp.target.valueAsNumber)} />\n\t\t\t\t<span></span>\n\t\t\t\t<label className={styles.checkbox}>\n\t\t\t\t\t<input type=\"checkbox\" checked={hidden.v} onChange={inp => hidden.set(inp.target.checked)} />\n\t\t\t\t\t<span></span>\n\t\t\t\t</label>\n\t\t\t\t<div></div>\n\t\t\t\t<button\n\t\t\t\t\tclassName={classNames(styles.description, description.v.length > 256 && styles.description_count_too_many)}\n\t\t\t\t\tonClick={popupOpen.setT}\n\t\t\t\t>\n\t\t\t\t\t{description.v}\n\t\t\t\t</button>\n\t\t\t\t{[\n\t\t\t\t\t{ n: 1, questId: quest.dialog1Id, id: dialog1Id, data: dialog1Data, query: dialog1DataQuery, changed: dialog1Changed },\n\t\t\t\t\t{ n: 2, questId: quest.dialog2Id, id: dialog2Id, data: dialog2Data, query: dialog2DataQuery, changed: dialog2Changed },\n\t\t\t\t].map(({ n, questId, id, data, query, changed }) => <Fragment key={n}>\n\t\t\t\t\t<div className={classNames(changed.v && styles.changedHighlight)}> {n}</div>\n\t\t\t\t\t<div className={classNames(styles.buttons, styles.dialogBtns)}>\n\t\t\t\t\t\t{id.v == null ? <>\n\t\t\t\t\t\t\t{!data.v && questId == null ?\n\t\t\t\t\t\t\t\t<button onClick={() =>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tid.set(-1);\n\t\t\t\t\t\t\t\t\tdata.set(createEmptyDialog());\n\t\t\t\t\t\t\t\t}}>+</button>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<button onClick={() => id.set(questId ?? -1)}><IconReload /></button>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</> : <>\n\t\t\t\t\t\t\t<button onClick={() => getDialog(data, query, dialog.runLocal)}><IconView /></button>\n\t\t\t\t\t\t\t<button onClick={() => getDialog(data, query, d => { changed.setT(); editor.open(d); })}><IconEdit /></button>\n\t\t\t\t\t\t\t<button onClick={() => id.set(null)}><IconDelete /></button>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t\t{query.isError && <div style={{ color: \"tomato\" }}></div>}\n\t\t\t\t\t</div>\n\t\t\t\t</Fragment>)}\n\t\t\t</div>\n\t\t\t<div className={styles.buttons}>\n\t\t\t\t{!changed.v && <button onClick={deleting.setT}><IconDelete /></button>}\n\t\t\t\t{changed.v && <button\n\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tmutationEdit.mutate({\n\t\t\t\t\t\t\tname: name.v,\n\t\t\t\t\t\t\tdescription: description.v,\n\t\t\t\t\t\t\treward: reward.v,\n\t\t\t\t\t\t\thidden: hidden.v,\n\t\t\t\t\t\t\tdialog1: (quest.dialog1Id != null && dialog1Id.v == null) ? false : (dialog1Changed.v && dialog1Data.v) || undefined,\n\t\t\t\t\t\t\tdialog2: (quest.dialog2Id != null && dialog2Id.v == null) ? false : (dialog2Changed.v && dialog2Data.v) || undefined,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<IconSave />\n\t\t\t\t</button>}\n\t\t\t\t{changed.v && <button onClick={() => reset()}><IconCancel /></button>}\n\t\t\t</div>\n\t\t\t<Popup title=\" \" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t\t<h2>  \"{name.v}\"</h2>\n\t\t\t\t<textarea\n\t\t\t\t\tclassName={styles.textarea}\n\t\t\t\t\tcols={40}\n\t\t\t\t\trows={10}\n\t\t\t\t\tvalue={description.v}\n\t\t\t\t\tonChange={inp => description.set(inp.target.value)}\n\t\t\t\t/>\n\t\t\t\t<div className={styles.description_count}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span className={description.v.length > 256 ? styles.description_count_too_many : \"\"}>{description.v.length}</span>\n\t\t\t\t\t\t<span>/256</span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</Popup>\n\t\t</div>\n\t);\n}\n\ninterface QuestProps\n{\n\tquest: QuestFull\n}","// extracted by mini-css-extract-plugin\nexport default {\"quests\":\"styles_quests__lnETn\"};","import { useQuestsFull } from \"../../api/quest\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport AddQuest from \"./AddQuest\";\nimport EditStartDialog from \"./EditStartDialog\";\nimport Quest from \"./Quest\";\nimport styles from \"./styles.module.css\"\n\nexport default function ManageQuestPage()\n{\n\tuseTitle(\"\");\n\tconst quests = useQuestsFull();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"0.5rem\" homeBtn>\n\t\t\t<div className=\"calmBack\"></div>\n\t\t\t{quests.isLoading && <Spinner />}\n\t\t\t{displayError(quests)}\n\n\t\t\t<h1> </h1>\n\n\t\t\t<AddQuest />\n\t\t\t<EditStartDialog />\n\n\t\t\t<div className={styles.quests}>\n\t\t\t\t{quests.data?.map(quest => <Quest key={quest.id} quest={quest} />)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { fetchDelete, fetchJsonGet, fetchJsonPost } from \"../utils/fetch\";\nimport type { ImgData } from \"./dataTypes\";\nimport { queryInvalidate, queryListAddItem, queryListDeleteItem, queryListUpdateItem } from \"../utils/query\";\n\nexport interface StoreItem\n{\n\tid: number;\n\tname: string;\n\tprice: number;\n\tcount: \"many\" | \"few\" | \"no\";\n\timg?: string;\n}\n\nexport interface StoreItemFull\n{\n\tid: number;\n\tid_big: string;\n\tname: string;\n\tprice: number;\n\tcount: number;\n\timg?: string;\n}\n\n\nexport function useStoreItems()\n{\n\treturn useQuery(\"storeItems\", async () =>\n\t\tawait fetchJsonGet<StoreItem[]>(\"/api/store_items\")\n\t);\n}\n\nexport function useStoreItemsFull()\n{\n\treturn useQuery(\"storeItemsFull\", async () =>\n\t\tawait fetchJsonGet<StoreItemFull[]>(\"/api/store_items_full\")\n\t);\n}\n\n\nexport function useMutationAddItem(onSuccess?: (data: StoreItemFull) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (itemData: ItemData) =>\n\t\t\tawait fetchJsonPost<StoreItemFull>(\"/api/store_item\", itemData),\n\t\tonSuccess: (data: StoreItemFull) =>\n\t\t{\n\t\t\tqueryListAddItem(queryClient, \"storeItemsFull\", data);\n\t\t\tqueryInvalidate(queryClient, \"storeItems\");\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport interface ItemData\n{\n\tname: string,\n\tprice: number,\n\tcount: number,\n\timg?: ImgData,\n}\n\nexport function useMutationEditItem(itemId: number, onSuccess?: (data: StoreItemFull) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (itemData: ItemData) =>\n\t\t\tawait fetchJsonPost<StoreItemFull>(`/api/store_item/${itemId}`, itemData),\n\t\tonSuccess: (data: StoreItemFull) =>\n\t\t{\n\t\t\tqueryListUpdateItem(queryClient, \"storeItemsFull\", data);\n\t\t\tqueryInvalidate(queryClient, \"storeItems\");\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationDecreaseItem(itemId: number, onSuccess?: (data: StoreItemFull) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchJsonPost<StoreItemFull>(`/api/store_item/${itemId}/decrease`),\n\t\tonSuccess: (data: StoreItemFull) =>\n\t\t{\n\t\t\tqueryListUpdateItem(queryClient, \"storeItemsFull\", data);\n\t\t\tqueryInvalidate(queryClient, \"storeItems\");\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationDeleteItem(itemId: number, onSuccess?: () => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchDelete(`/api/store_item/${itemId}`),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tqueryListDeleteItem(queryClient, \"storeItemsFull\", itemId);\n\t\t\tqueryInvalidate(queryClient, \"storeItems\");\n\t\t\tonSuccess?.();\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__yl-I8\",\"img\":\"styles_img__gddIw\",\"form\":\"styles_form__ASF2C\"};","import { useRef } from \"react\";\nimport { useMutationAddItem } from \"../../../api/store\";\nimport { Form, FormField } from \"../../../components/Form\"\nimport Popup from \"../../../components/Popup\"\nimport Spinner from \"../../../components/Spinner\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport styles from \"./styles.module.css\"\nimport imagefileToData from \"../../../utils/imagefileToData\";\nimport useStateObj from \"../../../utils/useStateObj\";\nimport type { ImgData } from \"../../../api/dataTypes\";\n\nexport default function AddStoreItem()\n{\n\tconst imgData = useStateObj<ImgData | null>(null);\n\tconst nameRef = useRef<HTMLInputElement>(null);\n\tconst priceRef = useRef<HTMLInputElement>(null);\n\tconst countRef = useRef<HTMLInputElement>(null);\n\tconst popupOpen = useStateBool(false);\n\tconst mutationAdd = useMutationAddItem(() =>\n\t{\n\t\timgData.set(null);\n\t\tpopupOpen.setF();\n\t\tif (nameRef.current)\n\t\t\tnameRef.current.value = \"\";\n\t\tif (priceRef.current)\n\t\t\tpriceRef.current.value = \"\";\n\t\tif (countRef.current)\n\t\t\tcountRef.current.value = \"\";\n\t});\n\n\treturn <>\n\t\t<button className={styles.root} onClick={popupOpen.setT}></button>\n\t\t<Popup title=\" \" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t{mutationAdd.isLoading && <Spinner />}\n\t\t\t{displayError(mutationAdd)}\n\t\t\t{imgData.v?.data == \"\" && <Spinner />}\n\t\t\t<Form\n\t\t\t\tclassName={styles.form}\n\t\t\t\tonSubmit={() =>\n\t\t\t\t{\n\t\t\t\t\tconst name = nameRef.current?.value;\n\t\t\t\t\tconst count = countRef.current?.valueAsNumber;\n\t\t\t\t\tconst price = priceRef.current?.valueAsNumber;\n\t\t\t\t\tif (count && name && price)\n\t\t\t\t\t\tmutationAdd.mutate({\n\t\t\t\t\t\t\tcount,\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tprice,\n\t\t\t\t\t\t\timg: imgData.v || undefined,\n\t\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<FormField label=\"\">\n\t\t\t\t\t<div className={styles.img}>\n\t\t\t\t\t\t{imgData.v && <img src={imgData.v.data} alt=\"\" />}\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\"image/png, image/jpeg, image/gif\"\n\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\tonChange={async e =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\timgData.set({ data: \"\", name: \"\" });\n\t\t\t\t\t\t\timgData.set(await imagefileToData(e.target?.files?.[0]!, \"\"));\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"\">\n\t\t\t\t\t<input ref={nameRef} required type=\"text\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"\">\n\t\t\t\t\t<input ref={priceRef} required type=\"number\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"\">\n\t\t\t\t\t<input ref={countRef} required type=\"number\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField>\n\t\t\t\t\t<button type=\"submit\"></button>\n\t\t\t\t</FormField>\n\t\t\t</Form>\n\t\t</Popup>\n\t</>\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__792UO\",\"error\":\"styles_error__EjE0M\",\"id\":\"styles_id__EvI3k\",\"img\":\"styles_img__F6UZc\",\"inputs\":\"styles_inputs__r6vu+\",\"changed\":\"styles_changed__aaZPg\",\"buttons\":\"styles_buttons__X3oNY\",\"btnMinus\":\"styles_btnMinus__5ZzMA\"};","import { useEffect } from \"react\";\nimport { useMutationEditItem, useMutationDeleteItem, useMutationDecreaseItem, type StoreItemFull } from \"../../../api/store\";\nimport PopupConfirm from \"../../../components/PopupConfirm\";\nimport Spinner from \"../../../components/Spinner\";\nimport classNames from \"../../../utils/classNames\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport useStateObj from \"../../../utils/useStateObj\";\nimport styles from \"./styles.module.css\"\nimport type { ImgData } from \"../../../api/dataTypes\";\nimport imagefileToData from \"../../../utils/imagefileToData\";\nimport IconDelete from \"../../../icons/delete\";\nimport IconCancel from \"../../../icons/cancel\";\nimport IconSave from \"../../../icons/save\";\n\nexport default function StoreItem({ item }: StoreItemProps)\n{\n\tconst changed = useStateBool(false);\n\tconst deleting = useStateBool(false);\n\tconst decreasing = useStateBool(false);\n\tconst imgData = useStateObj<ImgData | null>(null, changed.setT);\n\tconst name = useStateObj(item.name, changed.setT);\n\tconst count = useStateObj(item.count, changed.setT);\n\tconst price = useStateObj(item.price, changed.setT);\n\n\tconst mutationEdit = useMutationEditItem(item.id, reset, () => reset());\n\n\tfunction reset(newitem?: StoreItemFull)\n\t{\n\t\timgData.set(null);\n\t\tconst data = newitem || item;\n\t\tname.set(data.name);\n\t\tcount.set(data.count);\n\t\tprice.set(data.price);\n\t\tchanged.setF();\n\t}\n\n\t// eslint-disable-next-line\n\tuseEffect(reset, [item])\n\n\treturn (\n\t\t<div className={classNames(styles.root, changed.v && styles.changed)}>\n\t\t\t{mutationEdit.isLoading && <Spinner block r=\"0.5rem\" />}\n\t\t\t{imgData.v?.data == \"\" && <Spinner block r=\"0.5rem\" />}\n\t\t\t{displayError(mutationEdit, err => <div className={styles.error}>\n\t\t\t\t<div>{err}</div>\n\t\t\t\t<button onClick={() => mutationEdit.reset()}></button>\n\t\t\t</div>)}\n\t\t\t<PopupConfirm title={\" : \" + name.v} itemId={item.id} mutationFn={useMutationDeleteItem} open={deleting.v} close={deleting.setF} />\n\t\t\t<PopupConfirm title={\" -  1: \" + name.v} itemId={item.id} mutationFn={useMutationDecreaseItem} open={decreasing.v} close={decreasing.setF} />\n\t\t\t<div className={styles.id}>{item.id}</div>\n\t\t\t<label className={styles.img}>\n\t\t\t\t{(item.img || imgData.v) && <img src={imgData.v?.data || item.img} alt=\"\" />}\n\t\t\t\t<input\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\taccept=\"image/png, image/jpeg, image/gif\"\n\t\t\t\t\tonChange={async e =>\n\t\t\t\t\t{\n\t\t\t\t\t\timgData.set({ data: \"\", name: \"\" });\n\t\t\t\t\t\timgData.set(await imagefileToData(e.target?.files?.[0]!, \"\"));\n\t\t\t\t\t\te.target.value = \"\";\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</label>\n\t\t\t<div className={styles.inputs}>\n\t\t\t\t<div></div>\n\t\t\t\t<input type=\"text\" value={name.v} onChange={inp => name.set(inp.target.value)} />\n\t\t\t\t<div></div>\n\t\t\t\t<input type=\"number\" value={price.v} onChange={inp => price.set(inp.target.valueAsNumber)} />\n\t\t\t\t<div></div>\n\t\t\t\t<input type=\"number\" value={count.v} onChange={inp => count.set(inp.target.valueAsNumber)} />\n\t\t\t</div>\n\t\t\t<div className={styles.buttons}>\n\t\t\t\t{!changed.v && <button onClick={deleting.setT}><IconDelete /></button>}\n\t\t\t\t{!changed.v && <button className={styles.btnMinus} onClick={decreasing.setT}>-1</button>}\n\t\t\t\t{changed.v && <button\n\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tmutationEdit.mutate({\n\t\t\t\t\t\t\tname: name.v,\n\t\t\t\t\t\t\tcount: count.v,\n\t\t\t\t\t\t\tprice: price.v,\n\t\t\t\t\t\t\timg: imgData.v || undefined,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<IconSave />\n\t\t\t\t</button>}\n\t\t\t\t{changed.v && <button onClick={() => reset()}><IconCancel /></button>}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface StoreItemProps\n{\n\titem: StoreItemFull\n}","// extracted by mini-css-extract-plugin\nexport default {\"items\":\"styles_items__34Dlt\"};","import { useStoreItemsFull } from \"../../api/store\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport AddStoreItem from \"./AddStoreItem\";\nimport StoreItem from \"./StoreItem\";\nimport styles from \"./styles.module.css\"\n\nexport default function ManageStorePage()\n{\n\tuseTitle(\"\");\n\tconst items = useStoreItemsFull();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"0.5rem\" homeBtn>\n\t\t\t{items.isLoading && <Spinner />}\n\t\t\t{displayError(items)}\n\n\t\t\t<h1> </h1>\n\n\t\t\t<AddStoreItem />\n\n\t\t\t<div className={styles.items}>\n\t\t\t\t{items.data?.map(item => <StoreItem key={item.id} item={item} />)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__3AhF7\",\"title\":\"styles_title__AMBJ6\",\"window\":\"styles_window__YHycS\",\"map\":\"styles_map__lp2hs\",\"btns\":\"styles_btns__P557j\",\"btn\":\"styles_btn__rCusk\",\"quest\":\"styles_quest__hR6ry\",\"quest__title\":\"styles_quest__title__GllrO\",\"quest__description\":\"styles_quest__description__UVd4X\",\"quest__dialog\":\"styles_quest__dialog__ndnu+\",\"quest__spacer\":\"styles_quest__spacer__SmzPF\",\"quest__scanner\":\"styles_quest__scanner__Z9SuT\",\"quest__scanner__link\":\"styles_quest__scanner__link__H9Sx0\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__cV7H9\",\"btn\":\"styles_btn__ofavo\"};","import { Link } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\nimport Textbox from \"../Textbox\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function Footer({ curPage = \"\" }: FooterProps)\n{\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<div>\n\t\t\t\t<Textbox small btn highlight={curPage == \"map\"}>\n\t\t\t\t\t<Link className={classNames(styles.btn, \"title\")} to={\"/map\"}></Link>\n\t\t\t\t</Textbox>\n\t\t\t\t<Textbox small btn highlight={curPage == \"timetable\"}>\n\t\t\t\t\t<Link className={classNames(styles.btn, \"title\")} to={\"/timetable\"}></Link>\n\t\t\t\t</Textbox>\n\t\t\t\t<Textbox small btn highlight={curPage == \"store\"}>\n\t\t\t\t\t<Link className={classNames(styles.btn, \"title\")} to={\"/store\"}></Link>\n\t\t\t\t</Textbox>\n\t\t\t\t<Textbox small btn highlight={curPage == \"game\"}>\n\t\t\t\t\t<Link className={classNames(styles.btn, \"title\")} to={\"/game\"}></Link>\n\t\t\t\t</Textbox>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface FooterProps\n{\n\tcurPage?: \"map\" | \"timetable\" | \"quest\" | \"store\" | \"game\" | \"\"\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__gZWUz\",\"body\":\"styles_body__JCH1X\",\"grid\":\"styles_grid__7zDRw\",\"back\":\"styles_back__TDJ1u\",\"close\":\"styles_close__PCOet\"};","import { useMutationSetGroup } from \"../../../api/user\";\nimport displayError from \"../../../utils/displayError\";\nimport Spinner from \"../../Spinner\";\nimport styles from \"./styles.module.css\"\n\nexport default function SelectGroup({ close }: SelectGroupProps)\n{\n\tconst setGroup = useMutationSetGroup(close);\n\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t{setGroup.isLoading && <Spinner />}\n\t\t\t<div className={styles.body}>\n\t\t\t\t<h2>  ?</h2>\n\t\t\t\t{displayError(setGroup, e => <>\n\t\t\t\t\t<h3 style={{ color: \"tomato\" }}>{e}</h3>\n\t\t\t\t\t<button className={styles.close} onClick={close}>  </button>\n\t\t\t\t</>)}\n\t\t\t\t<div className={styles.grid}>\n\t\t\t\t\t<div className={styles.back}></div>\n\t\t\t\t\t<div className={styles.back}></div>\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<button onClick={() => setGroup.mutate({ group: 1 })}></button>\n\t\t\t\t\t<button onClick={() => setGroup.mutate({ group: 2 })}></button>\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface SelectGroupProps\n{\n\tclose: () => void;\n}\n","import { useEffect } from \"react\";\nimport useUser from \"../../api/user\";\nimport useGameDialog from \"../GameDialog\";\nimport SelectGroup from \"./SelectGroup\";\nimport useStateBool from \"../../utils/useStateBool\";\n\nexport default function GameDialogGreetings()\n{\n\tconst user = useUser();\n\tconst dialog = useGameDialog();\n\tconst selectGroup = useStateBool(false);\n\n\tuseEffect(() =>\n\t{\n\t\tif (user.data?.group == 0)\n\t\t\tdialog.run(1, selectGroup.setT);\n\t\t// eslint-disable-next-line\n\t}, [user.data])\n\n\treturn <>\n\t\t{dialog.el()}\n\t\t{selectGroup.v && <SelectGroup close={selectGroup.setF} />}\n\t</>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__sa0ap\",\"rootInner\":\"styles_rootInner__PZESy\",\"shadow\":\"styles_shadow__uQcvr\",\"header\":\"styles_header__thHuO\",\"bodyOuter\":\"styles_bodyOuter__+xkIs\",\"body\":\"styles_body__27+PL\"};","import styles from \"./styles.module.css\"\nimport buttons from \"./buttons.png\";\nimport classNames from \"../../utils/classNames\";\nimport { useEffect, useRef } from \"react\";\n\nexport default function StyledWindow({ children, title = \"Underparty\", footer, className, scrollUpdate, onClose }: StyledWindowProps)\n{\n\tconst contentRef = useRef<HTMLDivElement>(null);\n\n\tuseEffect(() =>\n\t{\n\t\tif (contentRef.current)\n\t\t\tcontentRef.current.scrollTo(0, 0);\n\t\t// eslint-disable-next-line\n\t}, [scrollUpdate])\n\n\treturn (\n\t\t<div className={classNames(styles.root, className)}>\n\t\t\t<div className={styles.shadow}><div></div></div>\n\t\t\t<div className={styles.rootInner}>\n\t\t\t\t<div className={styles.header}>\n\t\t\t\t\t{/* <div>{title}</div> */}\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<button onClick={onClose}>\n\t\t\t\t\t\t<img src={buttons} alt=\"close\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.bodyOuter}>\n\t\t\t\t\t<div className={styles.body}>\n\t\t\t\t\t\t<div ref={contentRef}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{footer}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface StyledWindowProps extends React.PropsWithChildren\n{\n\ttitle?: string,\n\tfooter?: React.ReactNode,\n\tclassName?: string,\n\tscrollUpdate?: any,\n\tdisableScroll?: boolean,\n\tonClose?: () => void,\n}","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__xHRh9\",\"map\":\"styles_map__H3lOS\",\"mark\":\"styles_mark__MdUS7\",\"mark__mark\":\"styles_mark__mark__AO5XS\"};","import { useEffect, useRef } from \"react\";\nimport styles from \"./styles.module.css\"\nimport useStateObj from \"../../../utils/useStateObj\";\n\nexport default function InteractiveMap({ img, imgW, imgH, objects, objectsOpacity = 1, zoomMin = 0.8, zoomMax = 1, disablePadding = false, fillOnStart = false }: InteractiveMapProps)\n{\n\tconst mapEl = useRef<HTMLDivElement>(null);\n\tconst state = useStateObj<MapState>({\n\t\tx: 0,\n\t\ty: 0,\n\t\tw: imgW,\n\t\th: imgH,\n\t\tzoom: 1,\n\t\ttoCenter: true,\n\t\tmarkClick: undefined,\n\t\twindow: {\n\t\t\tw: 0,\n\t\t\th: 0,\n\t\t},\n\t\tmoving: {\n\t\t\tactive: false,\n\t\t\tsx: 0,\n\t\t\tsy: 0,\n\t\t\tsix: 0,\n\t\t\tsiy: 0,\n\t\t},\n\t\tzooming: {\n\t\t\tactive: false,\n\t\t\tsd: 0,\n\t\t\tsz: 0,\n\t\t},\n\t});\n\n\tuseEffect(\n\t\t() => state.set(v => ({ ...v, s: 0, y: 0, w: imgW, h: imgH, zoom: 1, toCenter: true })),\n\t\t// eslint-disable-next-line\n\t\t[img, imgH, imgW]\n\t);\n\tuseEffect(() =>\n\t{\n\t\tif (!mapEl.current) return;\n\t\tconst el = mapEl.current;\n\t\tfunction setSize()\n\t\t{\n\t\t\tstate.set(v =>\n\t\t\t{\n\t\t\t\tv.window.w = el.clientWidth;\n\t\t\t\tv.window.h = el.clientHeight;\n\t\t\t\tif (v.toCenter)\n\t\t\t\t{\n\t\t\t\t\tv.toCenter = false;\n\t\t\t\t\tif (fillOnStart)\n\t\t\t\t\t\tv.zoom = Math.max(v.window.w / imgW, v.window.h / imgH);\n\t\t\t\t\telse\n\t\t\t\t\t\tv.zoom = Math.min(v.window.w / imgW, v.window.h / imgH);\n\t\t\t\t\tv.w = imgW * v.zoom;\n\t\t\t\t\tv.h = imgH * v.zoom;\n\t\t\t\t\tv.x = (v.window.w - v.w) / 2;\n\t\t\t\t\tv.y = (v.window.h - v.h) / 2;\n\t\t\t\t}\n\t\t\t\treturn { ...v };\n\t\t\t});\n\t\t}\n\t\tsetSize();\n\t\twindow.addEventListener(\"resize\", setSize);\n\t\treturn () =>\n\t\t{\n\t\t\twindow.removeEventListener(\"resize\", setSize);\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, [mapEl, state.v.toCenter]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!mapEl.current) return;\n\t\tconst el = mapEl.current;\n\n\t\tfunction onMouseDown(e: MouseEvent)\n\t\t{\n\t\t\te.preventDefault();\n\t\t\tstate.set(v =>\n\t\t\t{\n\t\t\t\tv.moving.active = true;\n\t\t\t\tv.moving.sx = e.screenX;\n\t\t\t\tv.moving.sy = e.screenY;\n\t\t\t\tv.moving.six = v.x;\n\t\t\t\tv.moving.siy = v.y;\n\t\t\t\treturn { ...v };\n\t\t\t});\n\t\t}\n\t\tfunction onMouseMove(e: MouseEvent)\n\t\t{\n\t\t\te.preventDefault();\n\t\t\tstate.set(v =>\n\t\t\t{\n\t\t\t\tif (!v.moving.active) return v;\n\t\t\t\tconst dx = (e.screenX - v.moving.sx);\n\t\t\t\tconst dy = (e.screenY - v.moving.sy);\n\t\t\t\tv.x = v.moving.six + dx;\n\t\t\t\tv.y = v.moving.siy + dy;\n\t\t\t\tconst d = dx * dx + dy * dy;\n\t\t\t\tif (d > 100) v.markClick = undefined;\n\t\t\t\tapplyBoundaries(v);\n\t\t\t\treturn { ...v };\n\t\t\t});\n\t\t}\n\t\tfunction onMouseUp(e: MouseEvent)\n\t\t{\n\t\t\te.preventDefault();\n\t\t\tstate.set(v =>\n\t\t\t{\n\t\t\t\tv.moving.active = false;\n\t\t\t\tif (v.markClick)\n\t\t\t\t{\n\t\t\t\t\tconst markClick = v.markClick;\n\t\t\t\t\tv.markClick = undefined;\n\t\t\t\t\tsetTimeout(markClick);\n\t\t\t\t}\n\t\t\t\treturn { ...v };\n\t\t\t});\n\t\t}\n\t\tfunction rezoom(v: MapState, oldZ: number)\n\t\t{\n\t\t\tv.zoom = Math.max(Math.min(v.zoom, zoomMax), Math.min(v.window.w / imgW, v.window.h / imgH) * zoomMin);\n\t\t\tv.x -= v.window.w / 2;\n\t\t\tv.y -= v.window.h / 2;\n\t\t\tv.x /= oldZ;\n\t\t\tv.y /= oldZ;\n\t\t\tv.x *= v.zoom;\n\t\t\tv.y *= v.zoom;\n\t\t\tv.x += v.window.w / 2;\n\t\t\tv.y += v.window.h / 2;\n\t\t\tv.w = imgW * v.zoom;\n\t\t\tv.h = imgH * v.zoom;\n\t\t\tapplyBoundaries(v);\n\t\t}\n\t\tfunction applyBoundaries(v: MapState)\n\t\t{\n\t\t\tif (disablePadding)\n\t\t\t{\n\t\t\t\tif (v.w < v.window.w)\n\t\t\t\t\tv.x = (v.window.w - v.w) / 2;\n\t\t\t\telse\n\t\t\t\t\tv.x = Math.max(Math.min(v.x, 0), -(v.w - v.window.w));\n\t\t\t\tif (v.h < v.window.h)\n\t\t\t\t\tv.y = (v.window.h - v.h) / 2;\n\t\t\t\telse\n\t\t\t\t\tv.y = Math.max(Math.min(v.y, 0), -(v.h - v.window.h));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tv.x = Math.max(Math.min(v.x, v.window.w / 2), -(v.w - v.window.w / 2));\n\t\t\t\tv.y = Math.max(Math.min(v.y, v.window.h / 2), -(v.h - v.window.h / 2));\n\t\t\t}\n\t\t}\n\t\tfunction onWheel(e: WheelEvent)\n\t\t{\n\t\t\te.preventDefault();\n\t\t\tstate.set(v =>\n\t\t\t{\n\t\t\t\tconst z = v.zoom;\n\t\t\t\tv.zoom = e.deltaY < 0 ? v.zoom * 1.1 : v.zoom / 1.1;\n\t\t\t\trezoom(v, z);\n\t\t\t\treturn { ...v };\n\t\t\t});\n\t\t}\n\t\tfunction onTouchStart(e: TouchEvent)\n\t\t{\n\t\t\te.preventDefault();\n\t\t\tstate.set(v =>\n\t\t\t{\n\t\t\t\tif (e.touches.length == 1)\n\t\t\t\t{\n\t\t\t\t\tv.moving.active = true;\n\t\t\t\t\tv.moving.sx = e.touches[0].clientX;\n\t\t\t\t\tv.moving.sy = e.touches[0].clientY;\n\t\t\t\t\tv.moving.six = v.x;\n\t\t\t\t\tv.moving.siy = v.y;\n\t\t\t\t\treturn { ...v };\n\t\t\t\t}\n\t\t\t\telse if (e.touches.length == 2)\n\t\t\t\t{\n\t\t\t\t\tv.moving.active = false;\n\t\t\t\t\tv.zooming.active = true;\n\t\t\t\t\tconst x1 = e.touches[0].clientX;\n\t\t\t\t\tconst y1 = e.touches[0].clientY;\n\t\t\t\t\tconst x2 = e.touches[1].clientX;\n\t\t\t\t\tconst y2 = e.touches[1].clientY;\n\t\t\t\t\tconst dx = (x1 - x2);\n\t\t\t\t\tconst dy = (y1 - y2);\n\t\t\t\t\tv.zooming.sd = dx * dx + dy * dy;\n\t\t\t\t\tv.zooming.sz = v.zoom;\n\t\t\t\t\treturn { ...v };\n\t\t\t\t}\n\t\t\t\treturn v;\n\t\t\t});\n\t\t};\n\t\tfunction onTouchMove(e: TouchEvent)\n\t\t{\n\t\t\te.preventDefault();\n\t\t\tstate.set(v =>\n\t\t\t{\n\t\t\t\tif (v.moving.active && e.touches.length == 1)\n\t\t\t\t{\n\t\t\t\t\tconst dx = (e.touches[0].clientX - v.moving.sx);\n\t\t\t\t\tconst dy = (e.touches[0].clientY - v.moving.sy);\n\t\t\t\t\tv.x = v.moving.six + dx;\n\t\t\t\t\tv.y = v.moving.siy + dy;\n\t\t\t\t\tconst d = dx * dx + dy * dy;\n\t\t\t\t\tif (d > 100) v.markClick = undefined;\n\t\t\t\t\tapplyBoundaries(v);\n\t\t\t\t\treturn { ...v };\n\t\t\t\t}\n\t\t\t\tif (v.zooming.active && e.touches.length == 2)\n\t\t\t\t{\n\t\t\t\t\tconst z = v.zoom;\n\t\t\t\t\tconst x1 = e.touches[0].clientX;\n\t\t\t\t\tconst y1 = e.touches[0].clientY;\n\t\t\t\t\tconst x2 = e.touches[1].clientX;\n\t\t\t\t\tconst y2 = e.touches[1].clientY;\n\t\t\t\t\tconst dx = (x1 - x2);\n\t\t\t\t\tconst dy = (y1 - y2);\n\t\t\t\t\tconst d = dx * dx + dy * dy;\n\t\t\t\t\tv.zoom = v.zooming.sz * Math.sqrt(d / v.zooming.sd);\n\t\t\t\t\tv.markClick = undefined;\n\t\t\t\t\trezoom(v, z);\n\t\t\t\t\treturn { ...v };\n\t\t\t\t}\n\t\t\t\treturn v;\n\t\t\t});\n\t\t};\n\t\tfunction onTouchEnd(e: TouchEvent)\n\t\t{\n\t\t\te.preventDefault();\n\t\t\tstate.set(v =>\n\t\t\t{\n\t\t\t\tv.moving.active = false;\n\t\t\t\tv.zooming.active = false;\n\t\t\t\tif (e.touches.length == 1)\n\t\t\t\t{\n\t\t\t\t\tv.moving.active = true;\n\t\t\t\t\tv.moving.sx = e.touches[0].clientX;\n\t\t\t\t\tv.moving.sy = e.touches[0].clientY;\n\t\t\t\t\tv.moving.six = v.x;\n\t\t\t\t\tv.moving.siy = v.y;\n\t\t\t\t}\n\t\t\t\tif (v.markClick)\n\t\t\t\t{\n\t\t\t\t\tconst markClick = v.markClick;\n\t\t\t\t\tv.markClick = undefined;\n\t\t\t\t\tsetTimeout(markClick);\n\t\t\t\t}\n\t\t\t\treturn { ...v };\n\t\t\t});\n\t\t};\n\t\tel.addEventListener(\"wheel\", onWheel);\n\t\tel.addEventListener(\"mousedown\", onMouseDown);\n\t\tel.addEventListener(\"mousemove\", onMouseMove);\n\t\tel.addEventListener(\"mouseup\", onMouseUp);\n\t\tel.addEventListener(\"touchstart\", onTouchStart);\n\t\tel.addEventListener(\"touchmove\", onTouchMove);\n\t\tel.addEventListener(\"touchend\", onTouchEnd);\n\t\treturn () =>\n\t\t{\n\t\t\tel.removeEventListener(\"wheel\", onWheel);\n\t\t\tel.removeEventListener(\"mousedown\", onMouseDown);\n\t\t\tel.removeEventListener(\"mousemove\", onMouseMove);\n\t\t\tel.removeEventListener(\"mouseup\", onMouseUp);\n\t\t\tel.removeEventListener(\"touchstart\", onTouchStart);\n\t\t\tel.removeEventListener(\"touchmove\", onTouchMove);\n\t\t\tel.removeEventListener(\"touchend\", onTouchEnd);\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, [mapEl, zoomMin, zoomMax, disablePadding])\n\n\tfunction setMarkClick(onClick: (() => void) | undefined)\n\t{\n\t\tstate.set(v =>\n\t\t{\n\t\t\tv.markClick = onClick;\n\t\t\treturn { ...v };\n\t\t})\n\t}\n\n\treturn (\n\t\t<div className={styles.root} ref={mapEl}>\n\t\t\t<div className={styles.map} style={{\n\t\t\t\t\"--x\": `${state.v.x}px`,\n\t\t\t\t\"--y\": `${state.v.y}px`,\n\t\t\t\t\"--w\": `${state.v.w}px`,\n\t\t\t\t\"--h\": `${state.v.h}px`,\n\t\t\t} as React.CSSProperties}>\n\t\t\t\t<img src={img} alt=\"\" />\n\t\t\t\t{(objects?.filter(v => !!v) as MapObject[]).map((v, i) => <div\n\t\t\t\t\tkey={i}\n\t\t\t\t\tclassName={styles.mark}\n\t\t\t\t\tonMouseDown={() => setMarkClick(v.onClick)}\n\t\t\t\t\tonTouchStart={() => setMarkClick(v.onClick)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tleft: `${v.x}%`,\n\t\t\t\t\t\ttop: `${v.y}%`,\n\t\t\t\t\t\twidth: `${v.w}%`,\n\t\t\t\t\t\theight: `${v.h}%`,\n\t\t\t\t\t\topacity: objectsOpacity,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<img src={v.img} alt=\"\" />\n\t\t\t\t\t<div className={styles.mark__mark} style={{ \"animationDelay\": `-${i * 150}ms` }}>!</div>\n\t\t\t\t</div>)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface InteractiveMapProps\n{\n\timg: string;\n\timgW: number;\n\timgH: number;\n\tzoomMin?: number;\n\tzoomMax?: number;\n\tdisablePadding?: boolean;\n\tfillOnStart?: boolean;\n\tobjectsOpacity?: number;\n\tobjects?: (MapObject | null)[];\n}\ninterface MapObject\n{\n\tx: number;\n\ty: number;\n\tw: number;\n\th: number;\n\timg: string;\n\tonClick?: () => void;\n}\n\ninterface MapState\n{\n\tx: number;\n\ty: number;\n\tw: number;\n\th: number;\n\tzoom: number;\n\ttoCenter: boolean;\n\tmarkClick: (() => void) | undefined;\n\twindow: {\n\t\tw: number,\n\t\th: number,\n\t}\n\tmoving: {\n\t\tactive: boolean;\n\t\tsx: number;\n\t\tsy: number;\n\t\tsix: number;\n\t\tsiy: number;\n\t}\n\tzooming: {\n\t\tactive: boolean,\n\t\tsd: number,\n\t\tsz: number,\n\t}\n}","import styles from \"./styles.module.css\"\nimport map1 from \"./map1.png\";\nimport map2 from \"./map2.png\";\nimport map3 from \"./map3.png\";\nimport mark_mady from \"./marks/mady.png\";\nimport mark_info from \"./marks/info.png\";\nimport mark_indi from \"./marks/indi.png\";\nimport mark_game from \"./marks/game.png\";\nimport mark_stand from \"./marks/stand.png\";\nimport mark_banner from \"./marks/banner.png\";\nimport Layout from \"../../components/Layout\";\nimport Footer from \"../../components/Footer\";\nimport useStateObj, { useStateObjExt } from \"../../utils/useStateObj\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport GameDialogGreetings from \"../../components/GameDialogGreetings\";\nimport classNames from \"../../utils/classNames\";\nimport Textbox from \"../../components/Textbox\";\nimport StyledWindow from \"../../components/StyledWindow\";\nimport InteractiveMap from \"./InteractiveMap\";\nimport useGameDialog from \"../../components/GameDialog\";\nimport { useMutationOpenQuest, useQuests, type Quest } from \"../../api/quest\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport { Link } from \"react-router-dom\";\n\nexport default function MapPage()\n{\n\tuseTitle(\"\");\n\tconst dialog = useGameDialog();\n\tconst mutationOpen = useMutationOpenQuest();\n\tconst openedQuest = useStateObjExt<Quest | null>(null, v =>\n\t{\n\t\tif (v && v.dialogId != null && !v.opened)\n\t\t\tdialog.run(v.dialogId, () =>\n\t\t\t{\n\t\t\t\tmutationOpen.mutate(v.id);\n\t\t\t\tv.opened = true;\n\t\t\t});\n\t});\n\tconst quests = useQuests();\n\tconst map = useStateObj(0, () => openedQuest.set(null));\n\n\tfunction questMark(id: number, img: string, x: number, y: number, w: number, h: number)\n\t{\n\t\tif (!quests.isSuccess) return null;\n\t\tconst quest = quests.data.find(v => v.id == id);\n\t\tif (!quest || quest.completed) return null;\n\t\treturn {\n\t\t\timg, x, y, w, h,\n\t\t\tonClick: () => openedQuest.set(quest),\n\t\t}\n\t}\n\tfunction questMarkDepends(dependsOnId: number, id: number, img: string, x: number, y: number, w: number, h: number)\n\t{\n\t\tif (!quests.isSuccess) return null;\n\t\tconst questDepends = quests.data.find(v => v.id == dependsOnId);\n\t\tif (!questDepends?.completed) return null;\n\t\tconst quest = quests.data.find(v => v.id == id);\n\t\tif (!quest || quest.completed) return null;\n\t\treturn {\n\t\t\timg, x, y, w, h,\n\t\t\tonClick: () => openedQuest.set(quest),\n\t\t}\n\t}\n\n\treturn (\n\t\t<Layout centeredPage className={styles.root} footer={<Footer curPage=\"map\" />}>\n\t\t\t{dialog.el()}\n\t\t\t<GameDialogGreetings />\n\t\t\t{quests.isLoading && <Spinner />}\n\t\t\t<h1 className={classNames(\"title\", styles.title)}></h1>\n\t\t\t<StyledWindow className={styles.window} onClose={() => openedQuest.set(null)}>\n\t\t\t\t{displayError(quests)}\n\t\t\t\t<div className={styles.map} style={{ display: openedQuest.v ? \"none\" : \"\" }}>\n\t\t\t\t\t<InteractiveMap\n\t\t\t\t\t\timg={[map1, map2, map3][map.v]}\n\t\t\t\t\t\timgW={2150}\n\t\t\t\t\t\timgH={1512}\n\t\t\t\t\t\tzoomMin={1}\n\t\t\t\t\t\tdisablePadding\n\t\t\t\t\t\tfillOnStart\n\t\t\t\t\t\t// objectsOpacity={0.5}\n\t\t\t\t\t\tobjects={quests.isSuccess ? [[\n\t\t\t\t\t\t\tquestMark(1, mark_mady, 3.6, 6.9, 11.2, 14,),\n\t\t\t\t\t\t\tquestMark(2, mark_info, 56.5, 75.3, 21.2, 17.1),\n\t\t\t\t\t\t\tquestMarkDepends(2, 3, mark_info, 56.5, 75.3, 21.2, 17.1),\n\t\t\t\t\t\t], [\n\t\t\t\t\t\t\tquestMark(1, mark_mady, 3.6, 6.9, 11.2, 14,),\n\t\t\t\t\t\t\tquestMark(4, mark_indi, 4.7, 26.3, 17.9, 35.5),\n\t\t\t\t\t\t\tquestMark(5, mark_game, 23.9, 45.5, 12.2, 19.7),\n\t\t\t\t\t\t\tquestMark(6, mark_stand, 37.4, 49.9, 11.2, 21.2),\n\t\t\t\t\t\t\tquestMark(7, mark_banner, 62.7, 47.5, 9.1, 19.1),\n\t\t\t\t\t\t], [\n\t\t\t\t\t\t\tquestMark(1, mark_mady, 3.6, 6.9, 11.2, 14,),\n\t\t\t\t\t\t]][map.v] : []}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{openedQuest.v &&\n\t\t\t\t\t<div className={styles.quest}>\n\t\t\t\t\t\t<div className={classNames(\"title\", styles.quest__title)}>\n\t\t\t\t\t\t\t<span>{openedQuest.v.name}</span>\n\t\t\t\t\t\t\t<span>{openedQuest.v.reward}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Textbox dark>\n\t\t\t\t\t\t\t<div className={styles.quest__description}>{openedQuest.v.description || \" \"}</div>\n\t\t\t\t\t\t</Textbox>\n\t\t\t\t\t\t{openedQuest.v.dialogId != null &&\n\t\t\t\t\t\t\t<Textbox btn>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={classNames(\"title\", styles.quest__dialog)}\n\t\t\t\t\t\t\t\t\tonClick={() => openedQuest.v && openedQuest.v.dialogId != null && dialog.run(openedQuest.v.dialogId)}\n\t\t\t\t\t\t\t\t></button>\n\t\t\t\t\t\t\t</Textbox>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div className={styles.quest__spacer}></div>\n\t\t\t\t\t\t<Textbox btn className={styles.quest__scanner}>\n\t\t\t\t\t\t\t<Link to=\"/scanner\" className={styles.quest__scanner__link}>\n\t\t\t\t\t\t\t\t<div className=\"title\"></div>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Textbox>\n\t\t\t\t\t</div>}\n\t\t\t</StyledWindow>\n\t\t\t<div className={styles.btns}>\n\t\t\t\t<Textbox small btn highlight={map.v == 0}>\n\t\t\t\t\t<button onClick={() => map.set(0)} className={classNames(styles.btn, \"title\")}> 1</button>\n\t\t\t\t</Textbox>\n\t\t\t\t<Textbox small btn highlight={map.v == 1}>\n\t\t\t\t\t<button onClick={() => map.set(1)} className={classNames(styles.btn, \"title\")}> 2</button>\n\t\t\t\t</Textbox>\n\t\t\t\t<Textbox small btn highlight={map.v == 2}>\n\t\t\t\t\t<button onClick={() => map.set(2)} className={classNames(styles.btn, \"title\")}> 3</button>\n\t\t\t\t</Textbox>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","import { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode\"\n\nexport default function QrCode({ code, scale = 10, margin = 1, color = \"#000000\", colorBg = \"#ffffff\" }: QrCodeProps)\n{\n\tconst [qrcode, setQrcode] = useState(\"\");\n\tuseEffect(() =>\n\t{\n\t\tif (!code) return;\n\t\tsetQrcode(\"\")\n\t\tQRCode.toDataURL(code, { errorCorrectionLevel: \"H\", scale, margin, color: { dark: color, light: colorBg } }, (e, url) => setQrcode(url));\n\t}, [code, color, scale, margin, colorBg]);\n\n\treturn (\n\t\t<img src={qrcode} alt={code} style={{ width: \"100%\" }} />\n\t);\n}\n\ninterface QrCodeProps\n{\n\tscale?: number\n\tmargin?: number\n\tcode?: string,\n\tcolor?: string,\n\tcolorBg?: string,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__sSzNc\",\"qr\":\"styles_qr__cpZSD\"};","import useUser from \"../../api/user\";\nimport Layout from \"../../components/Layout\";\nimport QrCode from \"../../components/QrCode\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function PromotePage({ role }: PromoteProps)\n{\n\tuseTitle(\"\");\n\tconst user = useUser();\n\tconst roleText = {\n\t\t\"worker\": \"\",\n\t\t\"manager\": \"\",\n\t}[role];\n\tconst roleText2 = {\n\t\t\"worker\": \"\",\n\t\t\"manager\": \"\",\n\t}[role];\n\tif (!roleText) return <Layout>!</Layout>;\n\n\treturn (\n\t\t<Layout centered gap=\"1rem\" height100 className={styles.root} homeBtn>\n\t\t\t<h1>  {roleText}</h1>\n\t\t\t<div className={styles.qr}>\n\t\t\t\t<QrCode code={`promote_${role}_${user.data?.id}`} colorBg=\"#ffffff00\" scale={13} />\n\t\t\t</div>\n\t\t\t<h3>    {roleText2}</h3>\n\t\t</Layout>\n\t);\n}\n\ninterface PromoteProps\n{\n\trole: \"worker\" | \"manager\",\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__CEdGL\",\"background\":\"styles_background__dxeLP\",\"body\":\"styles_body__o-6ZK\",\"window\":\"styles_window__ASnVo\",\"title\":\"styles_title__6wHPv\",\"btn\":\"styles_btn__lL+tu\",\"btn_empty\":\"styles_btn_empty__3NneV\",\"items\":\"styles_items__yJ9sj\",\"quests\":\"styles_quests__58NxQ\",\"quest\":\"styles_quest__65tbN\",\"quest_completed\":\"styles_quest_completed__6XOvB\",\"questDescription\":\"styles_questDescription__bMEbk\",\"questDescription__body\":\"styles_questDescription__body__-HZ3d\"};","import { useMutationOpenQuest, useQuests, type Quest } from \"../../api/quest\";\nimport Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport items from \"./items.png\"\nimport btn from \"./btn.png\"\nimport styles from \"./styles.module.css\"\nimport StyledWindow from \"../../components/StyledWindow\";\nimport { useStateObjExt } from \"../../utils/useStateObj\";\nimport { Link } from \"react-router-dom\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport classNames from \"../../utils/classNames\";\nimport useGameDialog from \"../../components/GameDialog\";\n\nexport default function QuestPage()\n{\n\tuseTitle(\"\");\n\tconst dialog = useGameDialog();\n\tconst mutationOpen = useMutationOpenQuest();\n\tconst openQuest = useStateObjExt<Quest | null>(null, v =>\n\t{\n\t\tif (v && v.dialogId != null && !v.opened)\n\t\t\tdialog.run(v.dialogId, () =>\n\t\t\t{\n\t\t\t\tmutationOpen.mutate(v.id);\n\t\t\t\tv.opened = true;\n\t\t\t});\n\t});\n\tconst quests = useQuests();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1em\" className={styles.root} footer={<Footer curPage=\"quest\" />}>\n\t\t\t{dialog.el()}\n\t\t\t<div className={styles.background}></div>\n\t\t\t<h1 className={styles.title}>Underparty</h1>\n\t\t\t{quests.isLoading && <Spinner />}\n\t\t\t<div className={styles.body}>\n\t\t\t\t<StyledWindow\n\t\t\t\t\tclassName={styles.window}\n\t\t\t\t\ttitle=\"\"\n\t\t\t\t\tfooter={<img className={styles.items} src={items} alt=\"\" />}\n\t\t\t\t\tonClose={() => openQuest.set(null)}\n\t\t\t\t>\n\t\t\t\t\t{openQuest.v ?\n\t\t\t\t\t\t<div className={styles.questDescription}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={classNames(styles.quest, openQuest.v.completed && styles.quest_completed)}\n\t\t\t\t\t\t\t\tkey={openQuest.v.id}\n\t\t\t\t\t\t\t\tonClick={() => openQuest.set(null)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span>{openQuest.v.name}</span>\n\t\t\t\t\t\t\t\t<span>{renderReward(openQuest.v.reward)}</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{openQuest.v && openQuest.v.dialogId != null ?\n\t\t\t\t\t\t\t\t<button onClick={() => openQuest.v && openQuest.v.dialogId != null && dialog.run(openQuest.v.dialogId)}></button>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<div className={styles.questDescription__body}>{openQuest.v.description || \" \"}</div>\n\t\t\t\t\t\t\t<Link to=\"/scanner\" className={styles.btn}>\n\t\t\t\t\t\t\t\t<img src={btn} alt=\"\" />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<div className={styles.quests}>\n\t\t\t\t\t\t\t{displayError(quests)}\n\t\t\t\t\t\t\t{quests.data && (fakeQuests.concat(quests.data)).map(quest =>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={classNames(styles.quest, quest.completed && styles.quest_completed)}\n\t\t\t\t\t\t\t\t\tkey={quest.id}\n\t\t\t\t\t\t\t\t\tonClick={() => openQuest.set(quest)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>{quest.name}</span>\n\t\t\t\t\t\t\t\t\t<span>{renderReward(quest.reward)}</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>}\n\t\t\t\t</StyledWindow>\n\t\t\t\t{!openQuest.v ?\n\t\t\t\t\t<Link to=\"/scanner\" className={styles.btn}>\n\t\t\t\t\t\t<img src={btn} alt=\"\" />\n\t\t\t\t\t</Link>\n\t\t\t\t\t: <div className={styles.btn_empty}></div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n\nconst fakeQuests: Quest[] = [\n\t{\n\t\tid: -1,\n\t\tname: \"\",\n\t\tdescription: \"  [],      []    GGG!\",\n\t\treward: Infinity,\n\t\tcompleted: false,\n\t\tdialogId: -1,\n\t\topened: false,\n\t}\n]\n\nfunction renderReward(reward: number)\n{\n\tif (!isFinite(reward)) return \"\";\n\treturn reward + \"G\";\n}\n","import { useMutation, useQueryClient } from \"react-query\";\nimport { fetchJsonPost } from \"../utils/fetch\";\nimport { createEmptyUser, type User } from \"./user\";\nimport { queryInvalidate } from \"../utils/query\";\n\n\nexport default function useMutationScanner(onSuccess?: (data: ScannerRes) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (scannerData: ScannerData) =>\n\t\t{\n\t\t\tconst res = await fetchJsonPost<ScannerRes>(\"/api/scanner\", scannerData)\n\t\t\tqueryClient.setQueryData<User>(\"user\", user =>\n\t\t\t{\n\t\t\t\tuser = user || createEmptyUser();\n\t\t\t\tuser.balance = res.balance;\n\t\t\t\tif (res.res == \"ok\" && res.action == \"promote\")\n\t\t\t\t\tqueryInvalidate(queryClient, \"user\");\n\t\t\t\tif (res.res == \"ok\" && res.action == \"quest\")\n\t\t\t\t\tqueryInvalidate(queryClient, \"quests\");\n\t\t\t\treturn user;\n\t\t\t});\n\t\t\treturn res;\n\t\t},\n\t\tonSuccess: onSuccess,\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\ninterface ScannerData\n{\n\tcode: string,\n}\n\nexport interface ScannerRes\n{\n\tres: \"ok\" | \"wrong\" | \"error\",\n\taction: \"quest\" | \"store\" | \"send\" | \"promote\",\n\tvalue: number,\n\tmsg: string,\n\tbalance: number,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__QdJnV\",\"msg\":\"styles_msg__plnAU\",\"msg_visible\":\"styles_msg_visible__G0rDm\",\"msg_dimmed\":\"styles_msg_dimmed__0Xs60\",\"bar\":\"styles_bar__VuYbs\",\"bar_full\":\"styles_bar_full__poY0b\"};","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"styles_error__EtK3I\",\"video\":\"styles_video__b88Zl\"};","import { useState } from \"react\";\n\nexport default function useSound(url: string, loop = false)\n{\n\tconst [audio] = useState(() =>\n\t{\n\t\tconst audio = new Audio(url)\n\t\taudio.preload = \"auto\";\n\t\tif (loop)\n\t\t\taudio.addEventListener(\"ended\", audio.play);\n\t\treturn audio;\n\t});\n\n\tconst play = () =>\n\t{\n\t\taudio.currentTime = 0;\n\t\taudio.play();\n\t};\n\n\treturn play;\n};\n","import styles from \"./styles.module.css\"\nimport beep from \"./beep.mp3\";\nimport { useEffect, useState } from \"react\";\nimport useSound from \"../useSound\";\nimport QrScanner from \"qr-scanner\";\n\nlet onScan = (r: string) => { };\nlet onError = () => { };\nlet error = false;\nlet scannerEl: HTMLDivElement | null = null;\nlet scanner: QrScanner | null = null;\n\nexport default function useScanner(pause = false, afterScanTimeout = 500)\n{\n\tif (!scanner)\n\t{\n\t\tscannerEl = document.createElement(\"div\");\n\t\tdocument.body.appendChild(scannerEl);\n\t\tscannerEl.style.display = \"flex\";\n\t\tscannerEl.style.backgroundColor = \"black\";\n\n\t\tconst video = document.createElement(\"video\");\n\t\tscannerEl.appendChild(video);\n\t\tscanner = new QrScanner(\n\t\t\tvideo,\n\t\t\tresult => onScan(result.data),\n\t\t\t{\n\t\t\t\thighlightScanRegion: true,\n\t\t\t\tmaxScansPerSecond: 10,\n\t\t\t},\n\t\t);\n\t}\n\n\tuseEffect(() =>\n\t{\n\t\tsetTimeout(() =>\n\t\t\tscanner?.start().catch(() =>\n\t\t\t{\n\t\t\t\tsetTimeout(() =>\n\t\t\t\t{\n\t\t\t\t\tscanner?.start().catch(() => onError());\n\t\t\t\t}, 250)\n\t\t\t}), 100)\n\t\treturn () =>\n\t\t{\n\t\t\tscanner?.stop();\n\t\t}\n\t}, []);\n\n\tconst [isTimeout, setIsTimeout] = useState(false);\n\tconst [scanned, setScanned] = useState(\"\");\n\tconst [isError, setIsError] = useState(error);\n\tconst playBeep = useSound(beep);\n\n\tonScan = (r: string) =>\n\t{\n\t\tif (isTimeout || pause) return;\n\t\tsetScanned(r);\n\t\tsetIsTimeout(true);\n\t\tplayBeep();\n\t\tsetTimeout(() =>\n\t\t{\n\t\t\tsetScanned(\"\");\n\t\t\tsetIsTimeout(false);\n\t\t}, afterScanTimeout);\n\t}\n\tonError = () =>\n\t{\n\t\terror = true;\n\t\tsetIsError(true);\n\t}\n\n\tif (isError)\n\t\treturn {\n\t\t\tscanned,\n\t\t\tscanner: <div className={styles.error}>\n\t\t\t\t<h1>   </h1>\n\t\t\t\t<p>      ,   .</p>\n\t\t\t\t<p>  .</p>\n\t\t\t</div>\n\t\t};\n\n\treturn {\n\t\tscanned,\n\t\tscanner: <div>\n\t\t\t<div\n\t\t\t\tref={ref =>\n\t\t\t\t{\n\t\t\t\t\tif (!ref) return;\n\t\t\t\t\tref.innerHTML = \"\";\n\t\t\t\t\tref.appendChild(scannerEl!);\n\t\t\t\t}}\n\t\t\t\tclassName={styles.video}\n\t\t\t></div>\n\t\t</div>\n\t};\n}\n","import { useEffect, useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport useScanner from \"../../utils/useScanner\";\nimport { UseMutationResult } from \"react-query\";\nimport { formatError } from \"../../utils/displayError\";\nimport Spinner from \"../Spinner\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function Scanner<Res, Data>({ useMutation, onScan, formatMsg, onRes, className, pause }: ScannerProps<Res, Data>)\n{\n\tconst [msg, setMsg] = useState(\"\");\n\tconst [err, setErr] = useState(\"\");\n\tconst barRef = useRef<HTMLDivElement>(null);\n\tconst mutation = useMutation(r =>\n\t{\n\t\tsetMsg(formatMsg(r));\n\t\tsetErr(\"\");\n\t\tonMutated();\n\t\tonRes?.(r);\n\t}, err =>\n\t{\n\t\tsetMsg(\"\");\n\t\tsetErr(formatError(err));\n\t\tonMutated();\n\t});\n\tconst { scanned, scanner } = useScanner(!mutation.isIdle || pause);\n\n\tfunction onMutated()\n\t{\n\t\tsetTimeout(() => mutation.reset(), 1000);\n\t\tbarRef.current?.classList.add(styles.bar_full);\n\t\tsetTimeout(() => barRef.current?.classList.remove(styles.bar_full), 100);\n\t}\n\n\tuseEffect(() =>\n\t{\n\t\tif (scanned == \"\" || !mutation.isIdle) return;\n\t\tsetMsg(\"\");\n\t\tsetErr(\"\");\n\t\tconst data = onScan(scanned);\n\t\tif (data)\n\t\t\tmutation.mutate(data);\n\t\telse\n\t\t\tsetErr(\" \");\n\t\t// eslint-disable-next-line\n\t}, [scanned])\n\n\treturn <div className={classNames(styles.root, className)}>\n\t\t{mutation.isLoading && <Spinner />}\n\t\t{scanner}\n\t\t<div className={classNames(styles.msg, (msg || err) && styles.msg_visible, (msg || err) && mutation.isIdle && styles.msg_dimmed)}>\n\t\t\t<h2>{msg}</h2>\n\t\t\t<h2>{err}</h2>\n\t\t</div>\n\t\t<div ref={barRef} className={styles.bar}></div>\n\t</div>\n}\n\ninterface ScannerProps<Res, Data>\n{\n\tuseMutation: (onSuccess: (data: Res) => void, onError: (err: any) => void) => UseMutationResult<Res, any, Data, unknown>,\n\tonScan: (scanned: string) => Data | null,\n\tonRes?: (res: Res) => void,\n\tformatMsg: (res: Res) => string,\n\tclassName?: string,\n\tpause?: boolean,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__CrawG\",\"background\":\"styles_background__sRVhE\",\"anim-background\":\"styles_anim-background__FEgkK\",\"body\":\"styles_body__WfmVk\",\"gold\":\"styles_gold__NCkdw\"};","import { useNavigate } from \"react-router-dom\";\nimport useMutationScanner, { type ScannerRes } from \"../../api/scanner\";\nimport Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport Popup from \"../../components/Popup\";\nimport Scanner from \"../../components/Scanner\";\nimport StyledWindow from \"../../components/StyledWindow\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function ScannerPage()\n{\n\tuseTitle(\"\");\n\tconst popupOpen = useStateBool(false);\n\tconst res = useStateObj<ScannerRes | null>(null, popupOpen.setT);\n\tconst navigate = useNavigate();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1em\" className={styles.root} footer={<Footer />} homeBtn>\n\t\t\t<div className={styles.background}></div>\n\t\t\t<StyledWindow title=\"QR-\" disableScroll className={styles.body} onClose={() => navigate(-1)}>\n\t\t\t\t<Scanner\n\t\t\t\t\tuseMutation={useMutationScanner}\n\t\t\t\t\tpause={popupOpen.v}\n\t\t\t\t\tonScan={scanned =>\n\t\t\t\t\t{\n\t\t\t\t\t\tconst actions = [\"quest_\", \"item_\", \"send_\", \"promote_\"];\n\t\t\t\t\t\tfor (const action of actions)\n\t\t\t\t\t\t\tif (scanned.startsWith(action))\n\t\t\t\t\t\t\t\treturn { code: scanned };\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}}\n\t\t\t\t\tformatMsg={r => ({\n\t\t\t\t\t\t\"ok\": \"\",\n\t\t\t\t\t\t\"wrong\": \" QR\",\n\t\t\t\t\t\t\"error\": r.msg,\n\t\t\t\t\t}[r.res] ?? r.res)}\n\t\t\t\t\tonRes={r =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif (r.res == \"ok\")\n\t\t\t\t\t\t\tres.set(r);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</StyledWindow>\n\t\t\t<Popup title=\"\" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t\t{res.v?.action == \"quest\" && <>\n\t\t\t\t\t<h1> !</h1>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h2>{res.v.msg}</h2>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t<span>: </span>\n\t\t\t\t\t\t<span className={styles.gold}>{res.v.value}</span>\n\t\t\t\t\t</h2>\n\t\t\t\t</>}\n\t\t\t\t{res.v?.action == \"store\" && <>\n\t\t\t\t\t<h1>!</h1>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h2>{res.v.msg}</h2>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t<span>: </span>\n\t\t\t\t\t\t<span className={styles.gold}>{res.v.value}</span>\n\t\t\t\t\t</h2>\n\t\t\t\t</>}\n\t\t\t\t{res.v?.action == \"send\" && <>\n\t\t\t\t\t<h1>{res.v.value > 0 ? \"\" : \"\"}</h1>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h1 className={styles.gold}>{res.v.value > 0 ? \"+\" : \"\"}{res.v.value}</h1>\n\t\t\t\t</>}\n\t\t\t\t{res.v?.action == \"promote\" && <>\n\t\t\t\t\t<h1></h1>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h2>  {{\n\t\t\t\t\t\t\"worker\": \"\",\n\t\t\t\t\t\t\"manager\": \"\",\n\t\t\t\t\t}[res.v.msg] || \"\"}</h2>\n\t\t\t\t</>}\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"block\":\"styles_block__jLSvl\",\"value\":\"styles_value__AMUT8\",\"action\":\"styles_action__S+Amy\",\"reusable\":\"styles_reusable__AlAhN\",\"checkbox\":\"styles_checkbox__5B3El\",\"qr\":\"styles_qr__NIQPC\",\"send\":\"styles_send__R5BDM\",\"check\":\"styles_check__tkMiQ\",\"notUsed\":\"styles_notUsed__BJDX-\",\"used\":\"styles_used__GIw2A\"};","import { useMutationSend, type Send, useMutationCheckSend } from \"../../api/send\";\nimport Layout from \"../../components/Layout\";\nimport Popup from \"../../components/Popup\";\nimport QrCode from \"../../components/QrCode\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function SendPage()\n{\n\tuseTitle(\"\");\n\tconst popupOpen = useStateBool(false);\n\tconst send = useStateObj<Send | null>(null, popupOpen.setT);\n\tconst mutation = useMutationSend(send.set);\n\tconst mutationCheck = useMutationCheckSend();\n\n\tconst reusable = useStateBool(false);\n\tconst value = useStateObj(1);\n\n\tfunction submit(positive: boolean)\n\t{\n\t\tmutation.mutate({\n\t\t\tvalue: value.v,\n\t\t\tpositive,\n\t\t\treusable: reusable.v,\n\t\t});\n\t\tmutationCheck.reset();\n\t}\n\n\treturn (\n\t\t<Layout centered homeBtn>\n\t\t\t<h2></h2>\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t{mutationCheck.isLoading && <Spinner />}\n\t\t\t{displayError(mutation)}\n\t\t\t<div className={styles.block}>\n\t\t\t\t<input\n\t\t\t\t\tclassName={styles.value}\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tname=\"value\"\n\t\t\t\t\tvalue={value.v}\n\t\t\t\t\tonChange={e => value.set(Math.max(1, e.target.valueAsNumber))}\n\t\t\t\t/>\n\t\t\t\t<label className={styles.reusable}>\n\t\t\t\t\t<span></span>\n\t\t\t\t\t<div className={styles.checkbox}>\n\t\t\t\t\t\t<input type=\"checkbox\" checked={reusable.v} onChange={e => reusable.set(e.target.checked)} />\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t\t<div className={styles.action}>\n\t\t\t\t\t<button onClick={() => submit(true)}>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t\t<button onClick={() => submit(false)}>\n\t\t\t\t\t\t\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Popup title={send.v?.reusable ? \"\" : \"\"} open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t\t<div className={styles.qr}>\n\t\t\t\t\t<QrCode code={\"send_\" + send.v?.id} colorBg=\"#ffffff00\" scale={13} />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.send}>\n\t\t\t\t\t<h2>{send.v?.positive ? \"\" : \"\"}</h2>\n\t\t\t\t\t<h1>{send.v?.positive ? \"+\" : \"-\"}{send.v?.value} G</h1>\n\t\t\t\t</div>\n\t\t\t\t{displayError(mutationCheck)}\n\t\t\t\t{!send.v?.reusable &&\n\t\t\t\t\t<div className={styles.check}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => mutationCheck.mutate(send.v?.id || \"\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={mutationCheck.data?.successful ? styles.used : styles.notUsed}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{mutationCheck.data?.successful ? \" \" : \" \"}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","import { useMutation } from \"react-query\";\nimport { fetchJsonPost } from \"../utils/fetch\";\n\n\nexport interface Send\n{\n\tid: string,\n\tvalue: number,\n\tpositive: boolean,\n\treusable: boolean,\n}\n\nexport function useMutationSend(onSuccess?: (send: Send) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (data: SendData) =>\n\t\t\tawait fetchJsonPost<Send>(\"/api/send\", data),\n\t\tonSuccess: onSuccess,\n\t});\n\treturn mutation;\n}\n\ninterface SendData\n{\n\tvalue: number,\n\tpositive: boolean,\n\treusable: boolean,\n}\n\nexport function useMutationCheckSend(onSuccess?: (data: CheckSendData) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (sendId: string) =>\n\t\t\tawait fetchJsonPost<CheckSendData>(\"/api/send_check\", { id: sendId }),\n\t\tonSuccess: onSuccess,\n\t});\n\treturn mutation;\n}\n\ninterface CheckSendData\n{\n\tsuccessful: boolean,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__0CejE\",\"list\":\"styles_list__4uN5e\",\"title\":\"styles_title__u3Xt9\",\"items\":\"styles_items__n-Fvc\",\"item\":\"styles_item__zIxt2\",\"item__img\":\"styles_item__img__r3iEr\",\"item__desc\":\"styles_item__desc__wbcAM\",\"item_few\":\"styles_item_few__nkL6C\",\"item_ended\":\"styles_item_ended__Mn60C\"};","import { useStoreItems } from \"../../api/store\";\nimport Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport styles from \"./styles.module.css\"\nimport StyledWindow from \"../../components/StyledWindow\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"../../utils/classNames\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport Textbox from \"../../components/Textbox\";\n\nexport default function StorePage()\n{\n\tuseTitle(\"\");\n\tconst items = useStoreItems()\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1em\" className={styles.root} footer={<Footer curPage=\"store\" />}>\n\t\t\t{items.isLoading && <Spinner />}\n\t\t\t<h1 className={classNames(\"title\", styles.title)}></h1>\n\t\t\t<StyledWindow title=\"\" className={styles.list}>\n\t\t\t\t<div className={styles.items}>\n\t\t\t\t\t{displayError(items)}\n\t\t\t\t\t{items?.data?.map(item =>\n\t\t\t\t\t\t<Link to=\"/scanner\" className={classNames(styles.item, item.count == \"few\" && styles.item_few, item.count == \"no\" && styles.item_ended)} key={item.id}>\n\t\t\t\t\t\t\t<div className={styles.item__img}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{item.img ? <img src={item.img} alt=\"\" /> : <div></div>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Textbox small dark btn>\n\t\t\t\t\t\t\t\t<div className={styles.item__desc}>\n\t\t\t\t\t\t\t\t\t<span>{item.name} - </span>\n\t\t\t\t\t\t\t\t\t<span>{item.price}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Textbox>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</StyledWindow>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__E5y+5\",\"title\":\"styles_title__3QqY9\",\"body\":\"styles_body__nvDgq\",\"list\":\"styles_list__6yPeV\",\"items\":\"styles_items__UxmDm\",\"item\":\"styles_item__F46+o\",\"item_title\":\"styles_item_title__X67MD\",\"btns\":\"styles_btns__Ctsik\",\"btn\":\"styles_btn__pG0e4\"};","import styles from \"./styles.module.css\"\nimport Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport StyledWindow from \"../../components/StyledWindow\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport Textbox from \"../../components/Textbox\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function TimetablePage()\n{\n\tuseTitle(\"\");\n\tconst timetable = useStateObj(0);\n\tconst items = [\n\t\tdata_timetable,\n\t\tdata_autograph,\n\t\tdata_lections,\n\t\tdata_tournaments,\n\t][timetable.v];\n\n\treturn (\n\t\t<Layout centeredPage className={styles.root} footer={<Footer curPage=\"timetable\" />}>\n\t\t\t<h1 className={classNames(\"title\", styles.title)}></h1>\n\t\t\t<div className={styles.body}>\n\t\t\t\t<StyledWindow className={styles.list} scrollUpdate={timetable.v}>\n\t\t\t\t\t<div className={styles.items}>\n\t\t\t\t\t\t{items.map((el, i) => el.title ?\n\t\t\t\t\t\t\t<div className={classNames(\"title\", styles.item_title)} key={i}>{el.text}</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<Textbox dark key={i}><div className={styles.item}>{el.text}</div></Textbox>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</StyledWindow>\n\t\t\t\t<div className={styles.btns}>\n\t\t\t\t\t<Textbox small btn highlight={timetable.v == 0}>\n\t\t\t\t\t\t<button onClick={() => timetable.set(0)} className={classNames(styles.btn, \"title\")}></button>\n\t\t\t\t\t</Textbox>\n\t\t\t\t\t<Textbox small btn highlight={timetable.v == 1}>\n\t\t\t\t\t\t<button onClick={() => timetable.set(1)} className={classNames(styles.btn, \"title\")}></button>\n\t\t\t\t\t</Textbox>\n\t\t\t\t\t<Textbox small btn highlight={timetable.v == 2}>\n\t\t\t\t\t\t<button onClick={() => timetable.set(2)} className={classNames(styles.btn, \"title\")}></button>\n\t\t\t\t\t</Textbox>\n\t\t\t\t\t<Textbox small btn highlight={timetable.v == 3}>\n\t\t\t\t\t\t<button onClick={() => timetable.set(3)} className={classNames(styles.btn, \"title\")}></button>\n\t\t\t\t\t</Textbox>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n\ninterface TimetableData\n{\n\ttext: string;\n\ttitle?: boolean;\n}\n\nconst data_timetable: TimetableData[] = [\n\t{ text: \" :\", title: true },\n\t{ text: \"12:50 -  \" },\n\t{ text: \"13:00 -  \" },\n\t{ text: \"13:30 - 1   \" },\n\t{ text: \"14:00 - Shima Nori.    \" },\n\t{ text: \"14:30 - \" },\n\t{ text: \"14:50 - Undertale : Underdogs\" },\n\t{ text: \"15:00 - 2   \" },\n\t{ text: \"15:40 -  \" },\n\t{ text: \"16:15 -  : , BDP, CornMayor\" },\n\t{ text: \"17:00 -   \" },\n\t{ text: \"18:10 -  \" },\n\t{ text: \"18:25 - \" },\n\t{ text: \"18:50 - \" },\n\t{ text: \"19:50 -  \" },\n\t{ text: \" :\", title: true },\n\t{ text: \"12:00 -     \" },\n\t{ text: \"12:40 - \" },\n\t{ text: \"13:30 - QWIZ  \" },\n\t{ text: \"14:00 - EVRYBODY SWITCH\" },\n\t{ text: \"15:00 - \" },\n\t{ text: \"15:30 - QWIZ  \" },\n\t{ text: \"16:00 - : Overcooked 2\" },\n\t{ text: \"16:40 - : Your Only Move Is HUSTLE\" },\n\t{ text: \"17:20 - : Rival of Aether\" },\n\t{ text: \"18:00 - \" },\n\t{ text: \"18:45 - \" },\n\t{ text: \"19:45 -  \" },\n\t{ text: \" :\", title: true },\n\t{ text: \"13:00 -  -\" },\n\t{ text: \"14:00 -  Game Jam\" },\n\t{ text: \"15:00 -  -\" },\n\t{ text: \"16:00 -  \" },\n\t{ text: \"16:30 -  -\" },\n];\n\nconst data_autograph: TimetableData[] = [\n\t{ text: \"13:30 - \" },\n\t{ text: \"14:00 - \" },\n\t{ text: \"14:30 - JF Voice  FolkStudio\" },\n\t{ text: \"15:00 -  \" },\n\t{ text: \"15:30 - WonderNope\" },\n\t{ text: \"16:00 -   ()\" },\n\t{ text: \"16:30 -  (  Uno)\" },\n];\n\nconst data_lections: TimetableData[] = [\n\t{ text: \"13:00 -   Hylics\" },\n\t{ text: \"13:40 -    \" },\n\t{ text: \"14:10 -       \" },\n\t{ text: \"14:40 -   \" },\n\t{ text: \"15:20 -   Touhou Project    ?\" },\n\t{ text: \"16:00 -     \" },\n\t{ text: \"16:40 -    -  \" },\n];\n\nconst data_tournaments: TimetableData[] = [\n\t{ text: \"  (  ):\", title: true },\n\t{ text: \"16:00 - Overcooked 2\" },\n\t{ text: \"16:40 - Your Only Move Is HUSTLE\" },\n\t{ text: \"17:20 - Rival of Aether\" },\n\t{ text: \"  (  ):\", title: true },\n\t{ text: \"13:00 - Super Tetris 3\" },\n\t{ text: \"14:00 - Tekken 3\" },\n\t{ text: \"15:00 - Mortal Combat 3\" },\n]\n","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"styles_user__WUZvf\",\"title\":\"styles_title__Gd1jL\",\"toggle\":\"styles_toggle__qlIwC\",\"toggleInp\":\"styles_toggleInp__fGE-7\",\"userInfo\":\"styles_userInfo__vgBlw\",\"operations\":\"styles_operations__MGBbv\"};","import { useUsers } from \"../../api/user\";\nimport Layout from \"../../components/Layout\";\nimport displayError from \"../../utils/displayError\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function UsersPage()\n{\n\tuseTitle(\"Users\");\n\tconst users = useUsers()\n\n\treturn (\n\t\t<Layout centeredPage homeBtn gap={8} styles={{ fontFamily: \"'PT Sans', Arial\", background: \"#1e1e1e\" }}>\n\t\t\t{users.isLoading && <h3></h3>}\n\t\t\t{displayError(users)}\n\t\t\t{users.data?.map(v => <div className={styles.user} key={v.id}>\n\t\t\t\t<input type=\"checkbox\" className={styles.toggleInp} id={`user${v.id}`} />\n\t\t\t\t<label className={styles.title} htmlFor={`user${v.id}`}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>{v.login}</div>\n\t\t\t\t\t\t<div style={{ color: \"blue\" }}>{v.id}</div>\n\t\t\t\t\t\t<div>|</div>\n\t\t\t\t\t\t<div>{v.name}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{v.deleted && <>\n\t\t\t\t\t\t\t<div style={{ color: \"tomato\" }}>deleted</div>\n\t\t\t\t\t\t\t<div>|</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t\t<span>{v.roles.join(\", \")}</span>\n\t\t\t\t\t\t<div className={styles.toggle}></div>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t\t<div className={styles.userInfo}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h4>Operations</h4>\n\t\t\t\t\t\t<div className={styles.operations}>\n\t\t\t\t\t\t\t{v.operations.map((o, i) => <div key={i}>{colorizeOperation(o)}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>)}\n\t\t</Layout>\n\t);\n}\n\nfunction colorizeOperation(operation: string)\n{\n\tconst colors = {\n\t\tpage: \"#990099\",\n\t\tadd: \"#008000\",\n\t\tget: \"#008000\",\n\t\tchange: \"#006fb3\",\n\t\tdelete: \"#b30000\",\n\t}\n\tfor (const prefix in colors)\n\t{\n\t\tif (operation.startsWith(prefix))\n\t\t\treturn <>\n\t\t\t\t<span style={{ color: colors[prefix as keyof typeof colors] }}>{prefix}</span>\n\t\t\t\t<span>{operation.slice(prefix.length)}</span>\n\t\t\t</>\n\t}\n\treturn <span>{operation}</span>\n}","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"styles_btn__w12Ul\"};","import { Link } from \"react-router-dom\";\nimport Layout from \"../../components/Layout\"\nimport styles from \"./styles.module.css\"\nimport { useHasPermission } from \"../../api/operations\";\n\nexport default function WorkerPage()\n{\n\treturn (\n\t\t<Layout centered homeBtn gap=\"1rem\">\n\t\t\t{useHasPermission(\"manage_store\") && <Link to={\"/manage_store\"} className={styles.btn}> </Link>}\n\t\t\t{useHasPermission(\"manage_quest\") && <Link to={\"/manage_quest\"} className={styles.btn}> </Link>}\n\t\t\t{useHasPermission(\"page_worker_quest\") && <Link to={\"/worker_quest\"} className={styles.btn}> </Link>}\n\t\t\t{useHasPermission(\"page_worker_store\") && <Link to={\"/worker_store\"} className={styles.btn}> </Link>}\n\t\t\t{useHasPermission(\"send_any\") && <Link to={\"/send\"} className={styles.btn}></Link>}\n\t\t\t{useHasPermission(\"promote_worker\") && <Link to={\"/promote_worker\"} className={styles.btn}>  </Link>}\n\t\t\t{useHasPermission(\"promote_manager\") && <Link to={\"/promote_manager\"} className={styles.btn}>  </Link>}\n\t\t\t{useHasPermission(\"manage_games\") && <Link to={\"/game_settings\"} className={styles.btn}></Link>}\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Ch43Y\",\"quests\":\"styles_quests__CJF3F\",\"quest\":\"styles_quest__la9IG\",\"quest_hidden\":\"styles_quest_hidden__895fL\",\"qr\":\"styles_qr__CpwFg\",\"questCard\":\"styles_questCard__LUpC3\"};","import { useQuestsFull, type QuestFull } from \"../../api/quest\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport styles from \"./styles.module.css\"\nimport Popup from \"../../components/Popup\";\nimport QrCode from \"../../components/QrCode\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function WorkerQuestPage()\n{\n\tuseTitle(\"Qr \");\n\tconst quests = useQuestsFull();\n\tconst popupOpen = useStateBool(false);\n\tconst selectedQuest = useStateObj<QuestFull | null>(null, popupOpen.setT);\n\n\treturn (\n\t\t<Layout centered homeBtn gap=\"1rem\" height100 className={styles.root}>\n\t\t\t{quests.isLoading && <Spinner />}\n\t\t\t{displayError(quests)}\n\t\t\t<h2>   ?</h2>\n\t\t\t<div className={styles.quests}>\n\t\t\t\t{quests.data?.map(quest =>\n\t\t\t\t\t<button key={quest.id} onClick={() => selectedQuest.set(quest)} className={classNames(styles.quest, quest.hidden && styles.quest_hidden)}>\n\t\t\t\t\t\t{quest.name}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Popup title=\" \" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t\t<div className={styles.qr}>\n\t\t\t\t\t<QrCode code={`quest_${selectedQuest.v?.id_big}`} colorBg=\"#ffffff00\" scale={13} />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.questCard}>\n\t\t\t\t\t<div>{selectedQuest.v?.name}</div>\n\t\t\t\t\t<div>{selectedQuest.v?.reward} G</div>\n\t\t\t\t</div>\n\t\t\t\t<h3>QR-   </h3>\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"items\":\"styles_items__ph2vL\",\"item\":\"styles_item__t2Q7S\",\"item__img\":\"styles_item__img__9MSeY\",\"item__desc\":\"styles_item__desc__vFBVd\",\"qr\":\"styles_qr__Sgcly\",\"item_small\":\"styles_item_small__EPwTh\"};","import Layout from \"../../components/Layout\"\nimport styles from \"./styles.module.css\"\nimport { useStoreItemsFull, type StoreItemFull } from \"../../api/store\";\nimport displayError from \"../../utils/displayError\";\nimport Spinner from \"../../components/Spinner\";\nimport Popup from \"../../components/Popup\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport QrCode from \"../../components/QrCode\";\nimport { useTitle } from \"../../utils/useTtile\";\n\nexport default function WorkerStorePage()\n{\n\tuseTitle(\"Qr \");\n\tconst items = useStoreItemsFull()\n\tconst popupOpen = useStateBool(false);\n\tconst selectedItem = useStateObj<StoreItemFull | null>(null, popupOpen.setT);\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1rem\" height100 homeBtn>\n\t\t\t<h1></h1>\n\t\t\t{items.isLoading && <Spinner />}\n\t\t\t{displayError(items)}\n\t\t\t<div className={styles.items}>\n\t\t\t\t{items?.data?.map(item =>\n\t\t\t\t\t<button className={styles.item} key={item.id} onClick={() => selectedItem.set(item)}>\n\t\t\t\t\t\t<div className={styles.item__img}>\n\t\t\t\t\t\t\t{item.img ? <img src={item.img} alt=\"\" /> : <div></div>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.item__desc}>\n\t\t\t\t\t\t\t<span>{item.name}</span>\n\t\t\t\t\t\t\t<span>{item.price} G</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Popup title=\" \" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t\t<div className={styles.qr}>\n\t\t\t\t\t<QrCode code={`item_${selectedItem.v?.id_big}`} colorBg=\"#ffffff00\" scale={13} />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.item_small}>\n\t\t\t\t\t<div className={styles.item__img}>\n\t\t\t\t\t\t{selectedItem.v?.img ? <img src={selectedItem.v?.img} alt=\"\" /> : <div></div>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{selectedItem.v?.name}</div>\n\t\t\t\t\t<div>{selectedItem.v?.price} G</div>\n\t\t\t\t</div>\n\t\t\t\t<h3>QR-   </h3>\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__lfouU\",\"title\":\"styles_title__VD3jB\",\"title2\":\"styles_title2__U2DmF\",\"title3\":\"styles_title3__eIdeM\",\"subtitle\":\"styles_subtitle__FPJqV\",\"window\":\"styles_window__hv3AU\",\"text\":\"styles_text__LeEDg\",\"press\":\"styles_press__jAlFs\",\"press__btn\":\"styles_press__btn__w-3Uv\",\"circle\":\"styles_circle__+PsDd\",\"anim-circle\":\"styles_anim-circle__cc5jy\"};","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { fetchJsonGet, fetchJsonPost, fetchPost } from \"../utils/fetch\";\nimport type { UserGroup } from \"./user\";\n\nexport type State = \"wait\" | \"start\" | \"going\" | \"end\";\n\nexport interface GameState\n{\n\tstate: State,\n\twinner: UserGroup,\n\tcounter: number,\n\tstart: string,\n}\nexport interface GameStateFull extends GameState\n{\n\tclicks1: number,\n\tclicks2: number,\n}\nexport interface GameDuration\n{\n\tduration: number,\n}\nexport interface GameCounter\n{\n\tcounter: number,\n}\nexport interface GameStartStr\n{\n\tstartStr: string,\n}\n\nexport function useGameState()\n{\n\treturn useQuery(\"gameState\", async () =>\n\t\tawait fetchJsonGet<GameState>(\"/api/game/state\")\n\t);\n}\n\nexport function useGameStateFull()\n{\n\treturn useQuery(\"gameStateFull\", async () =>\n\t\tawait fetchJsonGet<GameStateFull>(\"/api/game/state_full\")\n\t);\n}\n\nexport function useMutationSendClick(onSuccess?: () => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (count: number) =>\n\t\t\tawait fetchJsonPost<GameState>(\"/api/game/click\", { count }),\n\t\tonSuccess: (state: GameState) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"gameState\", state);\n\t\t\tonSuccess?.();\n\t\t},\n\t\tonError,\n\t});\n\treturn mutation;\n}\n\n\nexport function useGameDuration()\n{\n\treturn useQuery(\"gameDuration\", async () =>\n\t\tawait fetchJsonGet<GameDuration>(\"/api/game/duration\")\n\t);\n}\n\nexport function useGameCounter()\n{\n\treturn useQuery(\"gameCounter\", async () =>\n\t\tawait fetchJsonGet<GameCounter>(\"/api/game/counter\")\n\t);\n}\n\nexport function useGameStartStr()\n{\n\treturn useQuery(\"gameStartStr\", async () =>\n\t\tawait fetchJsonGet<GameStartStr>(\"/api/game/startStr\")\n\t);\n}\n\n\nexport function useMutationGameStart(onSuccess?: () => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchPost(\"/api/game/start\"),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"gameState\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"gameState\", (s?: GameState) => ({ ...s!, state: \"start\" as State }));\n\t\t\tonSuccess?.();\n\t\t},\n\t\tonError,\n\t});\n\treturn mutation;\n}\n\n\nexport function useMutationGameReset(onSuccess?: () => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchPost(\"/api/game/reset\"),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"gameState\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"gameState\", (s?: GameState) => ({ ...s!, state: \"wait\" as State }));\n\t\t\tonSuccess?.();\n\t\t},\n\t\tonError,\n\t});\n\treturn mutation;\n}\n\n\nexport function useMutationGameDuration(onSuccess?: (data: GameDuration) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (duration: number) =>\n\t\t\tawait fetchJsonPost<GameDuration>(\"/api/game/duration\", { duration }),\n\t\tonSuccess: (data: GameDuration) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"gameDuration\", data);\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationGameCounter(onSuccess?: (data: GameCounter) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (counter: number) =>\n\t\t\tawait fetchJsonPost<GameCounter>(\"/api/game/counter\", { counter }),\n\t\tonSuccess: (data: GameCounter) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"gameCounter\", data);\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationGameStartStr(onSuccess?: (data: GameStartStr) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (startStr: string) =>\n\t\t\tawait fetchJsonPost<GameStartStr>(\"/api/game/startStr\", { startStr }),\n\t\tonSuccess: (data: GameStartStr) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"gameStartStr\", data);\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError,\n\t});\n\treturn mutation;\n}\n","import Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport classNames from \"../../utils/classNames\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\nimport useStateObj from \"../../utils/useStateObj\";\nimport { useGameState, useMutationSendClick } from \"../../api/game\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport { useEffect } from \"react\";\nimport useUser from \"../../api/user\";\nimport StyledWindow from \"../../components/StyledWindow\";\nimport { useDisableZoom } from \"../../utils/useDisableZoom\";\n\n\nexport default function GamePage()\n{\n\tuseTitle(\"\");\n\tuseDisableZoom();\n\tconst user = useUser();\n\tconst state = useGameState();\n\tconst counter = useStateObj(0);\n\tconst clicks = useStateObj(0);\n\tconst lastClickSend = useStateObj(Date.now());\n\tconst sendClick = useMutationSendClick();\n\n\tuseEffect(() =>\n\t{\n\t\tif (state.isFetching) return;\n\t\tif (state.data?.state == \"going\") return;\n\n\t\tconst t = setTimeout(() => state.refetch(), 5000);\n\n\t\treturn () => clearTimeout(t);\n\t\t// eslint-disable-next-line\n\t}, [state.isFetching])\n\n\tuseEffect(() =>\n\t{\n\t\tif (!state.data) return;\n\t\tcounter.set(state.data.counter);\n\t\tif (state.data.counter < 0) return;\n\t\tconst t = setInterval(() =>\n\t\t{\n\t\t\tcounter.set(v =>\n\t\t\t{\n\t\t\t\tv = Math.max(v - 1, 0);\n\t\t\t\tif (v == 0)\n\t\t\t\t{\n\t\t\t\t\tstate.refetch();\n\t\t\t\t\tclearInterval(t);\n\t\t\t\t}\n\t\t\t\treturn v;\n\t\t\t});\n\t\t}, 1000);\n\t\treturn () => clearInterval(t);\n\t\t// eslint-disable-next-line\n\t}, [state.data])\n\n\tuseEffect(() =>\n\t{\n\t\tif (state.data?.state != \"going\") return;\n\t\tif (clicks.v <= 0 || sendClick.isLoading) return;\n\t\tif (Date.now() - lastClickSend.v < 2500) return;\n\n\t\tsendClick.mutate(clicks.v);\n\t\tlastClickSend.set(Date.now())\n\t\tclicks.set(0);\n\t\t// eslint-disable-next-line\n\t}, [clicks.v]);\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1em\" className={styles.root} footer={<Footer curPage=\"game\" />}>\n\t\t\t{state.isLoading && <Spinner />}\n\t\t\t{displayError(state)}\n\t\t\t<h1 className={classNames(\"title\", styles.title)}></h1>\n\t\t\t<StyledWindow className={styles.window}>\n\t\t\t\t{(state.isLoading || state.data?.state == \"wait\") && <>\n\t\t\t\t\t<div className={styles.text}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span>       </span>\n\t\t\t\t\t\t\t{state.data?.start && <span>  {state.data.start}</span>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>}\n\t\t\t\t{state.data?.state == \"start\" && <>\n\t\t\t\t\t<div className={styles.text}>\n\t\t\t\t\t\t<div className={styles.title2}>{user.data?.group == 1 ? \"\" : \"\"}</div>\n\t\t\t\t\t\t<h2 className={styles.subtitle}> </h2>\n\t\t\t\t\t\t<h1 className={styles.title}>{Math.floor(counter.v / 60)}:{(counter.v % 60).toString().padStart(2, \"0\")}</h1>\n\t\t\t\t\t</div>\n\t\t\t\t</>}\n\t\t\t\t{state.data?.state == \"going\" && <button\n\t\t\t\t\tclassName={styles.press}\n\t\t\t\t\tonClick={e =>\n\t\t\t\t\t{\n\t\t\t\t\t\tanimateBtnPress(e.target as HTMLElement);\n\t\t\t\t\t\tclicks.set(v => v + 1);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<h1 className={styles.title2}>{user.data?.group == 1 ? \"\" : \"\"}</h1>\n\t\t\t\t\t{/* <h1 className={styles.title}>{Math.floor(counter.v / 60)}:{(counter.v % 60).toString().padStart(2, \"0\")}</h1> */}\n\t\t\t\t\t{/* <h1 className={styles.title}>{clicks.v}</h1> */}\n\t\t\t\t\t<div className={classNames(\"title\", styles.press__btn)}>!!!</div>\n\t\t\t\t</button>}\n\t\t\t\t{state.data?.state == \"end\" && <>\n\t\t\t\t\t<div className={styles.text}>\n\t\t\t\t\t\t<div className={styles.title2}>{user.data?.group == 1 ? \"\" : \"\"}</div>\n\t\t\t\t\t\t<h1 className={styles.title3}>\n\t\t\t\t\t\t\t{state.data.winner == 0 ? \" !\" :\n\t\t\t\t\t\t\t\tuser.data?.group == state.data.winner ? \"!\" : \"!\"}\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t</div>\n\t\t\t\t</>}\n\t\t\t</StyledWindow>\n\t\t</Layout>\n\t);\n}\n\nfunction animateBtnPress(el: HTMLElement)\n{\n\tconst btn = (el instanceof HTMLButtonElement ? el : el.parentElement) as HTMLButtonElement;\n\n\tconst circle = document.createElement(\"div\");\n\tbtn.appendChild(circle);\n\tcircle.classList.add(styles.circle)\n\n\tsetTimeout(() => btn.removeChild(circle), 1000);\n}","import { useEffect } from \"react\"\n\nexport function useDisableZoom()\n{\n\tuseEffect(() =>\n\t{\n\t\tconst meta = document.querySelector('meta[name=\"viewport\"]');\n\t\tif (!meta) return;\n\t\tconst content = meta.getAttribute(\"content\") || \"\";\n\t\tmeta.setAttribute(\"content\", \"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\");\n\t\treturn () => meta.setAttribute(\"content\", content);\n\t}, []);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"styles_input__xbjXW\",\"openScreen\":\"styles_openScreen__MsUEq\",\"start\":\"styles_start__RrOg2\"};","import { Link } from \"react-router-dom\";\nimport Layout from \"../../components/Layout\";\nimport IconCancel from \"../../icons/cancel\";\nimport IconSave from \"../../icons/save\";\nimport styles from \"./styles.module.css\"\nimport useStateObj from \"../../utils/useStateObj\";\nimport { useMutationGameCounter, useMutationGameDuration, useMutationGameReset, useMutationGameStart, useMutationGameStartStr, useGameCounter, useGameDuration, useGameStartStr, useGameState } from \"../../api/game\";\nimport Popup from \"../../components/Popup\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport { useEffect } from \"react\";\nimport { useTitle } from \"../../utils/useTtile\";\n\nexport default function GameSettingsPage()\n{\n\tuseTitle(\" \");\n\tconst state = useGameState();\n\tconst gameDuration = useGameDuration();\n\tconst gameCounter = useGameCounter();\n\tconst gameStartStr = useGameStartStr();\n\tconst mutateDuration = useMutationGameDuration();\n\tconst mutateCounter = useMutationGameCounter();\n\tconst mutateStartStr = useMutationGameStartStr();\n\tconst duration = useStateObj(0);\n\tconst counter = useStateObj(0);\n\tconst startStr = useStateObj(\"\");\n\tconst popupOpen = useStateBool(false);\n\tconst popupOpen2 = useStateBool(false);\n\tconst popupOpen3 = useStateBool(false);\n\tconst popupOpen4 = useStateBool(false);\n\tconst gameStart = useMutationGameStart(popupOpen2.setT);\n\tconst gameReset = useMutationGameReset(popupOpen4.setT);\n\n\t// eslint-disable-next-line\n\tuseEffect(() => duration.set(gameDuration.data?.duration || 0), [gameDuration.data]); // eslint-disable-next-line\n\tuseEffect(() => counter.set(gameCounter.data?.counter || 0), [gameCounter.data]); // eslint-disable-next-line\n\tuseEffect(() => startStr.set(gameStartStr.data?.startStr || \"\"), [gameStartStr.data]);\n\n\treturn (\n\t\t<Layout centeredPage homeBtn gap=\"2rem\">\n\t\t\t<h1> </h1>\n\t\t\t{gameStart.isLoading && <Spinner />}\n\t\t\t{gameDuration.isLoading && <Spinner />}\n\t\t\t{gameCounter.isLoading && <Spinner />}\n\t\t\t{mutateDuration.isLoading && <Spinner />}\n\t\t\t{mutateCounter.isLoading && <Spinner />}\n\t\t\t{mutateStartStr.isLoading && <Spinner />}\n\t\t\t{gameReset.isLoading && <Spinner />}\n\t\t\t{gameStartStr.isLoading && <Spinner />}\n\t\t\t{displayError(gameStart)}\n\t\t\t{displayError(gameDuration)}\n\t\t\t{displayError(gameCounter)}\n\t\t\t{displayError(mutateDuration)}\n\t\t\t{displayError(mutateCounter)}\n\t\t\t{displayError(gameReset)}\n\t\t\t{displayError(mutateStartStr)}\n\t\t\t<Link to=\"/game_screen\" className={styles.openScreen}> </Link>\n\t\t\t<div className={styles.input}>\n\t\t\t\t<span> </span>\n\t\t\t\t<input type=\"text\" value={startStr.v} onChange={e => startStr.set(e.target.value)} />\n\t\t\t\t{gameStartStr.data && startStr.v != gameStartStr.data.startStr && <>\n\t\t\t\t\t<button onClick={() => mutateStartStr.mutate(startStr.v)}><IconSave /></button>\n\t\t\t\t\t<button onClick={() => startStr.set(gameStartStr.data.startStr)}><IconCancel /></button>\n\t\t\t\t</>}\n\t\t\t</div>\n\t\t\t<div className={styles.input}>\n\t\t\t\t<span>  (.)</span>\n\t\t\t\t<input type=\"number\" value={duration.v} onChange={e => duration.set(e.target.valueAsNumber)} />\n\t\t\t\t{gameDuration.data && duration.v != gameDuration.data.duration && <>\n\t\t\t\t\t<button onClick={() => mutateDuration.mutate(duration.v)}><IconSave /></button>\n\t\t\t\t\t<button onClick={() => duration.set(gameDuration.data.duration)}><IconCancel /></button>\n\t\t\t\t</>}\n\t\t\t</div>\n\t\t\t<div className={styles.input}>\n\t\t\t\t<span>  (.)</span>\n\t\t\t\t<input type=\"number\" value={counter.v} onChange={e => counter.set(e.target.valueAsNumber)} />\n\t\t\t\t{gameCounter.data && counter.v != gameCounter.data.counter && <>\n\t\t\t\t\t<button onClick={() => mutateCounter.mutate(counter.v)}><IconSave /></button>\n\t\t\t\t\t<button onClick={() => counter.set(gameCounter.data.counter)}><IconCancel /></button>\n\t\t\t\t</>}\n\t\t\t</div>\n\t\t\t{state.data?.state == \"wait\" && <button className={styles.start} onClick={popupOpen.setT}>!</button>}\n\t\t\t<button className={styles.start} onClick={popupOpen3.setT}></button>\n\t\t\t<Popup open={popupOpen.v} close={popupOpen.setF} closeOnOutclick>\n\t\t\t\t<h2> ?</h2>\n\t\t\t\t<br />\n\t\t\t\t<button className={styles.start} onClick={() =>\n\t\t\t\t{\n\t\t\t\t\tpopupOpen.setF();\n\t\t\t\t\tgameStart.mutate();\n\t\t\t\t}}></button>\n\t\t\t</Popup>\n\t\t\t<Popup open={popupOpen2.v} close={popupOpen2.setF} closeOnOutclick>\n\t\t\t\t<h2> !</h2>\n\t\t\t</Popup>\n\t\t\t<Popup open={popupOpen3.v} close={popupOpen3.setF} closeOnOutclick>\n\t\t\t\t<h2> ?</h2>\n\t\t\t\t<br />\n\t\t\t\t<button className={styles.start} onClick={() =>\n\t\t\t\t{\n\t\t\t\t\tpopupOpen3.setF();\n\t\t\t\t\tgameReset.mutate();\n\t\t\t\t}}></button>\n\t\t\t</Popup>\n\t\t\t<Popup open={popupOpen4.v} close={popupOpen4.setF} closeOnOutclick>\n\t\t\t\t<h2> !</h2>\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__rT4Gh\",\"barShake\":\"styles_barShake__Ur9jk\",\"going\":\"styles_going__+UF8o\",\"shake\":\"styles_shake__zxQyZ\",\"bar\":\"styles_bar__U71pT\",\"barLeft\":\"styles_barLeft__XSCZr\",\"barRight\":\"styles_barRight__GNhlX\",\"dot\":\"styles_dot__QlpbG\",\"nums\":\"styles_nums__QEHWB\",\"msg\":\"styles_msg__5G-O7\",\"soundBtn\":\"styles_soundBtn__VzFT+\",\"frame\":\"styles_frame__aLrbS\",\"rects\":\"styles_rects__tHlp8\",\"rect\":\"styles_rect__BhPFH\"};","import styles from \"./styles.module.css\"\nimport ost from \"./ost.mp3\"\nimport useStateObj from \"../../utils/useStateObj\";\nimport { useEffect, useRef } from \"react\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport useSound from \"../../utils/useSound\";\nimport { useGameStateFull, type GameStateFull } from \"../../api/game\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport displayError from \"../../utils/displayError\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function GameScreenPage()\n{\n\tuseTitle(\"\");\n\tconst state = useGameStateFull();\n\tconst ostSound = useSound(ost, true);\n\tconst soundEnable = useStateBool(false);\n\tconst counter = useStateObj(0);\n\tconst rectsEl = useRef<HTMLDivElement>(null);\n\t// const bar = useStateObj(0);\n\n\tuseEffect(() =>\n\t{\n\t\tif (state.isFetching) return;\n\n\t\tconst delay = state.data?.state == \"going\" ? 500 : 5000;\n\t\tconst t = setTimeout(() => state.refetch(), delay);\n\n\t\treturn () => clearTimeout(t);\n\t\t// eslint-disable-next-line\n\t}, [state.isFetching])\n\n\tuseEffect(() =>\n\t{\n\t\tif (!state.data) return;\n\t\tcounter.set(state.data.counter);\n\t\tif (state.data.counter < 0) return;\n\t\tconst t = setInterval(() =>\n\t\t{\n\t\t\tcounter.set(v =>\n\t\t\t{\n\t\t\t\tv = Math.max(v - 1, 0);\n\t\t\t\tif (v == 0)\n\t\t\t\t{\n\t\t\t\t\tstate.refetch();\n\t\t\t\t\tclearInterval(t);\n\t\t\t\t}\n\t\t\t\treturn v;\n\t\t\t});\n\t\t}, 1000);\n\t\treturn () => clearInterval(t);\n\t\t// eslint-disable-next-line\n\t}, [state.data])\n\n\t// useEffect(() =>\n\t// {\n\t// \tconst t = setInterval(() =>\n\t// \t{\n\t// \t\tbar.set(v => (v + 10) % 200);\n\t// \t}, 1000);\n\t// \treturn () => clearInterval(t);\n\t// }, [])\n\n\tuseEffect(() =>\n\t{\n\t\tif (!rectsEl.current || state.data?.state != \"going\") return;\n\t\tconst t = setInterval(() =>\n\t\t{\n\t\t\tif (state.data?.state != \"going\") return;\n\t\t\tif (rectsEl.current)\n\t\t\t\tspawnRect(rectsEl.current);\n\t\t}, 100);\n\t\treturn () => clearInterval(t);\n\t}, [rectsEl, state.data?.state])\n\n\treturn (\n\t\t<div className={classNames(styles.root, state.data?.state == \"going\" && styles.going)} style={{\n\t\t\t\"--bar\": state.isSuccess ? getPercent(state.data) : \"50\",\n\t\t\t// \"--bar\": `${Math.abs(bar.v - 100)}`,\n\t\t\t// \"--bar\": `40`,\n\t\t} as React.CSSProperties}>\n\t\t\t<div className={styles.rects} ref={rectsEl}></div>\n\t\t\t<div className={styles.frame}></div>\n\t\t\t<div className={styles.barShake}>\n\t\t\t\t<div className={styles.bar}>\n\t\t\t\t\t<div className={styles.barLeft}>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t{/* <div className={styles.nums}>{state.isSuccess && `${state.data.clicks1} - ${state.data.clicks2}`}</div> */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.barRight}></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className={styles.msg}>\n\t\t\t\t<div>\n\t\t\t\t\t{displayError(state)}\n\t\t\t\t\t{state.isSuccess && <>\n\t\t\t\t\t\t{state.data.state == \"wait\" && <span> !</span>}\n\t\t\t\t\t\t{(state.data.state == \"start\" || state.data.state == \"going\") &&\n\t\t\t\t\t\t\t<span>{Math.floor(counter.v / 60)}:{(counter.v % 60).toString().padStart(2, \"0\")}</span>}\n\n\t\t\t\t\t\t{state.data.state == \"end\" && <>\n\t\t\t\t\t\t\t<span>:</span>\n\t\t\t\t\t\t\t{state.data.winner == 1 && <span>!</span>}\n\t\t\t\t\t\t\t{state.data.winner == 2 && <span>!</span>}\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</>}\n\t\t\t\t\t{!soundEnable.v && <button\n\t\t\t\t\t\tclassName={styles.soundBtn}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsoundEnable.setT();\n\t\t\t\t\t\t\tostSound();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t \n\t\t\t\t\t</button>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction getPercent(data: GameStateFull)\n{\n\tconst sum = data.clicks1 + data.clicks2;\n\tif (sum == 0) return \"50\";\n\treturn `${data.clicks1 / sum * 100}`;\n}\nfunction spawnRect(parent: HTMLDivElement)\n{\n\tconst rect = document.createElement(\"div\");\n\tparent.appendChild(rect);\n\trect.style.top = `${Math.random() * 100}%`;\n\trect.style.left = `${Math.random() * 100}%`;\n\n\tsetTimeout(() => parent.removeChild(rect), 1000);\n}\n","import { Navigate, Route, Routes } from \"react-router-dom\";\nimport useUser from \"./api/user\";\nimport hasPermission, { Operation } from \"./api/operations\";\nimport Preloader from \"./components/Preloader\";\nimport ScrollToTop from \"./utils/scrollToTop\";\nimport displayError from \"./utils/displayError\";\nimport MessageFromBackend from \"./components/MessageFromBackend\";\n\nimport NotFoundPage from \"./pages/NotFoundPage\";\nimport NoPermissionPage from \"./pages/NoPermissionPage\";\n\nimport AuthPage from \"./pages/AuthPage\";\nimport DebugPage from \"./pages/DebugPage\";\nimport IndexPage from \"./pages/IndexPage\";\nimport LogPage from \"./pages/LogPage\";\n// import LoginPage from \"./pages/LoginPage\";\nimport ManageQuestPage from \"./pages/ManageQuestPage\";\nimport ManageStorePage from \"./pages/ManageStorePage\";\nimport MapPage from \"./pages/MapPage\";\n// import ProfilePage from \"./pages/ProfilePage\";\nimport PromotePage from \"./pages/PromotePage\";\nimport QuestPage from \"./pages/QuestPage\";\nimport ScannerPage from \"./pages/ScannerPage\";\nimport SendPage from \"./pages/SendPage\";\nimport StorePage from \"./pages/StorePage\";\nimport TimetablePage from \"./pages/TimetablePage\";\nimport UsersPage from \"./pages/UsersPage\";\nimport WorkerPage from \"./pages/WorkerPage\";\nimport WorkerQuestPage from \"./pages/WorkerQuestPage\";\nimport WorkerStorePage from \"./pages/WorkerStorePage\";\nimport GamePage from \"./pages/GamePage\";\nimport GameSettingsPage from \"./pages/GameSettingsPage\";\nimport GameScreenPage from \"./pages/GameScreenPage\";\n\nexport default function App()\n{\n\tconst user = useUser();\n\n\tfunction ProtectedRoute(permission: Operation | null, path: string, element: JSX.Element)\n\t{\n\t\treturn <Route path={path} element={\n\t\t\t!user.data?.auth ? <Navigate to=\"/\" /> : (\n\t\t\t\tpermission == null || hasPermission(user, permission) ? element : <NoPermissionPage />\n\t\t\t)\n\t\t} />\n\t}\n\n\treturn <div className=\"root\">\n\t\t<ScrollToTop />\n\t\t<MessageFromBackend />\n\n\t\t{user.isLoading && <Preloader />}\n\t\t{displayError(user)}\n\t\t{user.isSuccess &&\n\t\t\t<Routes>\n\t\t\t\t{/* <Route path=\"/\" element={<IndexPage />} /> */}\n\t\t\t\t<Route path=\"/\" element={!user.data?.auth ? <IndexPage /> : <Navigate to=\"/map\" />} />\n\t\t\t\t{/* <Route path=\"/login\" element={!user.data?.auth ? <LoginPage /> : <Navigate to=\"/\" />} /> */}\n\t\t\t\t<Route path=\"/auth\" element={!user.data?.auth ? <AuthPage /> : <Navigate to=\"/\" />} />\n\t\t\t\t<Route path=\"/timetable\" element={<TimetablePage />} />\n\t\t\t\t<Route path=\"/quest\" element={<QuestPage />} />\n\t\t\t\t<Route path=\"/store\" element={<StorePage />} />\n\t\t\t\t<Route path=\"/map\" element={<MapPage />} />\n\t\t\t\t{ProtectedRoute(null, \"/game\", <GamePage />)}\n\t\t\t\t{ProtectedRoute(null, \"/scanner\", <ScannerPage />)}\n\t\t\t\t{/* {ProtectedRoute(null, \"/profile\", <ProfilePage />)} */}\n\t\t\t\t{ProtectedRoute(\"page_worker\", \"/worker\", <WorkerPage />)}\n\t\t\t\t{ProtectedRoute(\"manage_store\", \"/manage_store\", <ManageStorePage />)}\n\t\t\t\t{ProtectedRoute(\"manage_quest\", \"/manage_quest\", <ManageQuestPage />)}\n\t\t\t\t{ProtectedRoute(\"manage_games\", \"/game_settings\", <GameSettingsPage />)}\n\t\t\t\t{ProtectedRoute(\"manage_games\", \"/game_screen\", <GameScreenPage />)}\n\t\t\t\t{ProtectedRoute(\"page_worker_quest\", \"/worker_quest\", <WorkerQuestPage />)}\n\t\t\t\t{ProtectedRoute(\"page_worker_store\", \"/worker_store\", <WorkerStorePage />)}\n\t\t\t\t{ProtectedRoute(\"promote_worker\", \"/promote_worker\", <PromotePage role=\"worker\" />)}\n\t\t\t\t{ProtectedRoute(\"promote_manager\", \"/promote_manager\", <PromotePage role=\"manager\" />)}\n\t\t\t\t{ProtectedRoute(\"send_any\", \"/send\", <SendPage />)}\n\t\t\t\t{ProtectedRoute(\"page_debug\", \"/debug\", <DebugPage />)}\n\t\t\t\t{ProtectedRoute(\"page_debug\", \"/log\", <LogPage />)}\n\t\t\t\t{ProtectedRoute(\"page_users\", \"/users\", <UsersPage />)}\n\t\t\t\t<Route path=\"*\" element={<NotFoundPage />} />\n\t\t\t</Routes>\n\t\t}\n\t</div>\n}\n"],"names":["ApiError","Error","async","fetchWithJson","method","input","body","res","fetch","headers","undefined","JSON","stringify","ok","json","msg","fetchPost","fetchDelete","fetchJson","fetchJsonGet","fetchJsonPost","useUser","useQuery","getUser","data","status","auth","id","balance","roles","name","last_name","photo","operations","group","user","hasPermission","operation","_user$data","_user$data2","includes","useHasPermission","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","formatError","error","messageFormater","err","message","displayError","requestRes","render","isError","defaultRender","_jsx","style","color","textAlign","children","classNames","_len","arguments","length","names","Array","_key","filter","v","join","MessageFromBackend","setMessage","useState","timer","setInterval","msgCur","matches","document","cookie","match","RegExp","replace","decodeURIComponent","getCookie","clearInterval","_jsxs","className","styles","root","visible","close","onClick","trimQuotes","str","at","slice","HeaderBack","navigate","useNavigate","Spinner","_ref","zIndex","block","r","position","borderRadius","spinner","IconHome","xmlns","viewBox","height","width","fill","d","Header","_user$data3","_user$data4","_user$data5","homeBtn","menuOpen","setMenuOpen","mutation","onSuccess","queryClient","useQueryClient","useMutation","mutationFn","setQueryData","_","useMutationLogout","Link","to","home","img","src","avatar","alt","menu","menuVisible","mutate","disabled","Layout","el_styles","centered","centeredPage","height100","gap","header","footer","hasFooter","maxHeight","body_centered","body_centeredPage","NotFoundPage","NoPermissionPage","useTitle","title","prefix","prevTitle","t","Form","onSubmit","formRef","useRef","form","ref","e","preventDefault","current","FormData","FormField","_ref2","label","field","AuthPage","setError","inp_login","inp_password","onError","authData","useMutationAuth","back","isLoading","_inp_login$current","_inp_password$current","login","value","password","type","required","Popup","open","closeOnOutclick","isOpen","setIsOpen","hidden","setHidden","timeout","setTimeout","clearTimeout","target","popup","DebugPage","logErrors","setLogErrors","log","setLog","refLogErrors","refLog","text","_refLogErrors$current","_refLogErrors$current2","_refLogErrors$current3","_refLogErrors$current4","parentElement","scrollHeight","x","_refLog$current","_refLog$current$paren","_refLog$current2","_refLog$current2$pare","imagefileToData","file","imgBase64","Promise","resolve","reader","FileReader","addEventListener","result","readAsDataURL","console","useStateObj","initialState","onSet","set","useStateObjExt","disableOnSet","pv","nv","Function","Textbox","type2","btn","small","dark","highlight","outline","outline_back","outline_front","box","box_back","btns","btnOutline","box_front","AuthByTicket","useMutationAuthByTicket","msgWide","msg1","logo","msg2box","msg2","msg_error","msg_error_open","msg3","openFile","display","accept","onChange","_e$target","_e$target$files","imgData","files","qr","QrcodeDecoder","decodeFromImage","code","useStateBool","setFn","setT","setF","toggle","IndexPage","authOpen","parseLogResponse","responseLog","date","Date","padNum","num","len","concat","padStart","datetimeToString","seconds","getFullYear","getMonth","getDate","dateToString","dateStr","getHours","getMinutes","getSeconds","timeToString","LogPage","_log$data","map","fontFamily","background","isFetching","refetch","table","minWidth","item","colorizeAction","actionCode","tableName","recordId","userName","userId","changesCell","changes","toggleInp","htmlFor","action","added","deleted","updated","restored","queryStrKey","queryKey","queryInvalidate","invalidateQueries","exact","queryListAddItem","_queryClient$getQuery","getQueryState","items","queryListUpdateItem","_queryClient$getQuery2","queryListDeleteItem","itemId","_queryClient$getQuery3","useQuests","useQuestsFull","useMutationDeleteQuest","questId","useMutationOpenQuest","AddQuest","nameRef","rewardRef","hiddenRef","description","popupOpen","mutationAdd","questData","useMutationAddQuest","checked","_Fragment","_nameRef$current","_rewardRef$current","_hiddenRef$current","reward","valueAsNumber","textarea","cols","rows","inp","description_count","description_count_too_many","useDialog","dialogId","autoEnabled","enabled","useMutationEditDialog","dialogData","useDialogCharacters","characters","forEach","useMutationDeleteCharacter","characterId","IconDelete","DialogNode","_characters$data","deleteNode","moveUp","addUp","moveDown","addDown","character","selectName","parseInt","Object","values","placeholder","buttons","doubleBtn","btnUp","btnPlus","btnDown","IconCancel","IconSave","PopupConfirm","mutatateParams","reset","button","Character","_imgData$v","deleteNew","changed","deleting","characterData","useMutationAddCharacter","mutationEdit","useMutationEditCharacter","newCharacter","inputs","ManageCharacters","charactersNew","lastId","addBtn","isSuccess","V","useGameDialogEditor","onClose","update","editor","_data","_onClose","_onCloseMain","el","GameDialogEditor","_v$_onClose","_v$_onCloseMain","call","moveNode","fromI","toI","nodes","splice","addNode","i","push","copyObj","obj","parse","useGameDialog","dialog","_dialogId","_characters","GameDialog","GameDialogWithLoader","run","runLocal","nodeI","setNodeI","node","dialog_container","dialog__title","dialog__body","dialog__text","dialog__btns","dialog__prev","dialog__next","IconEdit","EditStartDialog","saving","dialogDataQuery","getDialog","fn","isStale","isIdle","IconView","IconReload","Quest","_dialog1Id$v","_dialog2Id$v","quest","dialog1Id","dialog2Id","dialog1DataQuery","dialog2DataQuery","dialog1Data","dialog2Data","dialog1Changed","dialog2Changed","useMutationEditQuest","newQuest","state","query","checkbox","n","Fragment","changedHighlight","dialogBtns","dialog1","dialog2","ManageQuestPage","_quests$data","quests","useStoreItemsFull","useMutationDecreaseItem","useMutationDeleteItem","AddStoreItem","priceRef","countRef","itemData","useMutationAddItem","_countRef$current","_priceRef$current","count","price","StoreItem","_imgData$v2","decreasing","useMutationEditItem","newitem","btnMinus","ManageStorePage","_items$data","Footer","curPage","SelectGroup","setGroup","useMutationSetGroup","grid","GameDialogGreetings","selectGroup","StyledWindow","scrollUpdate","contentRef","shadow","rootInner","bodyOuter","InteractiveMap","imgW","imgH","objects","objectsOpacity","zoomMin","zoomMax","disablePadding","fillOnStart","mapEl","y","w","h","zoom","toCenter","markClick","moving","active","sx","sy","six","siy","zooming","sd","sz","setMarkClick","s","setSize","clientWidth","clientHeight","Math","max","min","removeEventListener","onMouseDown","screenX","screenY","onMouseMove","dx","dy","applyBoundaries","onMouseUp","rezoom","oldZ","onWheel","z","deltaY","onTouchStart","touches","clientX","clientY","x1","y1","onTouchMove","sqrt","onTouchEnd","mark","left","top","opacity","mark__mark","MapPage","mutationOpen","openedQuest","opened","questMark","find","completed","map1","map2","map3","mark_mady","mark_info","dependsOnId","questDepends","questMarkDepends","mark_indi","mark_game","mark_stand","mark_banner","quest__title","quest__description","quest__dialog","quest__spacer","quest__scanner","quest__scanner__link","QrCode","scale","margin","colorBg","qrcode","setQrcode","QRCode","errorCorrectionLevel","light","url","PromotePage","role","roleText","roleText2","QuestPage","openQuest","questDescription","quest_completed","renderReward","questDescription__body","fakeQuests","btn_empty","Infinity","isFinite","useMutationScanner","scannerData","useSound","loop","audio","Audio","preload","play","currentTime","onScan","scannerEl","scanner","useScanner","pause","afterScanTimeout","createElement","appendChild","backgroundColor","video","QrScanner","highlightScanRegion","maxScansPerSecond","_scanner","start","catch","_scanner2","_scanner3","stop","isTimeout","setIsTimeout","scanned","setScanned","setIsError","playBeep","beep","innerHTML","Scanner","formatMsg","onRes","setMsg","setErr","barRef","onMutated","_barRef$current","classList","add","bar_full","_barRef$current2","remove","msg_visible","msg_dimmed","bar","ScannerPage","_res$v","_res$v2","_res$v3","_res$v4","disableScroll","actions","startsWith","_ok$wrong$error$r$res","gold","SendPage","_send$v","_send$v2","_send$v3","_send$v4","_send$v5","_send$v6","_mutationCheck$data","_mutationCheck$data2","send","mutationCheck","sendId","useMutationCheckSend","reusable","submit","positive","check","_send$v7","successful","used","notUsed","StorePage","list","item_few","item_ended","item__img","item__desc","TimetablePage","timetable","data_timetable","data_autograph","data_lections","data_tournaments","item_title","UsersPage","_users$data","users","userInfo","o","colorizeOperation","colors","page","get","change","delete","WorkerPage","WorkerQuestPage","_selectedQuest$v","_selectedQuest$v2","_selectedQuest$v3","selectedQuest","quest_hidden","id_big","questCard","WorkerStorePage","_selectedItem$v","_selectedItem$v2","_selectedItem$v3","_selectedItem$v4","_selectedItem$v5","selectedItem","item_small","useGameState","GamePage","_state$data3","_state$data4","_state$data5","_state$data6","_state$data7","meta","querySelector","content","getAttribute","setAttribute","counter","clicks","lastClickSend","now","sendClick","useMutationSendClick","_state$data","_state$data2","title2","subtitle","floor","toString","press","HTMLButtonElement","circle","removeChild","animateBtnPress","press__btn","title3","winner","GameSettingsPage","gameDuration","gameCounter","gameStartStr","mutateDuration","duration","useMutationGameDuration","mutateCounter","useMutationGameCounter","mutateStartStr","startStr","useMutationGameStartStr","popupOpen2","popupOpen3","popupOpen4","gameStart","useMutationGameStart","gameReset","useMutationGameReset","_gameDuration$data","_gameCounter$data","_gameStartStr$data","openScreen","GameScreenPage","ostSound","ost","soundEnable","rectsEl","delay","parent","rect","random","spawnRect","going","getPercent","rects","frame","barShake","barLeft","barRight","soundBtn","sum","clicks1","clicks2","App","ProtectedRoute","permission","path","element","Route","Navigate","Preloader","Routes"],"sourceRoot":""}