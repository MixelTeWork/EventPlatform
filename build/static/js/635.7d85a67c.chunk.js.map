{"version":3,"file":"static/js/635.7d85a67c.chunk.js","mappings":"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","sources":["api/dataTypes.ts","utils/fetch.ts","api/user.ts","api/operations.ts","utils/scrollToTop.tsx","utils/displayError.tsx","utils/classNames.ts","webpack://event_platform/./src/components/MessageFromBackend/styles.module.css?70b3","components/MessageFromBackend/index.tsx","utils/getCookies.ts","webpack://event_platform/./src/components/HeaderBack/styles.module.css?464d","components/HeaderBack/index.tsx","webpack://event_platform/./src/components/Header/styles.module.css?07e3","api/auth.ts","webpack://event_platform/./src/components/Spinner/styles.module.css?6126","components/Spinner/index.tsx","icons/home.tsx","components/Header/index.tsx","webpack://event_platform/./src/components/Layout/styles.module.css?6939","components/Layout/index.tsx","pages/NotFoundPage/index.tsx","pages/NoPermissionPage/index.tsx","webpack://event_platform/./src/pages/AuthPage/styles.module.css?7367","utils/useTtile.ts","webpack://event_platform/./src/components/Form/styles.module.css?5f34","components/Form/index.tsx","pages/AuthPage/index.tsx","webpack://event_platform/./src/pages/DebugPage/styles.module.css?9feb","webpack://event_platform/./src/components/Popup/styles.module.css?f1d6","components/Popup/index.tsx","pages/DebugPage/index.tsx","webpack://event_platform/./src/pages/IndexPage/styles.module.css?578a","utils/authLink.ts","pages/IndexPage/index.tsx","api/log.ts","utils/nums.ts","utils/dates.ts","webpack://event_platform/./src/pages/LogPage/styles.module.css?478b","pages/LogPage/index.tsx","api/quest.ts","utils/useStateBool.ts","webpack://event_platform/./src/pages/ManageQuestPage/AddQuest/styles.module.css?ec25","utils/useStateObj.ts","pages/ManageQuestPage/AddQuest/index.tsx","webpack://event_platform/./src/components/PopupConfirm/styles.module.css?b464","components/PopupConfirm/index.tsx","webpack://event_platform/./src/pages/ManageQuestPage/Quest/styles.module.css?6142","icons/delete.tsx","icons/save.tsx","icons/cancel.tsx","pages/ManageQuestPage/Quest/index.tsx","webpack://event_platform/./src/pages/ManageQuestPage/styles.module.css?b3c3","pages/ManageQuestPage/index.tsx","api/store.ts","webpack://event_platform/./src/pages/ManageStorePage/AddStoreItem/styles.module.css?0eb8","utils/imagefileToData.ts","pages/ManageStorePage/AddStoreItem/index.tsx","webpack://event_platform/./src/pages/ManageStorePage/StoreItem/styles.module.css?d2c5","pages/ManageStorePage/StoreItem/index.tsx","webpack://event_platform/./src/pages/ManageStorePage/styles.module.css?4232","pages/ManageStorePage/index.tsx","webpack://event_platform/./src/pages/MapPage/styles.module.css?f9fa","webpack://event_platform/./src/components/Footer/styles.module.css?e39a","components/Footer/index.tsx","pages/MapPage/index.tsx","components/QrCode/index.tsx","webpack://event_platform/./src/pages/PromotePage/styles.module.css?cc6e","pages/PromotePage/index.tsx","webpack://event_platform/./src/pages/QuestPage/styles.module.css?26ae","webpack://event_platform/./src/components/StyledWindow/styles.module.css?5fb0","components/StyledWindow/index.tsx","pages/QuestPage/index.tsx","api/scanner.ts","webpack://event_platform/./src/components/Scanner/styles.module.css?0297","webpack://event_platform/./src/utils/useScanner/styles.module.css?1ae4","utils/useScanner/index.tsx","utils/useSound.ts","components/Scanner/index.tsx","webpack://event_platform/./src/pages/ScannerPage/styles.module.css?d401","pages/ScannerPage/index.tsx","webpack://event_platform/./src/pages/SendPage/styles.module.css?db02","pages/SendPage/index.tsx","api/send.ts","webpack://event_platform/./src/pages/StorePage/styles.module.css?2133","pages/StorePage/index.tsx","webpack://event_platform/./src/pages/TimetablePage/styles.module.css?d4b9","pages/TimetablePage/index.tsx","webpack://event_platform/./src/pages/UsersPage/styles.module.css?2339","pages/UsersPage/index.tsx","webpack://event_platform/./src/pages/WorkerPage/styles.module.css?c125","pages/WorkerPage/index.tsx","webpack://event_platform/./src/pages/WorkerQuestPage/styles.module.css?85f7","pages/WorkerQuestPage/index.tsx","webpack://event_platform/./src/pages/WorkerStorePage/styles.module.css?02b2","pages/WorkerStorePage/index.tsx","App.tsx"],"sourcesContent":["export class ApiError extends Error { }\n\nexport type Modify<T, R> = Omit<T, keyof R> & R;\nexport interface ResponseMsg\n{\n\tmsg: string,\n}\n\nexport interface ImgData\n{\n\tdata: string,\n\tname: string,\n}\n","import { ApiError, ResponseMsg } from \"../api/dataTypes\";\n\nasync function fetchWithJson(method: \"GET\" | \"POST\" | \"DELETE\", input: RequestInfo | URL, body?: any)\n{\n\tconst res = await fetch(input, {\n\t\tmethod,\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: body === undefined ? null : JSON.stringify(body),\n\t});\n\tif (!res.ok) throw new ApiError((await res.json() as ResponseMsg).msg);\n\treturn res;\n}\n\nexport function fetchGet(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchWithJson(\"GET\", input, body);\n}\n\nexport function fetchPost(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchWithJson(\"POST\", input, body);\n}\n\nexport function fetchDelete(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchWithJson(\"DELETE\", input, body);\n}\n\nasync function fetchJson<T>(method: \"GET\" | \"POST\" | \"DELETE\", input: RequestInfo | URL, body?: any)\n{\n\tconst res = await fetchWithJson(method, input, body);\n\tconst data = await res.json();\n\treturn data as T;\n}\n\nexport function fetchJsonGet<T>(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchJson<T>(\"GET\", input, body);\n}\n\nexport function fetchJsonPost<T>(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchJson<T>(\"POST\", input, body);\n}\n\nexport function fetchJsonDelete<T>(input: RequestInfo | URL, body?: any)\n{\n\treturn fetchJson<T>(\"DELETE\", input, body);\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { ApiError, ResponseMsg } from \"./dataTypes\";\nimport { fetchJsonGet, fetchPost } from \"../utils/fetch\";\n\nexport interface User\n{\n\tauth: boolean;\n\tid: string;\n\tname: string;\n\tlast_name: string;\n\tphoto: string;\n\tbalance: number;\n\troles: string[];\n\toperations: string[];\n}\n\nexport interface UserFull\n{\n\tid: number;\n\tid_vk: number;\n\tid_big: string;\n\tlogin: string;\n\tname: string;\n\tlast_name: string;\n\tphoto: string;\n\tbalance: number;\n\troles: string[];\n\tdeleted: boolean;\n\toperations: string[];\n}\n\nexport interface UserWithPwd extends User\n{\n\tpassword: string;\n}\n\nexport function createEmptyUser(): User\n{\n\treturn { auth: false, id: \"\", balance: 0, roles: [], name: \"\", last_name: \"\", photo: \"\", operations: [] };\n}\n\nexport function useUpdateUser()\n{\n\tconst queryClient = useQueryClient();\n\treturn () => queryClient.invalidateQueries(\"user\");\n}\n\nexport default function useUser()\n{\n\treturn useQuery(\"user\", getUser);\n}\n\nasync function getUser(): Promise<User>\n{\n\tconst res = await fetch(\"/api/user\");\n\tconst data = await res.json();\n\n\tif (res.status == 401) return createEmptyUser();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst user = data as User;\n\tuser.auth = true;\n\treturn user;\n}\n\nexport function useUsers()\n{\n\treturn useQuery(\"users\", async () =>\n\t\tawait fetchJsonGet<UserFull[]>(\"/api/users\")\n\t);\n}\n\nexport function useMutationChangePassword(onSuccess?: () => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (data: ChangePasswordData) =>\n\t\t\tawait fetchPost(\"/api/user/change_password\", data),\n\t\tonSuccess: onSuccess,\n\t});\n\treturn mutation;\n}\n\n\ninterface ChangePasswordData\n{\n\tpassword: string;\n}\n\nexport function useMutationChangeName(onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (data: ChangeName) =>\n\t\t{\n\t\t\tawait fetchPost(\"/api/user/change_name\", data);\n\t\t\treturn data;\n\t\t},\n\t\tonSuccess: (data: ChangeName) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"user\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"user\", (user?: User) => ({ ...user!, name: data.name }));\n\t\t\tonSuccess?.();\n\t\t},\n\t});\n\treturn mutation;\n}\n\ninterface ChangeName\n{\n\tname: string;\n}","import { UseQueryResult } from \"react-query\";\nimport { User } from \"./user\";\nimport useUser from \"./user\";\n\nconst Operations = {\n\tpage_debug: \"page_debug\",\n\tpage_users: \"page_users\",\n\tpage_worker: \"page_worker\",\n\tpage_worker_quest: \"page_worker_quest\",\n\tpage_worker_store: \"page_worker_store\",\n\tpromote_worker: \"promote_worker\",\n\tpromote_manager: \"promote_manager\",\n\tmanage_store: \"manage_store\",\n\tmanage_quest: \"manage_quest\",\n\tsend_any: \"send_any\",\n}\n\nexport type Operation = keyof typeof Operations;\n\nexport default function hasPermission(user: UseQueryResult<User, unknown>, operation: Operation)\n{\n\treturn !!(user.data?.auth && user.data?.operations.includes(operation));\n}\n\nexport function useHasPermission(operation: Operation)\n{\n\tconst user = useUser();\n\treturn hasPermission(user, operation);\n}\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop()\n{\n\tconst { pathname } = useLocation();\n\n\tuseEffect(() =>\n\t{\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\n\treturn null;\n}\n","import { ReactNode } from \"react\";\nimport { UseMutationResult, UseQueryResult } from \"react-query\";\nimport { ApiError } from \"../api/dataTypes\";\n\nexport function formatError(error: any, messageFormater?: (error: string) => string)\n{\n\tconst err = error instanceof ApiError ? error.message : \"Ошибка\";\n\tconst msg = messageFormater ? messageFormater(err) : err;\n\treturn msg\n}\n\nexport default function displayError(requestRes: UseMutationResult<any, any, any, any> | UseQueryResult<any, any>, render?: (error: string) => ReactNode, messageFormater?: (error: string) => string)\n{\n\tif (!requestRes.isError) return null;\n\n\tconst msg = formatError(requestRes.error, messageFormater);\n\tconst renderer = render || defaultRender;\n\treturn renderer(msg);\n}\n\nfunction defaultRender(error: string)\n{\n\treturn (\n\t\t<h3 style={{ color: \"tomato\", textAlign: \"center\" }}>{error}</h3>\n\t)\n}\n","export default function classNames(...names: (string | undefined | null | false)[])\n{\n\treturn names.filter(v => !!v).join(\" \");\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__hzHjz\",\"visible\":\"styles_visible__6aD-n\",\"close\":\"styles_close__3L8iW\",\"message\":\"styles_message__oF8zk\"};","import { useEffect, useState } from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\nimport getCookie from \"../../utils/getCookies\";\n\nlet msg = \"\";\nexport default function MessageFromBackend()\n{\n\tconst [message, setMessage] = useState(\"\");\n\n\tuseEffect(() =>\n\t{\n\t\tconst timer = setInterval(() =>\n\t\t{\n\t\t\tconst msgCur = getMsg();\n\t\t\tif (msgCur != msg)\n\t\t\t{\n\t\t\t\tmsg = msgCur || \"\";\n\t\t\t\tsetMessage(msg);\n\t\t\t}\n\t\t}, 1000);\n\t\treturn () =>\n\t\t{\n\t\t\tclearInterval(timer);\n\t\t}\n\t}, [setMessage])\n\n\treturn (\n\t\t<div className={classNames(styles.root, message != \"\" && styles.visible)}>\n\t\t\t<button\n\t\t\t\tclassName={styles.close}\n\t\t\t\tonClick={() => setMessage(\"\")}\n\t\t\t></button>\n\t\t\t<div className={styles.message}>{trimQuotes(message)}</div>\n\t\t</div>\n\t);\n}\n\nfunction trimQuotes(str: string)\n{\n\tif (str.at(0) == '\"') str = str.slice(1);\n\tif (str.at(-1) == '\"') str = str.slice(0, -1);\n\treturn str;\n}\n\nfunction getMsg()\n{\n\treturn getCookie(\"MESSAGE_TO_FRONTEND\");\n}\n","export default function getCookie(name: string)\n{\n\tlet matches = document.cookie.match(new RegExp( // eslint-disable-next-line\n\t\t\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\n\t));\n\treturn matches ? decodeURIComponent(matches[1]) : undefined;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__4DGhY\"};","import { useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\n\nexport default function HeaderBack()\n{\n\tconst navigate = useNavigate();\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<button onClick={() => navigate(-1)} className=\"button button_light\">\n\t\t\t\tНазад\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Zvl9c\",\"home\":\"styles_home__o+-s7\",\"block\":\"styles_block__a1SM7\",\"balance\":\"styles_balance__PLLCC\",\"user\":\"styles_user__0ltHf\",\"img\":\"styles_img__vhWmb\",\"menu\":\"styles_menu__WWgPh\",\"menuVisible\":\"styles_menuVisible__mMGZn\"};","import { useMutation, useQueryClient } from \"react-query\";\nimport { fetchJsonPost, fetchPost } from \"../utils/fetch\"\nimport { ApiError } from \"./dataTypes\";\nimport { User, createEmptyUser } from \"./user\";\n\nexport function useMutationAuth(onError?: (msg: string) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postAuth,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"user\", () => data);\n\t\t},\n\t\tonError: (error) =>\n\t\t{\n\t\t\tonError?.(error instanceof ApiError ? error.message : \"Произошла ошибка, попробуйте ещё раз\");\n\t\t}\n\t});\n\treturn mutation;\n}\n\nasync function postAuth(authData: AuthData)\n{\n\tconst user = await fetchJsonPost<User>(\"/api/auth\", authData);\n\tuser.auth = true;\n\treturn user;\n}\n\ninterface AuthData\n{\n\tlogin: string,\n\tpassword: string,\n}\n\n\nexport function useMutationLogout(onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postLogout,\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"user\", (_?: User) => createEmptyUser());\n\t\t\tonSuccess?.();\n\t\t}\n\t});\n\treturn mutation;\n}\n\nexport async function postLogout()\n{\n\tawait fetchPost(\"/api/logout\");\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__BdzzK\",\"spinner\":\"styles_spinner__rlI86\",\"lds-ring\":\"styles_lds-ring__jnLuB\"};","import styles from \"./styles.module.css\"\n\nexport default function Spinner({ color, zIndex, block, r = 0 }: SpinnerProps)\n{\n\treturn (\n\t\t<div className={styles.root} style={{ position: block ? \"absolute\" : \"fixed\", borderRadius: r }}>\n\t\t\t<div className={styles.spinner} style={{ \"--color\": color, zIndex } as React.CSSProperties}><div></div><div></div><div></div><div></div></div>\n\t\t</div>\n\t);\n}\n\ninterface SpinnerProps\n{\n\tcolor?: string,\n\tzIndex?: number,\n\tr?: number | string,\n\tblock?: boolean\n}","export default function IconHome()\n{\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" height=\"1em\" width=\"1em\" fill=\"currentColor\">\n\t\t\t<path d=\"M240-200h120v-200q0-17 11.5-28.5T400-440h160q17 0 28.5 11.5T600-400v200h120v-360L480-740 240-560v360Zm-80 0v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H560q-17 0-28.5-11.5T520-160v-200h-80v200q0 17-11.5 28.5T400-120H240q-33 0-56.5-23.5T160-200Zm320-270Z\" />\n\t\t</svg>\n\t)\n}\n\n","import { Link, useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\nimport { useMutationLogout } from \"../../api/auth\";\nimport useUser from \"../../api/user\";\nimport Spinner from \"../Spinner\";\nimport { useState } from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport hasPermission from \"../../api/operations\";\nimport IconHome from \"../../icons/home\";\n\nexport default function Header({ color = \"#042e40\", homeBtn = false }: HeaderProps)\n{\n\tconst [menuOpen, setMenuOpen] = useState(false);\n\tconst navigate = useNavigate();\n\tconst mutation = useMutationLogout(() =>\n\t{\n\t\tsetMenuOpen(false);\n\t});\n\tconst user = useUser();\n\n\treturn (\n\t\t<div className={styles.root} style={{ background: color }}>\n\t\t\t<Link to={\"/\"} className={styles.home}>\n\t\t\t\t{homeBtn && <IconHome />}\n\t\t\t</Link>\n\t\t\t<span className={styles.block}>\n\t\t\t\t<div className={styles.balance}>{user.data?.balance || 0} G</div>\n\t\t\t\t<button className={styles.user} onClick={() => user.data?.auth ? setMenuOpen(v => !v) : navigate(\"/\")}>\n\t\t\t\t\t<span>{user.data?.auth ? user.data?.name : \"Войти\"}</span>\n\t\t\t\t\t{user.data?.photo && <img className={styles.img} src={user.data.photo} alt=\"avatar\" />}\n\t\t\t\t</button>\n\t\t\t\t<div className={classNames(styles.menu, menuOpen && styles.menuVisible)} style={{ background: color }}>\n\t\t\t\t\t{/* <button onClick={() => navigate(\"/profile\")}>\n\t\t\t\t\t\tПрофиль\n\t\t\t\t\t</button> */}\n\t\t\t\t\t{hasPermission(user, \"page_debug\") && <Link to=\"/debug\">{`</>`}</Link>}\n\t\t\t\t\t{hasPermission(user, \"page_worker\") && <Link to=\"/worker\">[-^-]</Link>}\n\t\t\t\t\t<button onClick={() => mutation.mutate()} disabled={mutation.status != \"idle\"}>\n\t\t\t\t\t\tВыйти\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t{mutation.status == \"loading\" && <Spinner />}\n\t\t</div>\n\t);\n}\n\ninterface HeaderProps\n{\n\tcolor?: string,\n\thomeBtn?: boolean\n}","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__xvR2N\",\"hasFooter\":\"styles_hasFooter__lMS3o\",\"body\":\"styles_body__S-p4X\",\"body_centered\":\"styles_body_centered__NzRPU\",\"body_centeredPage\":\"styles_body_centeredPage__R-EzO\"};","import classNames from \"../../utils/classNames\";\nimport Header from \"../Header\";\nimport styles from \"./styles.module.css\"\n\nexport default function Layout({ children, className, headerColor, homeBtn = false, styles: el_styles, centered = false, centeredPage = false, height100 = false, gap = 0, header, footer }: LayoutProps)\n{\n\tif (header === undefined) header = <Header color={headerColor} homeBtn={homeBtn} />\n\n\treturn (\n\t\t<div className={classNames(styles.root, !!footer && styles.hasFooter)} style={{ ...el_styles, maxHeight: height100 ? \"100dvh\" : \"\" }}>\n\t\t\t{header || <div></div>}\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\tstyles.body, className,\n\t\t\t\t\tcentered && styles.body_centered,\n\t\t\t\t\tcenteredPage && styles.body_centeredPage,\n\t\t\t\t)}\n\t\t\t\tstyle={{ gap, maxHeight: height100 ? \"100%\" : \"\" }}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t\t{footer}\n\t\t</div>\n\t);\n}\n\ninterface LayoutProps extends React.PropsWithChildren\n{\n\tcenteredPage?: boolean,\n\tcentered?: boolean,\n\theight100?: boolean,\n\tgap?: number | string,\n\tclassName?: string,\n\theader?: React.ReactNode,\n\tfooter?: React.ReactNode,\n\tstyles?: React.CSSProperties,\n\n\theaderColor?: string,\n\thomeBtn?: boolean\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NotFoundPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tТакой страницы нет\n\t\t</Layout>\n\t);\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NoPermissionPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tУ вас недостаточно прав на просмотр этой страницы\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"back\":\"styles_back__uuJZO\",\"form\":\"styles_form__n7Rcu\"};","import { useEffect } from \"react\"\n\nexport function useTitle(title: string | (string | undefined | null | false)[], prefix = \"Underparty\")\n{\n\tuseEffect(() =>\n\t{\n\t\tconst prevTitle = document.title;\n\t\tconst t = typeof title != \"object\" ? [title] : title;\n\t\tdocument.title = [prefix, ...t].filter(v => !!v).join(\" | \");\n\t\treturn () => { document.title = prevTitle; }\n\t}, [title, prefix]);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__cFFCH\",\"field\":\"styles_field__5rpBk\"};","import { useRef } from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport function Form({ className, style, onSubmit, children }: FormProps)\n{\n\tconst formRef = useRef<HTMLFormElement>(null);\n\n\treturn (\n\t\t<form\n\t\t\tclassName={classNames(styles.form, className)}\n\t\t\tstyle={style}\n\t\t\tref={formRef}\n\t\t\tonSubmit={e =>\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\tif (!formRef.current) return;\n\n\t\t\t\tconst data = new FormData(formRef.current);\n\t\t\t\tonSubmit(data);\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</form>\n\t);\n}\n\ninterface FormProps extends React.PropsWithChildren\n{\n\tonSubmit: (data: FormData) => void,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLFormElement>,\n}\n\n\nexport function FormField({ label, className, style, children }: FormFieldProps)\n{\n\treturn (\n\t\t<label className={classNames(styles.field, className)} style={style}>\n\t\t\t<span>{label}</span>\n\t\t\t{children}\n\t\t</label>\n\t);\n}\n\ninterface FormFieldProps extends React.PropsWithChildren\n{\n\tlabel?: string,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLLabelElement>,\n}\n","import { useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport { useMutationAuth } from \"../../api/auth\";\nimport Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport { Form, FormField } from \"../../components/Form\";\nimport Spinner from \"../../components/Spinner\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function AuthPage()\n{\n\tuseTitle(\"Авторизация\");\n\tconst [error, setError] = useState(\"\");\n\tconst inp_login = useRef<HTMLInputElement>(null);\n\tconst inp_password = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationAuth(setError);\n\n\tfunction onSubmit()\n\t{\n\t\tconst login = inp_login.current?.value || \"\";\n\t\tconst password = inp_password.current?.value || \"\";\n\t\tmutation.mutate({ login, password });\n\t}\n\n\treturn (\n\t\t<Layout header={null} centered centeredPage gap=\"2em\">\n\t\t\t<Link to=\"/\" className={classNames(styles.back, \"material_symbols\")}>arrow_back</Link>\n\t\t\t<h1>Мероприятие</h1>\n\t\t\t{error && <h3>{error}</h3>}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form className={styles.form} onSubmit={onSubmit}>\n\t\t\t\t<FormField label=\"Логин\">\n\t\t\t\t\t<input ref={inp_login} type=\"text\" name=\"login\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Пароль\">\n\t\t\t\t\t<input ref={inp_password} type=\"password\" name=\"password\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<button type=\"submit\" className=\"button button_light button_small\" disabled={mutation.status == \"loading\"}>Войти</button>\n\t\t\t</Form>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__7P05R\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__O0923\",\"hidden\":\"styles_hidden__eYJaf\",\"open\":\"styles_open__35Vcu\",\"popup\":\"styles_popup__L-0H0\",\"header\":\"styles_header__o87wG\",\"close\":\"styles_close__w0Yhz\",\"body\":\"styles_body__t75Nd\"};","import { useEffect, useRef, useState } from \"react\";\nimport classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport default function Popup({ children, open = false, close, title = \"\", closeOnOutclick = false }: CustomPopupProps)\n{\n\tconst ref = useRef<HTMLDivElement>(null)\n\tconst [isOpen, setIsOpen] = useState(open);\n\tconst [hidden, setHidden] = useState(!open);\n\tuseEffect(() =>\n\t{\n\t\tif (open)\n\t\t{\n\t\t\tsetHidden(false);\n\t\t\tconst timeout = setTimeout(() => setIsOpen(true), 100);\n\t\t\treturn () => clearTimeout(timeout);\n\t\t}\n\t\tsetIsOpen(false);\n\t\tconst timeout = setTimeout(() => setHidden(true), 250);\n\t\treturn () => clearTimeout(timeout);\n\t}, [open]);\n\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\tclassName={classNames(styles.root, isOpen && styles.open, hidden && styles.hidden)}\n\t\t\tonClick={e =>\n\t\t\t{\n\t\t\t\tif (closeOnOutclick && e.target == ref.current)\n\t\t\t\t\tclose?.();\n\t\t\t}}\n\t\t>\n\t\t\t<div className={styles.popup}>\n\t\t\t\t{\n\t\t\t\t\t(title || close) &&\n\t\t\t\t\t<div className={styles.header}>\n\t\t\t\t\t\t<h3>{title}</h3>\n\t\t\t\t\t\t{close && <button className={styles.close} onClick={close}></button>}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<div className={styles.body}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport interface PopupProps\n{\n\topen?: boolean,\n\tclose?: () => void,\n\ttitle?: string,\n\tcloseOnOutclick?: boolean,\n}\n\ntype CustomPopupProps = PopupProps & React.PropsWithChildren;","import { useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport Layout from \"../../components/Layout\"\nimport Popup from \"../../components/Popup\";\nimport { Link } from \"react-router-dom\";\n\nexport default function DebugPage()\n{\n\tconst [logErrors, setLogErrors] = useState(\"\");\n\tconst [log, setLog] = useState(\"\");\n\tconst refLogErrors = useRef<HTMLPreElement>(null);\n\tconst refLog = useRef<HTMLPreElement>(null);\n\n\treturn (\n\t\t<Layout centered gap=\"1rem\" className={styles.root} homeBtn>\n\t\t\t<Link to=\"/users\">Users</Link>\n\t\t\t<Link to=\"/log\">Log</Link>\n\t\t\t<button onClick={async () =>\n\t\t\t{\n\t\t\t\tsetLogErrors(\"Loading\");\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tconst res = await fetch(\"/api/debug/log_errors\");\n\t\t\t\t\tconst data = await res.text();\n\t\t\t\t\tsetLogErrors(data);\n\t\t\t\t\tsetTimeout(() => refLogErrors.current?.parentElement?.scrollTo(0, refLogErrors.current?.parentElement?.scrollHeight), 150);\n\t\t\t\t}\n\t\t\t\tcatch (x) { setLogErrors(JSON.stringify(x)); }\n\t\t\t}}>Log errors</button>\n\t\t\t<button onClick={async () =>\n\t\t\t{\n\t\t\t\tsetLog(\"Loading\");\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tconst res = await fetch(\"/api/debug/log_info\");\n\t\t\t\t\tconst data = await res.text();\n\t\t\t\t\tsetLog(data);\n\t\t\t\t\tsetTimeout(() => refLog.current?.parentElement?.scrollTo(0, refLog.current?.parentElement?.scrollHeight), 150);\n\t\t\t\t}\n\t\t\t\tcatch (x) { setLog(JSON.stringify(x)); }\n\t\t\t}}>Log requests</button>\n\t\t\t<Popup title=\"logErrors\" open={logErrors != \"\"} close={() => setLogErrors(\"\")}>\n\t\t\t\t<pre ref={refLogErrors}>{logErrors}</pre>\n\t\t\t</Popup>\n\t\t\t<Popup title=\"log\" open={log != \"\"} close={() => setLog(\"\")}>\n\t\t\t\t<pre ref={refLog}>{log}</pre>\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__h8xNs\",\"auth\":\"styles_auth__quDS1\",\"img\":\"styles_img__jUWp9\",\"title\":\"styles_title__+su+v\",\"btn\":\"styles_btn__xIQ7b\"};","const client_id = \"51848582\"\nconst redirect_uri = process.env.PUBLIC_URL + \"/auth_vk\"\n\nexport const authLink = `https://oauth.vk.com/authorize?client_id=${client_id}&redirect_uri=${redirect_uri}&display=page&response_type=code`;\n","import styles from \"./styles.module.css\"\nimport city from \"./city.png\";\nimport { Link } from \"react-router-dom\";\nimport { authLink } from \"../../utils/authLink\";\n\nexport default function IndexPage()\n{\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<Link to=\"/auth\" className={styles.auth} />\n\t\t\t<div className={styles.title}>\n\t\t\t\t<img className={styles.img} src={city} alt=\"Город\" />\n\t\t\t\t<div>\n\t\t\t\t\t<h1>Underparty</h1>\n\t\t\t\t\t<h2>18.02.24</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<a className={styles.btn} href={authLink}>\n\t\t\t\tВход\n\t\t\t</a>\n\t\t</div>\n\t);\n}\n","import { useQuery } from \"react-query\";\nimport { Modify } from \"./dataTypes\";\nimport { fetchJsonGet } from \"../utils/fetch\";\n\nexport function useLog()\n{\n\treturn useQuery(\"log\", async () =>\n\t\t(await fetchJsonGet<LogItemResponse[]>(\"/api/debug/log\")).map(parseLogResponse)\n\t);\n}\n\nexport function parseLogResponse(responseLog: LogItemResponse)\n{\n\tconst log = responseLog as unknown as LogItem;\n\tlog.date = new Date(responseLog.date);\n\treturn log;\n}\n\nexport interface LogItem\n{\n\tid: number,\n\tactionCode: \"added\" | \"updated\" | \"deleted\" | \"restored\",\n\tdate: Date,\n\trecordId: number,\n\tuserId: number,\n\tuserName: string,\n\ttableName: \"User\" | \"Role\" | \"Event\" | \"Ticket\" | \"TicketType\" | \"PermissionAccess\",\n\tchanges: [string, any, any][],\n}\n\ntype LogItemResponse = Modify<LogItem, {\n\tdate: string,\n}>\n","export function padNum(num: number, len: number)\n{\n\treturn `${num}`.padStart(len, \"0\");\n}\n\nexport function countWord(num: number, one: string, two: string, five: string)\n{\n\tconst numS = `${num}`;\n\tif (numS.at(-1) == \"1\" && numS.at(-2) != \"1\")\n\t\treturn one;\n\tif ([\"2\", \"3\", \"4\"].includes(numS.at(-1) || \"\") && numS.at(-2) != \"1\")\n\t\treturn two;\n\treturn five;\n}\n","import { padNum, countWord } from \"./nums\";\n\nexport function dateToString(date: Date | null | undefined, reverse = false)\n{\n\tif (!date) return \"\";\n\tif (reverse)\n\t\treturn `${date.getFullYear()}.${padNum(date.getMonth() + 1, 2)}.${padNum(date.getDate(), 2)}`;\n\treturn `${padNum(date.getDate(), 2)}.${padNum(date.getMonth() + 1, 2)}.${date.getFullYear()}`;\n}\n\nexport function timeToString(date: Date, seconds = false)\n{\n\tlet dateStr = `${padNum(date.getHours(), 2)}:${padNum(date.getMinutes(), 2)}`;\n\tif (seconds) return dateStr + `:${padNum(date.getSeconds(), 2)}`;\n\treturn dateStr;\n}\n\nexport function datetimeToString(date: Date, seconds = false, reverseDate = false)\n{\n\treturn dateToString(date, reverseDate) + \" \" + timeToString(date, seconds);\n}\n\nexport function relativeDate(date: Date, nowBreak: \"second\" | \"minute\" | \"hour\" | \"day\" = \"second\")\n{\n\tconst now = new Date();\n\n\tconst delta = date.getTime() - now.getTime();\n\tlet d = Math.floor(Math.abs(delta) / 1000);\n\n\tconst dY = Math.floor(d / (60 * 60 * 24 * 30 * 12)); d -= dY * 60 * 60 * 24 * 30 * 12;\n\tconst dM = Math.floor(d / (60 * 60 * 24 * 30)); d -= dM * 60 * 60 * 24 * 30;\n\tconst dD = Math.floor(d / (60 * 60 * 24)); d -= dD * 60 * 60 * 24;\n\tconst dh = Math.floor(d / (60 * 60)) % 24; d -= dh * 60 * 60;\n\tconst dm = Math.floor(d / 60) % 60; d -= dm * 60;\n\tconst ds = d % 60;\n\n\tfunction getChange(): [string | number, [string, string, string]]\n\t{\n\t\tconst sv = (v: string) => [v, [\"\", \"\", \"\"]] as [string, [string, string, string]];\n\t\tif (dY != 0) return [dY, [\"год\", \"года\", \"лет\"]];\n\t\tif (dM != 0) return [dM, [\"месяц\", \"месяца\", \"месяцов\"]];\n\t\tif (dD != 0) return [dD, [\"день\", \"дня\", \"дней\"]];\n\t\tif (nowBreak == \"day\") return sv(\"Сегодня\");\n\t\tif (dh != 0) return [dh, [\"час\", \"часа\", \"часов\"]];\n\t\tif (nowBreak == \"hour\") return sv(\"Сейчас\");\n\t\tif (dm != 0) return [dm, [\"минута\", \"минуты\", \"минут\"]];\n\t\tif (nowBreak == \"minute\") return sv(\"Сейчас\");\n\t\tif (ds != 0) return [ds, [\"секунда\", \"секунды\", \"секунд\"]];\n\t\treturn sv(\"Только что\");\n\t}\n\tlet [vChange, vNames] = getChange();\n\n\tif (typeof vChange == \"string\")\n\t\treturn vChange;\n\n\tlet relative = `${countWord(vChange, ...vNames)}`\n\tif (Math.abs(vChange) > 1) relative = Math.abs(vChange) + \" \" + relative;\n\tif (delta > 0) relative = \"Через \" + relative;\n\telse relative += \" назад\";\n\n\treturn relative;\n}\n\nexport function secondsPast(date: Date)\n{\n\tconst now = new Date();\n\treturn (now.getTime() - date.getTime()) / 1000;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"table\":\"styles_table__QLr-h\",\"changesCell\":\"styles_changesCell__0wQDJ\",\"changes\":\"styles_changes__EyS9f\",\"btn\":\"styles_btn__H7b72\"};","import { LogItem, useLog } from \"../../api/log\";\nimport Layout from \"../../components/Layout\"\nimport { datetimeToString } from \"../../utils/dates\";\nimport displayError from \"../../utils/displayError\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function LogPage()\n{\n\tuseTitle(\"Log\");\n\tconst log = useLog();\n\n\treturn <Layout centeredPage styles={{ fontFamily: \"'PT Sans', Arial\" }} homeBtn>\n\t\t{log.isFetching && <h3>Загрузка</h3>}\n\t\t{displayError(log)}\n\t\t{!log.isFetching && <button className={styles.btn} onClick={() => log.refetch()}>Update</button>}\n\t\t<table className={styles.table}>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th style={{ minWidth: \"9.5em\" }}>Date</th>\n\t\t\t\t\t<th style={{ minWidth: \"4em\" }}>Action</th>\n\t\t\t\t\t<th style={{ minWidth: \"9.5em\" }}>Table[id]</th>\n\t\t\t\t\t<th>User[id]</th>\n\t\t\t\t\t<th style={{ width: \"18em\" }}>Changes</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{log.data?.map(item => <tr key={item.id}>\n\t\t\t\t\t<td>{datetimeToString(item.date, true, true)}</td>\n\t\t\t\t\t<td>{colorizeAction(item.actionCode)}</td>\n\t\t\t\t\t<td>{item.tableName}[{item.recordId}]</td>\n\t\t\t\t\t<td>{item.userName} [{item.userId}]</td>\n\t\t\t\t\t<td className={styles.changesCell}>\n\t\t\t\t\t\t<div className={styles.changes}>\n\t\t\t\t\t\t\t<input type=\"checkbox\" className={styles.toggleInp} id={`item${item.id}`} />\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{item.changes.map(v => <div key={v[0]}>{v[0]}: {JSON.stringify(v[1])} {\"->\"} {JSON.stringify(v[2])}</div>)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{item.changes.length > 0 &&\n\t\t\t\t\t\t\t\t<label className={styles.btn} htmlFor={`item${item.id}`}>{item.changes.length}</label>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>)}\n\t\t\t</tbody>\n\t\t</table>\n\t</Layout>\n}\n\nfunction colorizeAction(action: LogItem[\"actionCode\"])\n{\n\tconst colors: { [key in LogItem[\"actionCode\"]]: string } = {\n\t\tadded: \"#008000\",\n\t\tdeleted: \"#b30000\",\n\t\tupdated: \"#006fb3\",\n\t\trestored: \"#990099\",\n\t}\n\treturn <span style={{ color: colors[action] }}>{action}</span>\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { fetchDelete, fetchJsonGet, fetchJsonPost } from \"../utils/fetch\";\n\nexport interface Quest\n{\n\tid: number,\n\tname: string,\n\tdescription: string,\n\treward: number,\n\tcompleted: boolean,\n}\n\nexport interface QuestFull\n{\n\tid: number,\n\tid_big: string,\n\tname: string,\n\tdescription: string,\n\treward: number,\n\thidden: boolean,\n}\n\nexport function useQuests()\n{\n\treturn useQuery(\"quests\", async () =>\n\t\tawait fetchJsonGet<Quest[]>(\"/api/quests\")\n\t);\n}\n\nexport function useQuestsFull()\n{\n\treturn useQuery(\"quests_full\", async () =>\n\t\tawait fetchJsonGet<QuestFull[]>(\"/api/quests_full\")\n\t);\n}\n\n\nexport function useMutationAddQuest(onSuccess?: (data: QuestFull) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (questData: QuestData) =>\n\t\t\tawait fetchJsonPost<QuestFull>(\"/api/quest\", questData),\n\t\tonSuccess: (data: QuestFull) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"quests_full\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"quests_full\", (quests?: QuestFull[]) => quests ? [...quests, data] : [data]);\n\n\t\t\tif (queryClient.getQueryState(\"quests\")?.status == \"success\")\n\t\t\t{\n\t\t\t\tconsole.log(\"some log for testing\");\n\t\t\t\tqueryClient.invalidateQueries(\"quests\", { exact: true });\n\t\t\t}\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport interface QuestData\n{\n\tname: string,\n\tdescription: string,\n\treward: number,\n\thidden: boolean,\n}\n\nexport function useMutationEditQuest(questId: number, onSuccess?: (data: QuestFull) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (questData: QuestData) =>\n\t\t\tawait fetchJsonPost<QuestFull>(`/api/quest/${questId}`, questData),\n\t\tonSuccess: (data: QuestFull) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"quests_full\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"quests_full\", (quests?: QuestFull[]) => quests?.map(v => v.id == data.id ? data : v) || []);\n\n\t\t\tif (queryClient.getQueryState(\"quests\")?.status == \"success\")\n\t\t\t\tqueryClient.invalidateQueries(\"quests\", { exact: true });\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationDeleteQuest(questId: number, onSuccess?: () => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchDelete(`/api/quest/${questId}`),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"quests_full\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"quests_full\", (quests?: QuestFull[]) => quests?.filter(v => v.id != questId) || []);\n\n\t\t\tif (queryClient.getQueryState(\"quests\")?.status == \"success\")\n\t\t\t\tqueryClient.invalidateQueries(\"quests\", { exact: true });\n\n\t\t\tonSuccess?.();\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n","import { useState } from \"react\";\n\nexport default function useStateBool(initialState: boolean | (() => boolean), onSet?: () => void)\n{\n\tlet [v, set] = useState(initialState)\n\tlet setFn = set;\n\tif (onSet)\n\t\tsetFn = (v: boolean | ((prevState: boolean) => boolean)) =>\n\t\t{\n\t\t\tset(v);\n\t\t\tonSet();\n\t\t};\n\n\treturn {\n\t\tv,\n\t\tset: setFn,\n\t\tsetT: () => set(true),\n\t\tsetF: () => set(false),\n\t};\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__oNkfm\",\"img\":\"styles_img__46Cxj\",\"textarea\":\"styles_textarea__sNjzZ\",\"description_count\":\"styles_description_count__Nnz4M\",\"description_count_too_many\":\"styles_description_count_too_many__udmKa\"};","import { useState } from \"react\";\n\nexport default function useStateObj<S>(initialState: S | (() => S), onSet?: () => void)\n{\n\tconst [v, set] = useState(initialState)\n\tif (onSet)\n\t\treturn {\n\t\t\tv, set: (v: S | ((prevState: S) => S)) =>\n\t\t\t{\n\t\t\t\tset(v);\n\t\t\t\tonSet();\n\t\t\t}\n\t\t};\n\treturn { v, set };\n}\n","import { useRef } from \"react\";\nimport { Form, FormField } from \"../../../components/Form\"\nimport Popup from \"../../../components/Popup\"\nimport Spinner from \"../../../components/Spinner\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport styles from \"./styles.module.css\"\nimport { useMutationAddQuest } from \"../../../api/quest\";\nimport useStateObj from \"../../../utils/useStateObj\";\n\nexport default function AddQuest()\n{\n\tconst nameRef = useRef<HTMLInputElement>(null);\n\tconst rewardRef = useRef<HTMLInputElement>(null);\n\tconst hiddenRef = useRef<HTMLInputElement>(null);\n\tconst description = useStateObj(\"\");\n\tconst popupOpen = useStateBool(false);\n\tconst mutationAdd = useMutationAddQuest(() =>\n\t{\n\t\tpopupOpen.setF();\n\t\tif (nameRef.current)\n\t\t\tnameRef.current.value = \"\";\n\t\tif (rewardRef.current)\n\t\t\trewardRef.current.value = \"\";\n\t\tif (hiddenRef.current)\n\t\t\thiddenRef.current.checked = false;\n\t\tdescription.set(\"\");\n\t});\n\n\treturn <>\n\t\t<button className={styles.root} onClick={popupOpen.setT}>Добавить</button>\n\t\t<Popup title=\"Добавление квеста\" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t{mutationAdd.isLoading && <Spinner />}\n\t\t\t{displayError(mutationAdd)}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst name = nameRef.current?.value;\n\t\t\t\tconst reward = rewardRef.current?.valueAsNumber;\n\t\t\t\tconst hidden = hiddenRef.current?.checked;\n\t\t\t\tif (name && reward !== undefined && hidden !== undefined)\n\t\t\t\t\tmutationAdd.mutate({\n\t\t\t\t\t\tname,\n\t\t\t\t\t\treward,\n\t\t\t\t\t\thidden,\n\t\t\t\t\t\tdescription: description.v,\n\t\t\t\t\t})\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Название\">\n\t\t\t\t\t<input ref={nameRef} required type=\"text\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Награда\">\n\t\t\t\t\t<input ref={rewardRef} required type=\"number\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input ref={hiddenRef} type=\"checkbox\" />\n\t\t\t\t\t\t<span>Скрытый</span>\n\t\t\t\t\t</label>\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Описание\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tclassName={styles.textarea}\n\t\t\t\t\t\tcols={40}\n\t\t\t\t\t\trows={10}\n\t\t\t\t\t\tvalue={description.v}\n\t\t\t\t\t\tonChange={inp => description.set(inp.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className={styles.description_count}>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<span className={description.v.length > 256 ? styles.description_count_too_many : \"\"}>{description.v.length}</span>\n\t\t\t\t\t\t\t<span>/256</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</FormField>\n\t\t\t\t<FormField>\n\t\t\t\t\t<button type=\"submit\">Добавить</button>\n\t\t\t\t</FormField>\n\t\t\t</Form>\n\t\t</Popup>\n\t</>\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"styles_button__MKylh\"};","import styles from \"./styles.module.css\"\nimport { UseMutationResult } from \"react-query\";\nimport displayError from \"../../utils/displayError\";\nimport { Form } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport Spinner from \"../Spinner\";\nimport { useEffect } from \"react\";\n\nexport default function PopupConfirm<T, K>({ title, mutationFn, mutatateParams, itemId, onSuccess, open, close }: PopupConfirmProps<T, K>)\n{\n\tconst mutation = mutationFn(itemId, (item: any) =>\n\t{\n\t\tclose?.();\n\t\tonSuccess?.(item);\n\t});\n\n\tuseEffect(() =>\n\t{\n\t\tif (!open)\n\t\t\tmutation.reset();\n\t\t// eslint-disable-next-line\n\t}, [open]);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\"Вы уверены?\">\n\t\t\t{displayError(mutation)}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tmutation.mutate(mutatateParams!);\n\t\t\t}}>\n\t\t\t\t<h2>{title}</h2>\n\t\t\t\t<button type=\"submit\" className={styles.button}>Подтвердить</button>\n\t\t\t</Form>\n\t\t</Popup>\n\t);\n}\n\ninterface PopupConfirmProps<T, K> extends PopupProps\n{\n\tmutationFn: (itemId: number, onSuccess: (item: T | void) => void) => UseMutationResult<T, any, K, any>,\n\tmutatateParams?: K,\n\titemId: number,\n\ttitle: string,\n\tonSuccess?: (item: T) => void,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__RyDEO\",\"error\":\"styles_error__mpo99\",\"id\":\"styles_id__+YyjR\",\"img\":\"styles_img__Q1dE-\",\"inputs\":\"styles_inputs__+GHP-\",\"changed\":\"styles_changed__-Gqjn\",\"buttons\":\"styles_buttons__DpOXa\",\"btnMinus\":\"styles_btnMinus__sOvku\",\"checkbox\":\"styles_checkbox__3q5xK\",\"description\":\"styles_description__IsQuf\",\"textarea\":\"styles_textarea__DP8w4\",\"description_count\":\"styles_description_count__rC08l\",\"description_count_too_many\":\"styles_description_count_too_many__9Cvtl\"};","export default function IconDelete()\n{\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" height=\"1em\" width=\"1em\" fill=\"currentColor\">\n\t\t\t<path d=\"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z\" />\n\t\t</svg>\n\t)\n}\n","export default function IconSave()\n{\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" height=\"1em\" width=\"1em\" fill=\"currentColor\">\n\t\t\t<path d=\"M840-680v480q0 33-23.5 56.5T760-120H200q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h480l160 160Zm-80 34L646-760H200v560h560v-446ZM480-240q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35ZM240-560h360v-160H240v160Zm-40-86v446-560 114Z\" />\n\t\t</svg>\n\t)\n}\n","export default function IconCancel()\n{\n\treturn (\n\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -960 960 960\" height=\"1em\" width=\"1em\" fill=\"currentColor\">\n\t\t\t<path d=\"m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z\" />\n\t\t</svg>\n\t)\n}\n","import { useEffect } from \"react\";\nimport PopupConfirm from \"../../../components/PopupConfirm\";\nimport Spinner from \"../../../components/Spinner\";\nimport classNames from \"../../../utils/classNames\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport useStateObj from \"../../../utils/useStateObj\";\nimport styles from \"./styles.module.css\"\nimport { useMutationEditQuest, useMutationDeleteQuest, type QuestFull } from \"../../../api/quest\";\nimport IconDelete from \"../../../icons/delete\";\nimport IconSave from \"../../../icons/save\";\nimport IconCancel from \"../../../icons/cancel\";\nimport Popup from \"../../../components/Popup\";\n\nexport default function Quest({ quest }: QuestProps)\n{\n\tconst changed = useStateBool(false);\n\tconst deleting = useStateBool(false);\n\tconst popupOpen = useStateBool(false);\n\tconst name = useStateObj(quest.name, changed.setT);\n\tconst reward = useStateObj(quest.reward, changed.setT);\n\tconst hidden = useStateBool(quest.hidden, changed.setT);\n\tconst description = useStateObj(quest.description, changed.setT);\n\n\tconst mutationEdit = useMutationEditQuest(quest.id, reset, () => reset());\n\n\tfunction reset(newQuest?: QuestFull)\n\t{\n\t\tname.set(newQuest?.name || quest.name);\n\t\treward.set(newQuest?.reward || quest.reward);\n\t\thidden.set(newQuest?.hidden || quest.hidden);\n\t\tdescription.set(newQuest?.description || quest.description);\n\t\tchanged.setF();\n\t}\n\n\t// eslint-disable-next-line\n\tuseEffect(reset, [quest])\n\n\treturn (\n\t\t<div className={classNames(styles.root, changed.v && styles.changed)}>\n\t\t\t{mutationEdit.isLoading && <Spinner block r=\"0.5rem\" />}\n\t\t\t{displayError(mutationEdit, err => <div className={styles.error}>\n\t\t\t\t<div>{err}</div>\n\t\t\t\t<button onClick={() => mutationEdit.reset()}>ОК</button>\n\t\t\t</div>)}\n\t\t\t<PopupConfirm title={\"Удалить товар: \" + name.v} itemId={quest.id} mutationFn={useMutationDeleteQuest} open={deleting.v} close={deleting.setF} />\n\t\t\t<div className={styles.id}>{quest.id}</div>\n\t\t\t<div className={styles.inputs}>\n\t\t\t\t<div>Название</div>\n\t\t\t\t<input type=\"text\" value={name.v} onChange={inp => name.set(inp.target.value)} />\n\t\t\t\t<div>Награда</div>\n\t\t\t\t<input type=\"number\" value={reward.v} onChange={inp => reward.set(inp.target.valueAsNumber)} />\n\t\t\t\t<span>Скрытый</span>\n\t\t\t\t<label className={styles.checkbox}>\n\t\t\t\t\t<input type=\"checkbox\" checked={hidden.v} onChange={inp => hidden.set(inp.target.checked)} />\n\t\t\t\t\t<span></span>\n\t\t\t\t</label>\n\t\t\t\t<div>Описание</div>\n\t\t\t\t<button\n\t\t\t\t\tclassName={classNames(styles.description, description.v.length > 256 && styles.description_count_too_many)}\n\t\t\t\t\tonClick={popupOpen.setT}\n\t\t\t\t>\n\t\t\t\t\t{description.v}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className={classNames(\"material_symbols\", styles.buttons)}>\n\t\t\t\t{!changed.v && <button onClick={deleting.setT}><IconDelete /></button>}\n\t\t\t\t{changed.v && <button\n\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tmutationEdit.mutate({\n\t\t\t\t\t\t\tname: name.v,\n\t\t\t\t\t\t\tdescription: description.v,\n\t\t\t\t\t\t\treward: reward.v,\n\t\t\t\t\t\t\thidden: hidden.v,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<IconSave />\n\t\t\t\t</button>}\n\t\t\t\t{changed.v && <button onClick={() => reset()}><IconCancel /></button>}\n\t\t\t</div>\n\t\t\t<Popup title=\"Редактирование квеста\" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t\t<h2>Описание квеста {name.v}</h2>\n\t\t\t\t<textarea\n\t\t\t\t\tclassName={styles.textarea}\n\t\t\t\t\tcols={40}\n\t\t\t\t\trows={10}\n\t\t\t\t\tvalue={description.v}\n\t\t\t\t\tonChange={inp => description.set(inp.target.value)}\n\t\t\t\t/>\n\t\t\t\t<div className={styles.description_count}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span className={description.v.length > 256 ? styles.description_count_too_many : \"\"}>{description.v.length}</span>\n\t\t\t\t\t\t<span>/256</span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</Popup>\n\t\t</div>\n\t);\n}\n\ninterface QuestProps\n{\n\tquest: QuestFull\n}","// extracted by mini-css-extract-plugin\nexport default {\"quests\":\"styles_quests__lnETn\"};","import { useQuestsFull } from \"../../api/quest\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport AddQuest from \"./AddQuest\";\nimport Quest from \"./Quest\";\nimport styles from \"./styles.module.css\"\n\nexport default function ManageQuestPage()\n{\n\tuseTitle(\"Квесты\");\n\tconst quests = useQuestsFull();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"0.5rem\" homeBtn>\n\t\t\t{quests.isLoading && <Spinner />}\n\t\t\t{displayError(quests)}\n\n\t\t\t<h1>Управление квестами</h1>\n\n\t\t\t<AddQuest />\n\n\t\t\t<div className={styles.quests}>\n\t\t\t\t{quests.data?.map(quest => <Quest key={quest.id} quest={quest} />)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { fetchDelete, fetchJsonGet, fetchJsonPost } from \"../utils/fetch\";\nimport type { ImgData } from \"./dataTypes\";\n\nexport interface StoreItem\n{\n\tid: number;\n\tname: string;\n\tprice: number;\n\tcount: \"many\" | \"few\" | \"no\";\n\timg?: string;\n}\n\nexport interface StoreItemFull\n{\n\tid: number;\n\tid_big: string;\n\tname: string;\n\tprice: number;\n\tcount: number;\n\timg?: string;\n}\n\n\nexport function useStoreItems()\n{\n\treturn useQuery(\"storeItems\", async () =>\n\t\tawait fetchJsonGet<StoreItem[]>(\"/api/store_items\")\n\t);\n}\n\nexport function useStoreItemsFull()\n{\n\treturn useQuery(\"storeItemsFull\", async () =>\n\t\tawait fetchJsonGet<StoreItemFull[]>(\"/api/store_items_full\")\n\t);\n}\n\n\nexport function useMutationAddItem(onSuccess?: (data: StoreItemFull) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (itemData: ItemData) =>\n\t\t\tawait fetchJsonPost<StoreItemFull>(\"/api/store_item\", itemData),\n\t\tonSuccess: (data: StoreItemFull) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"storeItemsFull\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"storeItemsFull\", (items?: StoreItemFull[]) => items ? [...items, data] : [data]);\n\n\t\t\tif (queryClient.getQueryState(\"storeItems\")?.status == \"success\")\n\t\t\t\tqueryClient.invalidateQueries(\"storeItems\", { exact: true });\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport interface ItemData\n{\n\tname: string,\n\tprice: number,\n\tcount: number,\n\timg?: ImgData,\n}\n\nexport function useMutationEditItem(itemId: number, onSuccess?: (data: StoreItemFull) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (itemData: ItemData) =>\n\t\t\tawait fetchJsonPost<StoreItemFull>(`/api/store_item/${itemId}`, itemData),\n\t\tonSuccess: (data: StoreItemFull) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"storeItemsFull\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"storeItemsFull\", (items?: StoreItemFull[]) => items?.map(v => v.id == data.id ? data : v) || []);\n\n\t\t\tif (queryClient.getQueryState(\"storeItems\")?.status == \"success\")\n\t\t\t\tqueryClient.invalidateQueries(\"storeItems\", { exact: true });\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationDecreaseItem(itemId: number, onSuccess?: (data: StoreItemFull) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchJsonPost<StoreItemFull>(`/api/store_item/${itemId}/decrease`),\n\t\tonSuccess: (data: StoreItemFull) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"storeItemsFull\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"storeItemsFull\", (items?: StoreItemFull[]) => items?.map(v => v.id == data.id ? data : v) || []);\n\n\t\t\tif (queryClient.getQueryState(\"storeItems\")?.status == \"success\")\n\t\t\t\tqueryClient.invalidateQueries(\"storeItems\", { exact: true });\n\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\nexport function useMutationDeleteItem(itemId: number, onSuccess?: () => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async () =>\n\t\t\tawait fetchDelete(`/api/store_item/${itemId}`),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"storeItemsFull\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"storeItemsFull\", (items?: StoreItemFull[]) => items?.filter(v => v.id != itemId) || []);\n\n\t\t\tif (queryClient.getQueryState(\"storeItems\")?.status == \"success\")\n\t\t\t\tqueryClient.invalidateQueries(\"storeItems\", { exact: true });\n\n\t\t\tonSuccess?.();\n\t\t},\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__yl-I8\",\"img\":\"styles_img__gddIw\"};","import { ImgData } from \"../api/dataTypes\";\n\nexport default async function imagefileToData(file: File, name: string)\n{\n\tconst imgBase64 = await new Promise((resolve: (a: { result: string | ArrayBuffer | null, error: string | DOMException | null }) => void) =>\n\t{\n\t\tvar reader = new FileReader();\n\t\treader.addEventListener(\"loadend\", e =>\n\t\t{\n\t\t\tresolve({\n\t\t\t\tresult: reader.result,\n\t\t\t\terror: reader.error,\n\t\t\t});\n\t\t});\n\t\treader.readAsDataURL(file);\n\t});\n\tif (imgBase64.error)\n\t{\n\t\tconsole.error(imgBase64.error);\n\t\treturn null;\n\t}\n\treturn {\n\t\tdata: imgBase64.result,\n\t\tname,\n\t} as ImgData\n}","import { useRef } from \"react\";\nimport { useMutationAddItem } from \"../../../api/store\";\nimport { Form, FormField } from \"../../../components/Form\"\nimport Popup from \"../../../components/Popup\"\nimport Spinner from \"../../../components/Spinner\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport styles from \"./styles.module.css\"\nimport imagefileToData from \"../../../utils/imagefileToData\";\nimport useStateObj from \"../../../utils/useStateObj\";\nimport type { ImgData } from \"../../../api/dataTypes\";\n\nexport default function AddStoreItem()\n{\n\tconst imgData = useStateObj<ImgData | null>(null);\n\tconst nameRef = useRef<HTMLInputElement>(null);\n\tconst priceRef = useRef<HTMLInputElement>(null);\n\tconst countRef = useRef<HTMLInputElement>(null);\n\tconst popupOpen = useStateBool(false);\n\tconst mutationAdd = useMutationAddItem(() =>\n\t{\n\t\timgData.set(null);\n\t\tpopupOpen.setF();\n\t\tif (nameRef.current)\n\t\t\tnameRef.current.value = \"\";\n\t\tif (priceRef.current)\n\t\t\tpriceRef.current.value = \"\";\n\t\tif (countRef.current)\n\t\t\tcountRef.current.value = \"\";\n\t});\n\n\treturn <>\n\t\t<button className={styles.root} onClick={popupOpen.setT}>Добавить</button>\n\t\t<Popup title=\"Добавление товара\" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t{mutationAdd.isLoading && <Spinner />}\n\t\t\t{displayError(mutationAdd)}\n\t\t\t{imgData.v?.data == \"\" && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst name = nameRef.current?.value;\n\t\t\t\tconst count = countRef.current?.valueAsNumber;\n\t\t\t\tconst price = priceRef.current?.valueAsNumber;\n\t\t\t\tif (count && name && price)\n\t\t\t\t\tmutationAdd.mutate({\n\t\t\t\t\t\tcount,\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tprice,\n\t\t\t\t\t\timg: imgData.v || undefined,\n\t\t\t\t\t})\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Изображение\">\n\t\t\t\t\t<div className={styles.img}>\n\t\t\t\t\t\t{imgData.v && <img src={imgData.v.data} alt=\"Изображение\" />}\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\"image/png, image/jpeg, image/gif\"\n\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\tonChange={async e =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\timgData.set({ data: \"\", name: \"\" });\n\t\t\t\t\t\t\timgData.set(await imagefileToData(e.target?.files?.[0]!, \"\"));\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Название\">\n\t\t\t\t\t<input ref={nameRef} required type=\"text\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Цена\">\n\t\t\t\t\t<input ref={priceRef} required type=\"number\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Количество\">\n\t\t\t\t\t<input ref={countRef} required type=\"number\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField>\n\t\t\t\t\t<button type=\"submit\">Добавить</button>\n\t\t\t\t</FormField>\n\t\t\t</Form>\n\t\t</Popup>\n\t</>\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__792UO\",\"error\":\"styles_error__EjE0M\",\"id\":\"styles_id__EvI3k\",\"img\":\"styles_img__F6UZc\",\"inputs\":\"styles_inputs__r6vu+\",\"changed\":\"styles_changed__aaZPg\",\"buttons\":\"styles_buttons__X3oNY\",\"btnMinus\":\"styles_btnMinus__5ZzMA\"};","import { useEffect } from \"react\";\nimport { useMutationEditItem, useMutationDeleteItem, useMutationDecreaseItem, type StoreItemFull } from \"../../../api/store\";\nimport PopupConfirm from \"../../../components/PopupConfirm\";\nimport Spinner from \"../../../components/Spinner\";\nimport classNames from \"../../../utils/classNames\";\nimport displayError from \"../../../utils/displayError\";\nimport useStateBool from \"../../../utils/useStateBool\";\nimport useStateObj from \"../../../utils/useStateObj\";\nimport styles from \"./styles.module.css\"\nimport type { ImgData } from \"../../../api/dataTypes\";\nimport imagefileToData from \"../../../utils/imagefileToData\";\nimport IconDelete from \"../../../icons/delete\";\nimport IconCancel from \"../../../icons/cancel\";\nimport IconSave from \"../../../icons/save\";\n\nexport default function StoreItem({ item }: StoreItemProps)\n{\n\tconst changed = useStateBool(false);\n\tconst deleting = useStateBool(false);\n\tconst decreasing = useStateBool(false);\n\tconst imgData = useStateObj<ImgData | null>(null, changed.setT);\n\tconst name = useStateObj(item.name, changed.setT);\n\tconst count = useStateObj(item.count, changed.setT);\n\tconst price = useStateObj(item.price, changed.setT);\n\n\tconst mutationEdit = useMutationEditItem(item.id, reset, () => reset());\n\n\tfunction reset(newitem?: StoreItemFull)\n\t{\n\t\timgData.set(null);\n\t\tname.set(newitem?.name || item.name);\n\t\tcount.set(newitem?.count || item.count);\n\t\tprice.set(newitem?.price || item.price);\n\t\tchanged.setF();\n\t}\n\n\t// eslint-disable-next-line\n\tuseEffect(reset, [item])\n\n\treturn (\n\t\t<div className={classNames(styles.root, changed.v && styles.changed)}>\n\t\t\t{mutationEdit.isLoading && <Spinner block r=\"0.5rem\" />}\n\t\t\t{imgData.v?.data == \"\" && <Spinner block r=\"0.5rem\" />}\n\t\t\t{displayError(mutationEdit, err => <div className={styles.error}>\n\t\t\t\t<div>{err}</div>\n\t\t\t\t<button onClick={() => mutationEdit.reset()}>ОК</button>\n\t\t\t</div>)}\n\t\t\t<PopupConfirm title={\"Удалить товар: \" + name.v} itemId={item.id} mutationFn={useMutationDeleteItem} open={deleting.v} close={deleting.setF} />\n\t\t\t<PopupConfirm title={\"Уменьшить кол-во на 1: \" + name.v} itemId={item.id} mutationFn={useMutationDecreaseItem} open={decreasing.v} close={decreasing.setF} />\n\t\t\t<div className={styles.id}>{item.id}</div>\n\t\t\t<label className={styles.img}>\n\t\t\t\t{(item.img || imgData.v) && <img src={imgData.v?.data || item.img} alt=\"Картинка\" />}\n\t\t\t\t<input\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\taccept=\"image/png, image/jpeg, image/gif\"\n\t\t\t\t\tonChange={async e =>\n\t\t\t\t\t{\n\t\t\t\t\t\timgData.set({ data: \"\", name: \"\" });\n\t\t\t\t\t\timgData.set(await imagefileToData(e.target?.files?.[0]!, \"\"));\n\t\t\t\t\t\te.target.value = \"\";\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</label>\n\t\t\t<div className={styles.inputs}>\n\t\t\t\t<div>Название</div>\n\t\t\t\t<input type=\"text\" value={name.v} onChange={inp => name.set(inp.target.value)} />\n\t\t\t\t<div>Цена</div>\n\t\t\t\t<input type=\"number\" value={price.v} onChange={inp => price.set(inp.target.valueAsNumber)} />\n\t\t\t\t<div>Количество</div>\n\t\t\t\t<input type=\"number\" value={count.v} onChange={inp => count.set(inp.target.valueAsNumber)} />\n\t\t\t</div>\n\t\t\t<div className={styles.buttons}>\n\t\t\t\t{!changed.v && <button onClick={deleting.setT}><IconDelete /></button>}\n\t\t\t\t{!changed.v && <button className={styles.btnMinus} onClick={decreasing.setT}>-1</button>}\n\t\t\t\t{changed.v && <button\n\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tmutationEdit.mutate({\n\t\t\t\t\t\t\tname: name.v,\n\t\t\t\t\t\t\tcount: count.v,\n\t\t\t\t\t\t\tprice: price.v,\n\t\t\t\t\t\t\timg: imgData.v || undefined,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<IconSave />\n\t\t\t\t</button>}\n\t\t\t\t{changed.v && <button onClick={() => reset()}><IconCancel /></button>}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface StoreItemProps\n{\n\titem: StoreItemFull\n}","// extracted by mini-css-extract-plugin\nexport default {\"items\":\"styles_items__34Dlt\"};","import { useStoreItemsFull } from \"../../api/store\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport AddStoreItem from \"./AddStoreItem\";\nimport StoreItem from \"./StoreItem\";\nimport styles from \"./styles.module.css\"\n\nexport default function ManageStorePage()\n{\n\tuseTitle(\"Товары\");\n\tconst items = useStoreItemsFull();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"0.5rem\" homeBtn>\n\t\t\t{items.isLoading && <Spinner />}\n\t\t\t{displayError(items)}\n\n\t\t\t<h1>Управление товарами</h1>\n\n\t\t\t<AddStoreItem />\n\n\t\t\t<div className={styles.items}>\n\t\t\t\t{items.data?.map(item => <StoreItem key={item.id} item={item} />)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__3AhF7\",\"title\":\"styles_title__AMBJ6\",\"map\":\"styles_map__lp2hs\",\"btns\":\"styles_btns__P557j\",\"active\":\"styles_active__OfSUZ\",\"background\":\"styles_background__23nEs\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__cV7H9\",\"active\":\"styles_active__RcNKa\"};","import { Link } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\n\nexport default function Footer({ curPage = \"\" }: FooterProps)\n{\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<div>\n\t\t\t\t<Link className={curPage == \"map\" ? styles.active : \"\"} to={\"/map\"}>Карта</Link>\n\t\t\t\t<Link className={curPage == \"timetable\" ? styles.active : \"\"} to={\"/timetable\"}>План</Link>\n\t\t\t\t<Link className={curPage == \"quest\" ? styles.active : \"\"} to={\"/quest\"}>Квест</Link>\n\t\t\t\t<Link className={curPage == \"store\" ? styles.active : \"\"} to={\"/store\"}>Магаз</Link>\n\t\t\t\t<Link className={curPage == \"race\" ? styles.active : \"\"} to={\"/race\"}>Гонки</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface FooterProps\n{\n\tcurPage?: \"map\" | \"timetable\" | \"quest\" | \"store\" | \"race\" | \"\"\n}\n","import styles from \"./styles.module.css\"\nimport map1 from \"./map1.png\";\nimport map2 from \"./map2.png\";\nimport map3 from \"./map3.png\";\nimport Layout from \"../../components/Layout\";\nimport Footer from \"../../components/Footer\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport { useTitle } from \"../../utils/useTtile\";\n\nexport default function MapPage()\n{\n\tuseTitle(\"Карта\");\n\tconst map = useStateObj(0);\n\n\treturn (\n\t\t<Layout centeredPage headerColor=\"#042e40\" gap=\"1em\" className={styles.root} footer={<Footer curPage=\"map\" />}>\n\t\t\t<div className={styles.background}></div>\n\t\t\t<h1 className={styles.title}>Underparty</h1>\n\t\t\t<div className={styles.map}>\n\t\t\t\t<img src={[map1, map2, map3][map.v]} alt=\"Карта\" />\n\t\t\t</div>\n\t\t\t<div className={styles.btns}>\n\t\t\t\t<button onClick={() => map.set(0)} className={map.v == 0 ? styles.active : \"\"}>Этаж 1</button>\n\t\t\t\t<button onClick={() => map.set(1)} className={map.v == 1 ? styles.active : \"\"}>Этаж 2</button>\n\t\t\t\t<button onClick={() => map.set(2)} className={map.v == 2 ? styles.active : \"\"}>Маркет</button>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","import { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode\"\n\nexport default function QrCode({ code, scale = 10, margin = 1, color = \"#000000\", colorBg = \"#ffffff\" }: QrCodeProps)\n{\n\tconst [qrcode, setQrcode] = useState(\"\");\n\tuseEffect(() =>\n\t{\n\t\tif (!code) return;\n\t\tsetQrcode(\"\")\n\t\tQRCode.toDataURL(code, { errorCorrectionLevel: \"H\", scale, margin, color: { dark: color, light: colorBg } }, (e, url) => setQrcode(url));\n\t}, [code, color, scale, margin, colorBg]);\n\n\treturn (\n\t\t<img src={qrcode} alt={code} style={{ width: \"100%\" }} />\n\t);\n}\n\ninterface QrCodeProps\n{\n\tscale?: number\n\tmargin?: number\n\tcode?: string,\n\tcolor?: string,\n\tcolorBg?: string,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__sSzNc\",\"qr\":\"styles_qr__cpZSD\"};","import useUser from \"../../api/user\";\nimport Layout from \"../../components/Layout\";\nimport QrCode from \"../../components/QrCode\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function PromotePage({ role }: PromoteProps)\n{\n\tuseTitle(\"Повышение\");\n\tconst user = useUser();\n\tconst roleText = {\n\t\t\"worker\": \"волонтёра\",\n\t\t\"manager\": \"управляющего\",\n\t}[role];\n\tconst roleText2 = {\n\t\t\"worker\": \"волонтёром\",\n\t\t\"manager\": \"управляющим\",\n\t}[role];\n\tif (!roleText) return <Layout>Ошибка!</Layout>;\n\n\treturn (\n\t\t<Layout centered gap=\"1rem\" height100 className={styles.root} homeBtn>\n\t\t\t<h1>Повышение до {roleText}</h1>\n\t\t\t<div className={styles.qr}>\n\t\t\t\t<QrCode code={`promote_${role}_${user.data?.id}`} colorBg=\"#ffffff00\" scale={13} />\n\t\t\t</div>\n\t\t\t<h3>После сканирования посетитель становиться {roleText2}</h3>\n\t\t</Layout>\n\t);\n}\n\ninterface PromoteProps\n{\n\trole: \"worker\" | \"manager\",\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__CEdGL\",\"background\":\"styles_background__dxeLP\",\"title\":\"styles_title__6wHPv\",\"body\":\"styles_body__o-6ZK\",\"items\":\"styles_items__yJ9sj\",\"quests\":\"styles_quests__58NxQ\",\"quest\":\"styles_quest__65tbN\",\"quest_completed\":\"styles_quest_completed__6XOvB\",\"questDescription\":\"styles_questDescription__bMEbk\",\"questDescription__body\":\"styles_questDescription__body__-HZ3d\",\"btn\":\"styles_btn__lL+tu\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__sa0ap\",\"header\":\"styles_header__thHuO\",\"body\":\"styles_body__27+PL\",\"body_scroll\":\"styles_body_scroll__SwZun\",\"body_arrows\":\"styles_body_arrows__y8hcc\"};","import styles from \"./styles.module.css\"\nimport buttons from \"./buttons.png\";\nimport classNames from \"../../utils/classNames\";\nimport { useEffect, useRef } from \"react\";\nimport useStateBool from \"../../utils/useStateBool\";\n\nexport default function StyledWindow({ children, title = \"Underparty\", footer, className, disableScroll = false, onClose }: StyledWindowProps)\n{\n\tconst contentRef = useRef<HTMLDivElement>(null);\n\tconst showArrows = useStateBool(true);\n\n\tuseEffect(() =>\n\t{\n\t\tif ( !contentRef.current) return;\n\t\tshowArrows.set(contentRef.current.scrollHeight > contentRef.current.clientHeight);\n\t}, [children, contentRef.current])\n\n\treturn (\n\t\t<div className={classNames(styles.root, className)}>\n\t\t\t<div className={styles.header}>\n\t\t\t\t<div>{title}</div>\n\t\t\t\t<button onClick={onClose}>\n\t\t\t\t\t<img src={buttons} alt=\"close\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className={classNames(styles.body, !disableScroll && styles.body_scroll, (showArrows.v && !disableScroll) && styles.body_arrows)}>\n\t\t\t\t<div ref={contentRef}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t{footer}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface StyledWindowProps extends React.PropsWithChildren\n{\n\ttitle?: string,\n\tfooter?: React.ReactNode,\n\tclassName?: string,\n\tdisableScroll?: boolean,\n\tonClose?: () => void,\n}","import { useQuests, type Quest } from \"../../api/quest\";\nimport Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport items from \"./items.png\"\nimport btn from \"./btn.png\"\nimport styles from \"./styles.module.css\"\nimport StyledWindow from \"../../components/StyledWindow\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport { Link } from \"react-router-dom\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function QuestPage()\n{\n\tuseTitle(\"Квесты\");\n\tconst openQuest = useStateObj<Quest | null>(null);\n\tconst quests = useQuests();\n\n\treturn (\n\t\t<Layout centeredPage headerColor=\"#545f82\" gap=\"1em\" className={styles.root} footer={<Footer curPage=\"quest\" />}>\n\t\t\t<div className={styles.background}></div>\n\t\t\t<h1 className={styles.title}>Underparty</h1>\n\t\t\t{quests.isLoading && <Spinner />}\n\t\t\t<StyledWindow\n\t\t\t\tclassName={styles.body}\n\t\t\t\ttitle=\"Квесты\"\n\t\t\t\tfooter={<img className={styles.items} src={items} alt=\"\" />}\n\t\t\t\tonClose={() => openQuest.set(null)}\n\t\t\t>\n\t\t\t\t{openQuest.v ?\n\t\t\t\t\t<div className={styles.questDescription}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={classNames(styles.quest, openQuest.v.completed && styles.quest_completed)}\n\t\t\t\t\t\t\tkey={openQuest.v.id}\n\t\t\t\t\t\t\tonClick={() => openQuest.set(null)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>{openQuest.v.name}</span>\n\t\t\t\t\t\t\t<span>{renderReward(openQuest.v.reward)}</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<div className={styles.questDescription__body}>{openQuest.v.description || \"Нет описания\"}</div>\n\t\t\t\t\t\t<Link to=\"/scanner\" className={styles.btn}>\n\t\t\t\t\t\t\t<img src={btn} alt=\"Сдать\" />\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t:\n\t\t\t\t\t<div className={styles.quests}>\n\t\t\t\t\t\t{displayError(quests)}\n\t\t\t\t\t\t{quests.data && (fakeQuests.concat(quests.data)).map(quest =>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={classNames(styles.quest, quest.completed && styles.quest_completed)}\n\t\t\t\t\t\t\t\tkey={quest.id}\n\t\t\t\t\t\t\t\tonClick={() => openQuest.set(quest)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span>{quest.name}</span>\n\t\t\t\t\t\t\t\t<span>{renderReward(quest.reward)}</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>}\n\t\t\t</StyledWindow>\n\t\t</Layout>\n\t);\n}\n\nconst fakeQuests: Quest[] = [\n\t{\n\t\tid: -1,\n\t\tname: \"Барахолка\",\n\t\tdescription: \"Сдайте одно [БАРАХЛО], чтобы обменять его на другое [БАРАХЛО] или виртуальную валюту GGG!\",\n\t\treward: Infinity,\n\t\tcompleted: false,\n\t}\n]\n\nfunction renderReward(reward: number)\n{\n\tif (!isFinite(reward)) return \"∞\";\n\treturn reward + \"G\";\n}\n","import { useMutation, useQueryClient } from \"react-query\";\nimport { fetchJsonPost } from \"../utils/fetch\";\nimport { createEmptyUser, type User } from \"./user\";\n\n\nexport default function useMutationScanner(onSuccess?: (data: ScannerRes) => void, onError?: (err: any) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: async (scannerData: ScannerData) =>\n\t\t{\n\t\t\tconst res = await fetchJsonPost<ScannerRes>(\"/api/scanner\", scannerData)\n\t\t\tqueryClient.setQueryData<User>(\"user\", user =>\n\t\t\t{\n\t\t\t\tuser = user || createEmptyUser();\n\t\t\t\tuser.balance = res.balance;\n\t\t\t\tif (res.res == \"ok\" && res.action == \"promote\")\n\t\t\t\t\tqueryClient.invalidateQueries(\"user\");\n\t\t\t\treturn user;\n\t\t\t});\n\t\t\treturn res;\n\t\t},\n\t\tonSuccess: onSuccess,\n\t\tonError: onError,\n\t});\n\treturn mutation;\n}\n\ninterface ScannerData\n{\n\tcode: string,\n}\n\nexport interface ScannerRes\n{\n\tres: \"ok\" | \"wrong\" | \"error\",\n\taction: \"quest\" | \"store\" | \"send\" | \"promote\",\n\tvalue: number,\n\tmsg: string,\n\tbalance: number,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__QdJnV\",\"msg\":\"styles_msg__plnAU\",\"msg_visible\":\"styles_msg_visible__G0rDm\",\"msg_dimmed\":\"styles_msg_dimmed__0Xs60\",\"bar\":\"styles_bar__VuYbs\",\"bar_full\":\"styles_bar_full__poY0b\"};","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"styles_error__EtK3I\",\"video\":\"styles_video__b88Zl\"};","import styles from \"./styles.module.css\"\nimport beep from \"./beep.mp3\";\nimport { useEffect, useState } from \"react\";\nimport useSound from \"../useSound\";\nimport QrScanner from \"qr-scanner\";\n\nlet onScan = (r: string) => { };\nlet onError = () => { };\nlet error = false;\nlet scannerEl: HTMLDivElement | null = null;\nlet scanner: QrScanner | null = null;\n\nexport default function useScanner(pause = false, afterScanTimeout = 500)\n{\n\tif (!scanner)\n\t{\n\t\tscannerEl = document.createElement(\"div\");\n\t\tdocument.body.appendChild(scannerEl);\n\t\tscannerEl.style.display = \"flex\";\n\t\tscannerEl.style.backgroundColor = \"black\";\n\n\t\tconst video = document.createElement(\"video\");\n\t\tscannerEl.appendChild(video);\n\t\tscanner = new QrScanner(\n\t\t\tvideo,\n\t\t\tresult => onScan(result.data),\n\t\t\t{\n\t\t\t\thighlightScanRegion: true,\n\t\t\t\tmaxScansPerSecond: 10,\n\t\t\t},\n\t\t);\n\t}\n\n\tuseEffect(() =>\n\t{\n\t\tsetTimeout(() =>\n\t\t\tscanner?.start().catch(() =>\n\t\t\t{\n\t\t\t\tsetTimeout(() =>\n\t\t\t\t{\n\t\t\t\t\tscanner?.start().catch(() => onError());\n\t\t\t\t}, 250)\n\t\t\t}), 100)\n\t\treturn () =>\n\t\t{\n\t\t\tscanner?.stop();\n\t\t}\n\t}, []);\n\n\tconst [isTimeout, setIsTimeout] = useState(false);\n\tconst [scanned, setScanned] = useState(\"\");\n\tconst [isError, setIsError] = useState(error);\n\tconst playBeep = useSound(beep);\n\n\tonScan = (r: string) =>\n\t{\n\t\tif (isTimeout || pause) return;\n\t\tsetScanned(r);\n\t\tsetIsTimeout(true);\n\t\tplayBeep();\n\t\tsetTimeout(() =>\n\t\t{\n\t\t\tsetScanned(\"\");\n\t\t\tsetIsTimeout(false);\n\t\t}, afterScanTimeout);\n\t}\n\tonError = () =>\n\t{\n\t\terror = true;\n\t\tsetIsError(true);\n\t}\n\n\tif (isError)\n\t\treturn {\n\t\t\tscanned,\n\t\t\tscanner: <div className={styles.error}>\n\t\t\t\t<h1>Нет доступа к камере</h1>\n\t\t\t\t<p>Разрешите использование камеры этому сайту и браузеру, который вы используте.</p>\n\t\t\t\t<p>После перезагрузите страницу.</p>\n\t\t\t</div>\n\t\t};\n\n\treturn {\n\t\tscanned,\n\t\tscanner: <div>\n\t\t\t<div\n\t\t\t\tref={ref =>\n\t\t\t\t{\n\t\t\t\t\tif (!ref) return;\n\t\t\t\t\tref.innerHTML = \"\";\n\t\t\t\t\tref.appendChild(scannerEl!);\n\t\t\t\t}}\n\t\t\t\tclassName={styles.video}\n\t\t\t></div>\n\t\t</div>\n\t};\n}\n","import { useState } from \"react\";\n\nexport default function useSound(url: string)\n{\n\tconst [audio] = useState(() =>\n\t{\n\t\tconst audio = new Audio(url)\n\t\taudio.preload = \"auto\";\n\t\treturn audio;\n\t});\n\n\tconst play = () =>\n\t{\n\t\taudio.currentTime = 0;\n\t\taudio.play();\n\t};\n\n\treturn play;\n};\n","import { useEffect, useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport useScanner from \"../../utils/useScanner\";\nimport { UseMutationResult } from \"react-query\";\nimport { formatError } from \"../../utils/displayError\";\nimport Spinner from \"../Spinner\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function Scanner<Res, Data>({ useMutation, onScan, formatMsg, onRes, className, pause }: ScannerProps<Res, Data>)\n{\n\tconst [msg, setMsg] = useState(\"\");\n\tconst [err, setErr] = useState(\"\");\n\tconst barRef = useRef<HTMLDivElement>(null);\n\tconst mutation = useMutation(r =>\n\t{\n\t\tsetMsg(formatMsg(r));\n\t\tsetErr(\"\");\n\t\tonMutated();\n\t\tonRes?.(r);\n\t}, err =>\n\t{\n\t\tsetMsg(\"\");\n\t\tsetErr(formatError(err));\n\t\tonMutated();\n\t});\n\tconst { scanned, scanner } = useScanner(!mutation.isIdle || pause);\n\n\tfunction onMutated()\n\t{\n\t\tsetTimeout(() => mutation.reset(), 1000);\n\t\tbarRef.current?.classList.add(styles.bar_full);\n\t\tsetTimeout(() => barRef.current?.classList.remove(styles.bar_full), 100);\n\t}\n\n\tuseEffect(() =>\n\t{\n\t\tif (scanned == \"\" || !mutation.isIdle) return;\n\t\tsetMsg(\"\");\n\t\tsetErr(\"\");\n\t\tconst data = onScan(scanned);\n\t\tif (data)\n\t\t\tmutation.mutate(data);\n\t\telse\n\t\t\tsetErr(\"Не опознано\");\n\t\t// eslint-disable-next-line\n\t}, [scanned])\n\n\treturn <div className={classNames(styles.root, className)}>\n\t\t{mutation.isLoading && <Spinner />}\n\t\t{scanner}\n\t\t<div className={classNames(styles.msg, (msg || err) && styles.msg_visible, (msg || err) && mutation.isIdle && styles.msg_dimmed)}>\n\t\t\t<h2>{msg}</h2>\n\t\t\t<h2>{err}</h2>\n\t\t</div>\n\t\t<div ref={barRef} className={styles.bar}></div>\n\t</div>\n}\n\ninterface ScannerProps<Res, Data>\n{\n\tuseMutation: (onSuccess: (data: Res) => void, onError: (err: any) => void) => UseMutationResult<Res, any, Data, unknown>,\n\tonScan: (scanned: string) => Data | null,\n\tonRes?: (res: Res) => void,\n\tformatMsg: (res: Res) => string,\n\tclassName?: string,\n\tpause?: boolean,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__CrawG\",\"background\":\"styles_background__sRVhE\",\"anim-background\":\"styles_anim-background__FEgkK\",\"body\":\"styles_body__WfmVk\",\"gold\":\"styles_gold__NCkdw\"};","import useMutationScanner, { type ScannerRes } from \"../../api/scanner\";\nimport Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport Popup from \"../../components/Popup\";\nimport Scanner from \"../../components/Scanner\";\nimport StyledWindow from \"../../components/StyledWindow\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function ScannerPage()\n{\n\tuseTitle(\"Сканер\");\n\tconst popupOpen = useStateBool(false);\n\tconst res = useStateObj<ScannerRes | null>(null, popupOpen.setT);\n\n\treturn (\n\t\t<Layout centeredPage headerColor=\"#51185b\" gap=\"1em\" className={styles.root} footer={<Footer />} homeBtn>\n\t\t\t<div className={styles.background}></div>\n\t\t\t<StyledWindow title=\"QR-Активатор\" disableScroll className={styles.body}>\n\t\t\t\t<Scanner\n\t\t\t\t\tuseMutation={useMutationScanner}\n\t\t\t\t\tpause={popupOpen.v}\n\t\t\t\t\tonScan={scanned =>\n\t\t\t\t\t{\n\t\t\t\t\t\tconst actions = [\"quest_\", \"item_\", \"send_\", \"promote_\"];\n\t\t\t\t\t\tfor (const action of actions)\n\t\t\t\t\t\t\tif (scanned.startsWith(action))\n\t\t\t\t\t\t\t\treturn { code: scanned };\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}}\n\t\t\t\t\tformatMsg={r => ({\n\t\t\t\t\t\t\"ok\": \"\",\n\t\t\t\t\t\t\"wrong\": \"Недействующий QR\",\n\t\t\t\t\t\t\"error\": r.msg,\n\t\t\t\t\t}[r.res] ?? r.res)}\n\t\t\t\t\tonRes={r =>\n\t\t\t\t\t{\n\t\t\t\t\t\tif (r.res == \"ok\")\n\t\t\t\t\t\t\tres.set(r);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</StyledWindow>\n\t\t\t<Popup title=\"Активировано\" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t\t{res.v?.action == \"quest\" && <>\n\t\t\t\t\t<h1>Квест завершён!</h1>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h2>{res.v.msg}</h2>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t<span>Награда: </span>\n\t\t\t\t\t\t<span className={styles.gold}>{res.v.value}G</span>\n\t\t\t\t\t</h2>\n\t\t\t\t</>}\n\t\t\t\t{res.v?.action == \"store\" && <>\n\t\t\t\t\t<h1>Куплено!</h1>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h2>{res.v.msg}</h2>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t<span>Потрачено: </span>\n\t\t\t\t\t\t<span className={styles.gold}>{res.v.value}G</span>\n\t\t\t\t\t</h2>\n\t\t\t\t</>}\n\t\t\t\t{res.v?.action == \"send\" && <>\n\t\t\t\t\t<h1>{res.v.value > 0 ? \"Пополнено\" : \"Вычтено\"}</h1>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h1 className={styles.gold}>{res.v.value > 0 ? \"+\" : \"\"}{res.v.value}G</h1>\n\t\t\t\t</>}\n\t\t\t\t{res.v?.action == \"promote\" && <>\n\t\t\t\t\t<h1>Назначение</h1>\n\t\t\t\t\t<br />\n\t\t\t\t\t<h2>Теперь вы {{\n\t\t\t\t\t\t\"worker\": \"волонтёр\",\n\t\t\t\t\t\t\"manager\": \"управляющий\",\n\t\t\t\t\t}[res.v.msg] || \"неизвестно\"}</h2>\n\t\t\t\t</>}\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"block\":\"styles_block__jLSvl\",\"value\":\"styles_value__AMUT8\",\"action\":\"styles_action__S+Amy\",\"reusable\":\"styles_reusable__AlAhN\",\"checkbox\":\"styles_checkbox__5B3El\",\"qr\":\"styles_qr__NIQPC\",\"send\":\"styles_send__R5BDM\",\"check\":\"styles_check__tkMiQ\",\"notUsed\":\"styles_notUsed__BJDX-\",\"used\":\"styles_used__GIw2A\"};","import { useMutationSend, type Send, useMutationCheckSend } from \"../../api/send\";\nimport { Form, FormField } from \"../../components/Form\";\nimport Layout from \"../../components/Layout\";\nimport Popup from \"../../components/Popup\";\nimport QrCode from \"../../components/QrCode\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport styles from \"./styles.module.css\"\n\nexport default function SendPage()\n{\n\tconst popupOpen = useStateBool(false);\n\tconst send = useStateObj<Send | null>(null, popupOpen.setT);\n\tconst mutation = useMutationSend(send.set);\n\tconst mutationCheck = useMutationCheckSend();\n\n\tconst reusable = useStateBool(false);\n\tconst value = useStateObj(1);\n\n\tfunction submit(positive: boolean)\n\t{\n\t\tmutation.mutate({\n\t\t\tvalue: value.v,\n\t\t\tpositive,\n\t\t\treusable: reusable.v,\n\t\t});\n\t\tmutationCheck.reset();\n\t}\n\n\treturn (\n\t\t<Layout centered homeBtn>\n\t\t\t<h2>Казначейство</h2>\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t{mutationCheck.isLoading && <Spinner />}\n\t\t\t{displayError(mutation)}\n\t\t\t<div className={styles.block}>\n\t\t\t\t<input\n\t\t\t\t\tclassName={styles.value}\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tname=\"value\"\n\t\t\t\t\tvalue={value.v}\n\t\t\t\t\tonChange={e => value.set(Math.max(1, e.target.valueAsNumber))}\n\t\t\t\t/>\n\t\t\t\t<label className={styles.reusable}>\n\t\t\t\t\t<span>Многоразовый</span>\n\t\t\t\t\t<div className={styles.checkbox}>\n\t\t\t\t\t\t<input type=\"checkbox\" checked={reusable.v} onChange={e => reusable.set(e.target.checked)} />\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t\t<div className={styles.action}>\n\t\t\t\t\t<button onClick={() => submit(true)}>\n\t\t\t\t\t\tНачислить\n\t\t\t\t\t</button>\n\t\t\t\t\t<button onClick={() => submit(false)}>\n\t\t\t\t\t\tСписать\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<Popup title={send.v?.reusable ? \"Многоразовый\" : \"Одноразовый\"} open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t\t<div className={styles.qr}>\n\t\t\t\t\t<QrCode code={\"send_\" + send.v?.id} colorBg=\"#ffffff00\" scale={13} />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.send}>\n\t\t\t\t\t<h2>{send.v?.positive ? \"Зачисление\" : \"Списание\"}</h2>\n\t\t\t\t\t<h1>{send.v?.positive ? \"+\" : \"-\"}{send.v?.value} G</h1>\n\t\t\t\t</div>\n\t\t\t\t{displayError(mutationCheck)}\n\t\t\t\t{!send.v?.reusable &&\n\t\t\t\t\t<div className={styles.check}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => mutationCheck.mutate(send.v?.id || \"\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tПроверить\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={mutationCheck.data?.successful ? styles.used : styles.notUsed}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{mutationCheck.data?.successful ? \"Успешный перевод\" : \"Не использован\"}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","import { useMutation } from \"react-query\";\nimport { fetchJsonPost } from \"../utils/fetch\";\n\n\nexport interface Send\n{\n\tid: string,\n\tvalue: number,\n\tpositive: boolean,\n\treusable: boolean,\n}\n\nexport function useMutationSend(onSuccess?: (send: Send) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (data: SendData) =>\n\t\t\tawait fetchJsonPost<Send>(\"/api/send\", data),\n\t\tonSuccess: onSuccess,\n\t});\n\treturn mutation;\n}\n\ninterface SendData\n{\n\tvalue: number,\n\tpositive: boolean,\n\treusable: boolean,\n}\n\nexport function useMutationCheckSend(onSuccess?: (data: CheckSendData) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: async (sendId: string) =>\n\t\t\tawait fetchJsonPost<CheckSendData>(\"/api/send_check\", { id: sendId }),\n\t\tonSuccess: onSuccess,\n\t});\n\treturn mutation;\n}\n\ninterface CheckSendData\n{\n\tsuccessful: boolean,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__0CejE\",\"background\":\"styles_background__PMiwv\",\"body\":\"styles_body__c+IRT\",\"title\":\"styles_title__u3Xt9\",\"btn\":\"styles_btn__LjRSK\",\"items\":\"styles_items__n-Fvc\",\"item\":\"styles_item__zIxt2\",\"item__img\":\"styles_item__img__r3iEr\",\"item__desc\":\"styles_item__desc__wbcAM\",\"item_few\":\"styles_item_few__nkL6C\",\"item_ended\":\"styles_item_ended__Mn60C\"};","import { useStoreItems } from \"../../api/store\";\nimport Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport btn from \"./btn.png\"\nimport styles from \"./styles.module.css\"\nimport StyledWindow from \"../../components/StyledWindow\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"../../utils/classNames\";\nimport { useTitle } from \"../../utils/useTtile\";\n\nexport default function StorePage()\n{\n\tuseTitle(\"Магазин\");\n\tconst items = useStoreItems()\n\n\treturn (\n\t\t<Layout centeredPage headerColor=\"#0a424c\" gap=\"1em\" className={styles.root} footer={<Footer curPage=\"store\" />}>\n\t\t\t{items.isLoading && <Spinner />}\n\t\t\t<div className={styles.background}></div>\n\t\t\t<h1 className={styles.title}>Underparty</h1>\n\t\t\t<div className={styles.body}>\n\t\t\t\t<StyledWindow title=\"Магазин\" className={styles.list}>\n\t\t\t\t\t<div className={styles.items}>\n\t\t\t\t\t\t{displayError(items)}\n\t\t\t\t\t\t{items?.data?.map(item =>\n\t\t\t\t\t\t\t<div className={classNames(styles.item, item.count == \"few\" && styles.item_few, item.count == \"no\" && styles.item_ended)} key={item.id}>\n\t\t\t\t\t\t\t\t<div className={styles.item__img}>\n\t\t\t\t\t\t\t\t\t{item.img ? <img src={item.img} alt=\"Товар\" /> : <div></div>}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={styles.item__desc}>\n\t\t\t\t\t\t\t\t\t<span>{item.name}</span>\n\t\t\t\t\t\t\t\t\t<span>{item.price} G</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</StyledWindow>\n\t\t\t\t<Link to=\"/scanner\" className={styles.btn}>\n\t\t\t\t\t<img src={btn} alt=\"Купить\" />\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__E5y+5\",\"title\":\"styles_title__3QqY9\",\"body\":\"styles_body__nvDgq\",\"list\":\"styles_list__6yPeV\",\"items\":\"styles_items__UxmDm\",\"btns\":\"styles_btns__Ctsik\",\"active\":\"styles_active__1eH-B\",\"background\":\"styles_background__f5ayg\"};","import styles from \"./styles.module.css\"\nimport Footer from \"../../components/Footer\";\nimport Layout from \"../../components/Layout\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport StyledWindow from \"../../components/StyledWindow\";\nimport { useTitle } from \"../../utils/useTtile\";\n\nexport default function TimetablePage()\n{\n\tuseTitle(\"Расписание\");\n\tconst showTimetable = useStateBool(true);\n\tconst showTimetableFirst = useStateBool(true);\n\tconst showTurnamentFirst = useStateBool(true);\n\n\treturn (\n\t\t<Layout centeredPage headerColor=\"#4d0709\" className={styles.root} footer={<Footer curPage=\"timetable\" />}>\n\t\t\t<div className={styles.background}></div>\n\t\t\t<h1 className={styles.title}>Underparty</h1>\n\t\t\t<div className={styles.body}>\n\t\t\t\t{showTimetable.v ?\n\t\t\t\t\t<StyledWindow\n\t\t\t\t\t\tclassName={styles.list}\n\t\t\t\t\t\ttitle={\"Расписание | \" + (showTimetableFirst.v ? \"Главная\" : \"Вторая\") + \" сцена\"}\n\t\t\t\t\t\tfooter={\n\t\t\t\t\t\t\t<div className={styles.btns}>\n\t\t\t\t\t\t\t\t<button onClick={showTimetableFirst.setT} className={showTimetableFirst.v ? styles.active : \"\"}>Главная</button>\n\t\t\t\t\t\t\t\t<button onClick={showTimetableFirst.setF} className={!showTimetableFirst.v ? styles.active : \"\"}>Вторая</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className={styles.items}>\n\t\t\t\t\t\t\t{(showTimetableFirst.v ? data_timetable_first : data_timetable_second)\n\t\t\t\t\t\t\t\t.map((el, i) => <div key={i}>{el}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</StyledWindow>\n\t\t\t\t\t:\n\t\t\t\t\t<StyledWindow\n\t\t\t\t\t\tclassName={styles.list}\n\t\t\t\t\t\ttitle={\"Турниры | \" + (showTurnamentFirst.v ? \"Under\" : \"Ретро\")}\n\t\t\t\t\t\tfooter={\n\t\t\t\t\t\t\t<div className={styles.btns}>\n\t\t\t\t\t\t\t\t<button onClick={showTurnamentFirst.setT} className={showTurnamentFirst.v ? styles.active : \"\"}>Under</button>\n\t\t\t\t\t\t\t\t<button onClick={showTurnamentFirst.setF} className={!showTurnamentFirst.v ? styles.active : \"\"}>Ретро</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className={styles.items}>\n\t\t\t\t\t\t\t{(showTurnamentFirst.v ? data_turnament_first : data_turnament_second)\n\t\t\t\t\t\t\t\t.map((el, i) => <div key={i}>{el}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</StyledWindow>\n\t\t\t\t}\n\t\t\t\t<div className={styles.btns}>\n\t\t\t\t\t<button onClick={showTimetable.setT} className={showTimetable.v ? styles.active : \"\"}>План</button>\n\t\t\t\t\t<button onClick={showTimetable.setF} className={!showTimetable.v ? styles.active : \"\"}>Турнир</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n\nconst data_timetable_first = [\n\t\"12:50 - Церемония открытия\",\n\t\"13:00 - Shima Nori Piano Performance\",\n\t\"13:45 - Косплей дефиле\",\n\t\"14:45 - СлуЧайность\",\n\t\"15:30 - Аукцион\",\n\t\"16:00 - UnderEvent и результаты Game Jam\",\n\t\"16:30 - Гонки улиток\",\n\t\"17:00 - Музыкальные выступления\",\n\t\"17:30 - Финал турниров: Undercards & UV Battles\",\n\t\"18:30 - Награждение\",\n\t\"19:00 - Undertale Анимации\",\n\t\"19:55 - Закрытие сцены\",\n]\n\nconst data_timetable_second = [\n\t\"12:00 - Ответы на вопросы от Ютуберов\",\n\t\"12:40 - Лотерея\",\n\t\"13:00 - The Jackbox Party Pack с Ютуберами\",\n\t\"14:00 - Undertale Quiz\",\n\t\"14:30 - 84 Sans AU Quiz\",\n\t\"15:00 - Лотерея\",\n\t\"15:30 - Презентации Undertale AU\",\n\t\"16:30 - Презентации Игр\",\n\t\"17:30 - Лотерея\",\n\t\"18:00 - Everybody Switch\",\n\t\"19:00 - Дискотека\",\n\t\"19:55 - Закрытие сцены\",\n]\n\nconst data_turnament_first = [\n\t\"14:00 - Undercards\",\n\t\"15:00 - Underverse Battles\",\n\t\"11:30 - 17:00 - Endless Sans\",\n\t\"11:30 - 17:00 - Unfair Undyne\",\n]\n\nconst data_turnament_second = [\n\t\"13:00 - Nes - TMNT: Tournament Fighters\",\n\t\"14:00 - Sega - Ultimate Mortal Kombat 3\",\n\t\"15:00 - Snes - Super Tetris 3\",\n\t\"16:00 - Ps1 - Tekken 3\",\n]\n","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"styles_user__WUZvf\",\"title\":\"styles_title__Gd1jL\",\"toggle\":\"styles_toggle__qlIwC\",\"toggleInp\":\"styles_toggleInp__fGE-7\",\"userInfo\":\"styles_userInfo__vgBlw\",\"operations\":\"styles_operations__MGBbv\"};","import { useUsers } from \"../../api/user\";\nimport Layout from \"../../components/Layout\";\nimport displayError from \"../../utils/displayError\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function UsersPage()\n{\n\tuseTitle(\"Users\");\n\tconst users = useUsers()\n\n\treturn (\n\t\t<Layout centeredPage homeBtn gap={8} styles={{ fontFamily: \"'PT Sans', Arial\" }}>\n\t\t\t{users.isLoading && <h3>Загрузка</h3>}\n\t\t\t{displayError(users)}\n\t\t\t{users.data?.map(v => <div className={styles.user} key={v.id}>\n\t\t\t\t<input type=\"checkbox\" className={styles.toggleInp} id={`user${v.id}`} />\n\t\t\t\t<label className={styles.title} htmlFor={`user${v.id}`}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>{v.login}</div>\n\t\t\t\t\t\t<div style={{ color: \"blue\" }}>{v.id}</div>\n\t\t\t\t\t\t<div>|</div>\n\t\t\t\t\t\t<div>{v.name}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{v.deleted && <>\n\t\t\t\t\t\t\t<div style={{ color: \"tomato\" }}>deleted</div>\n\t\t\t\t\t\t\t<div>|</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t\t<span>{v.roles.join(\", \")}</span>\n\t\t\t\t\t\t<div className={styles.toggle}></div>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t\t<div className={styles.userInfo}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h4>Operations</h4>\n\t\t\t\t\t\t<div className={styles.operations}>\n\t\t\t\t\t\t\t{v.operations.map((o, i) => <div key={i}>{colorizeOperation(o)}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>)}\n\t\t</Layout>\n\t);\n}\n\nfunction colorizeOperation(operation: string)\n{\n\tconst colors = {\n\t\tpage: \"#990099\",\n\t\tadd: \"#008000\",\n\t\tget: \"#008000\",\n\t\tchange: \"#006fb3\",\n\t\tdelete: \"#b30000\",\n\t}\n\tfor (const prefix in colors)\n\t{\n\t\tif (operation.startsWith(prefix))\n\t\t\treturn <>\n\t\t\t\t<span style={{ color: colors[prefix as keyof typeof colors] }}>{prefix}</span>\n\t\t\t\t<span>{operation.slice(prefix.length)}</span>\n\t\t\t</>\n\t}\n\treturn <span>{operation}</span>\n}","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"styles_btn__w12Ul\"};","import { Link } from \"react-router-dom\";\nimport Layout from \"../../components/Layout\"\nimport styles from \"./styles.module.css\"\nimport { useHasPermission } from \"../../api/operations\";\n\nexport default function WorkerPage()\n{\n\treturn (\n\t\t<Layout centered homeBtn gap=\"1rem\">\n\t\t\t{useHasPermission(\"manage_store\") && <Link to={\"/manage_store\"} className={styles.btn}>Управление магазином</Link>}\n\t\t\t{useHasPermission(\"manage_quest\") && <Link to={\"/manage_quest\"} className={styles.btn}>Управление квестами</Link>}\n\t\t\t{useHasPermission(\"page_worker_quest\") && <Link to={\"/worker_quest\"} className={styles.btn}>Для квестовиков</Link>}\n\t\t\t{useHasPermission(\"page_worker_store\") && <Link to={\"/worker_store\"} className={styles.btn}>Для продавцов</Link>}\n\t\t\t{useHasPermission(\"send_any\") && <Link to={\"/send\"} className={styles.btn}>Казначейство</Link>}\n\t\t\t{useHasPermission(\"promote_worker\") && <Link to={\"/promote_worker\"} className={styles.btn}>Повысить до волонтёра</Link>}\n\t\t\t{useHasPermission(\"promote_manager\") && <Link to={\"/promote_manager\"} className={styles.btn}>Повысить до управляющего</Link>}\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Ch43Y\",\"quests\":\"styles_quests__CJF3F\",\"quest\":\"styles_quest__la9IG\",\"quest_hidden\":\"styles_quest_hidden__895fL\",\"qr\":\"styles_qr__CpwFg\",\"questCard\":\"styles_questCard__LUpC3\"};","import { useQuestsFull, type QuestFull } from \"../../api/quest\";\nimport Layout from \"../../components/Layout\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport styles from \"./styles.module.css\"\nimport Popup from \"../../components/Popup\";\nimport QrCode from \"../../components/QrCode\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function WorkerQuestPage()\n{\n\tuseTitle(\"Qr Квесты\");\n\tconst quests = useQuestsFull();\n\tconst popupOpen = useStateBool(false);\n\tconst selectedQuest = useStateObj<QuestFull | null>(null, popupOpen.setT);\n\n\treturn (\n\t\t<Layout centered homeBtn gap=\"1rem\" height100 className={styles.root}>\n\t\t\t{quests.isLoading && <Spinner />}\n\t\t\t{displayError(quests)}\n\t\t\t<h2>Какой квест вы проводите?</h2>\n\t\t\t<div className={styles.quests}>\n\t\t\t\t{quests.data?.map(quest =>\n\t\t\t\t\t<button key={quest.id} onClick={() => selectedQuest.set(quest)} className={classNames(styles.quest, quest.hidden && styles.quest_hidden)}>\n\t\t\t\t\t\t{quest.name}\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Popup title=\"Код квеста\" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t\t<div className={styles.qr}>\n\t\t\t\t\t<QrCode code={`quest_${selectedQuest.v?.id_big}`} colorBg=\"#ffffff00\" scale={13} />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.questCard}>\n\t\t\t\t\t<div>{selectedQuest.v?.name}</div>\n\t\t\t\t\t<div>{selectedQuest.v?.reward} G</div>\n\t\t\t\t</div>\n\t\t\t\t<h3>QR-код для зачёта квеста</h3>\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"items\":\"styles_items__ph2vL\",\"item\":\"styles_item__t2Q7S\",\"item__img\":\"styles_item__img__9MSeY\",\"item__desc\":\"styles_item__desc__vFBVd\",\"qr\":\"styles_qr__Sgcly\",\"item_small\":\"styles_item_small__EPwTh\"};","import Layout from \"../../components/Layout\"\nimport styles from \"./styles.module.css\"\nimport { useStoreItemsFull, type StoreItemFull } from \"../../api/store\";\nimport displayError from \"../../utils/displayError\";\nimport Spinner from \"../../components/Spinner\";\nimport Popup from \"../../components/Popup\";\nimport useStateBool from \"../../utils/useStateBool\";\nimport useStateObj from \"../../utils/useStateObj\";\nimport QrCode from \"../../components/QrCode\";\nimport { useTitle } from \"../../utils/useTtile\";\n\nexport default function WorkerStorePage()\n{\n\tuseTitle(\"Qr Товары\");\n\tconst items = useStoreItemsFull()\n\tconst popupOpen = useStateBool(false);\n\tconst selectedItem = useStateObj<StoreItemFull | null>(null, popupOpen.setT);\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1rem\" height100 homeBtn>\n\t\t\t<h1>Продажа</h1>\n\t\t\t{items.isLoading && <Spinner />}\n\t\t\t{displayError(items)}\n\t\t\t<div className={styles.items}>\n\t\t\t\t{items?.data?.map(item =>\n\t\t\t\t\t<button className={styles.item} key={item.id} onClick={() => selectedItem.set(item)}>\n\t\t\t\t\t\t<div className={styles.item__img}>\n\t\t\t\t\t\t\t{item.img ? <img src={item.img} alt=\"Товар\" /> : <div></div>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.item__desc}>\n\t\t\t\t\t\t\t<span>{item.name}</span>\n\t\t\t\t\t\t\t<span>{item.price} G</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Popup title=\"Код товара\" open={popupOpen.v} close={popupOpen.setF}>\n\t\t\t\t<div className={styles.qr}>\n\t\t\t\t\t<QrCode code={`item_${selectedItem.v?.id_big}`} colorBg=\"#ffffff00\" scale={13} />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.item_small}>\n\t\t\t\t\t<div className={styles.item__img}>\n\t\t\t\t\t\t{selectedItem.v?.img ? <img src={selectedItem.v?.img} alt=\"Товар\" /> : <div></div>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>{selectedItem.v?.name}</div>\n\t\t\t\t\t<div>{selectedItem.v?.price} G</div>\n\t\t\t\t</div>\n\t\t\t\t<h3>QR-код для продажи товара</h3>\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","import { Navigate, Route, Routes } from \"react-router-dom\";\nimport useUser from \"./api/user\";\nimport hasPermission, { Operation } from \"./api/operations\";\nimport Preloader from \"./components/Preloader\";\nimport ScrollToTop from \"./utils/scrollToTop\";\nimport displayError from \"./utils/displayError\";\nimport MessageFromBackend from \"./components/MessageFromBackend\";\n\nimport NotFoundPage from \"./pages/NotFoundPage\";\nimport NoPermissionPage from \"./pages/NoPermissionPage\";\n\nimport AuthPage from \"./pages/AuthPage\";\nimport DebugPage from \"./pages/DebugPage\";\nimport IndexPage from \"./pages/IndexPage\";\nimport LogPage from \"./pages/LogPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport ManageQuestPage from \"./pages/ManageQuestPage\";\nimport ManageStorePage from \"./pages/ManageStorePage\";\nimport MapPage from \"./pages/MapPage\";\nimport ProfilePage from \"./pages/ProfilePage\";\nimport PromotePage from \"./pages/PromotePage\";\nimport QuestPage from \"./pages/QuestPage\";\nimport ScannerPage from \"./pages/ScannerPage\";\nimport SendPage from \"./pages/SendPage\";\nimport StorePage from \"./pages/StorePage\";\nimport TimetablePage from \"./pages/TimetablePage\";\nimport UsersPage from \"./pages/UsersPage\";\nimport WorkerPage from \"./pages/WorkerPage\";\nimport WorkerQuestPage from \"./pages/WorkerQuestPage\";\nimport WorkerStorePage from \"./pages/WorkerStorePage\";\n\nexport default function App()\n{\n\tconst user = useUser();\n\n\tfunction ProtectedRoute(permission: Operation | null, path: string, element: JSX.Element)\n\t{\n\t\treturn <Route path={path} element={\n\t\t\t!user.data?.auth ? <Navigate to=\"/\" /> : (\n\t\t\t\tpermission == null || hasPermission(user, permission) ? element : <NoPermissionPage />\n\t\t\t)\n\t\t} />\n\t}\n\n\treturn <div className=\"root\">\n\t\t<ScrollToTop />\n\t\t<MessageFromBackend />\n\n\t\t{user.isLoading && <Preloader />}\n\t\t{displayError(user)}\n\t\t{user.isSuccess &&\n\t\t\t<Routes>\n\t\t\t\t{/* <Route path=\"/\" element={<IndexPage />} /> */}\n\t\t\t\t<Route path=\"/\" element={!user.data?.auth ? <IndexPage /> : <Navigate to=\"/map\" />} />\n\t\t\t\t{/* <Route path=\"/login\" element={!user.data?.auth ? <LoginPage /> : <Navigate to=\"/\" />} /> */}\n\t\t\t\t<Route path=\"/auth\" element={!user.data?.auth ? <AuthPage /> : <Navigate to=\"/\" />} />\n\t\t\t\t<Route path=\"/timetable\" element={<TimetablePage />} />\n\t\t\t\t<Route path=\"/quest\" element={<QuestPage />} />\n\t\t\t\t<Route path=\"/store\" element={<StorePage />} />\n\t\t\t\t<Route path=\"/map\" element={<MapPage />} />\n\t\t\t\t{/* <Route path=\"/race\" element={<RacePage />} /> */}\n\t\t\t\t{ProtectedRoute(null, \"/scanner\", <ScannerPage />)}\n\t\t\t\t{/* {ProtectedRoute(null, \"/profile\", <ProfilePage />)} */}\n\t\t\t\t{ProtectedRoute(\"page_worker\", \"/worker\", <WorkerPage />)}\n\t\t\t\t{ProtectedRoute(\"manage_store\", \"/manage_store\", <ManageStorePage />)}\n\t\t\t\t{ProtectedRoute(\"manage_quest\", \"/manage_quest\", <ManageQuestPage />)}\n\t\t\t\t{ProtectedRoute(\"page_worker_quest\", \"/worker_quest\", <WorkerQuestPage />)}\n\t\t\t\t{ProtectedRoute(\"page_worker_store\", \"/worker_store\", <WorkerStorePage />)}\n\t\t\t\t{ProtectedRoute(\"promote_worker\", \"/promote_worker\", <PromotePage role=\"worker\" />)}\n\t\t\t\t{ProtectedRoute(\"promote_manager\", \"/promote_manager\", <PromotePage role=\"manager\" />)}\n\t\t\t\t{ProtectedRoute(\"send_any\", \"/send\", <SendPage />)}\n\t\t\t\t{ProtectedRoute(\"page_debug\", \"/debug\", <DebugPage />)}\n\t\t\t\t{ProtectedRoute(\"page_debug\", \"/log\", <LogPage />)}\n\t\t\t\t{ProtectedRoute(\"page_users\", \"/users\", <UsersPage />)}\n\t\t\t\t<Route path=\"*\" element={<NotFoundPage />} />\n\t\t\t</Routes>\n\t\t}\n\t</div>\n}\n"],"names":["ApiError","Error","async","fetchWithJson","method","input","body","res","fetch","headers","undefined","JSON","stringify","ok","json","msg","fetchDelete","fetchJson","fetchJsonGet","fetchJsonPost","useUser","useQuery","getUser","data","status","auth","id","balance","roles","name","last_name","photo","operations","user","hasPermission","operation","_user$data","_user$data2","includes","useHasPermission","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","formatError","error","messageFormater","err","message","displayError","requestRes","render","isError","defaultRender","_jsx","style","color","textAlign","children","classNames","_len","arguments","length","names","Array","_key","filter","v","join","MessageFromBackend","setMessage","useState","timer","setInterval","msgCur","matches","document","cookie","match","RegExp","replace","decodeURIComponent","getCookie","clearInterval","_jsxs","className","styles","root","visible","close","onClick","trimQuotes","str","at","slice","HeaderBack","navigate","useNavigate","postAuth","authData","postLogout","Spinner","_ref","zIndex","block","r","position","borderRadius","spinner","IconHome","xmlns","viewBox","height","width","fill","d","Header","_user$data3","_user$data4","_user$data5","homeBtn","menuOpen","setMenuOpen","mutation","onSuccess","queryClient","useQueryClient","useMutation","mutationFn","setQueryData","_","useMutationLogout","background","Link","to","home","img","src","alt","menu","menuVisible","mutate","disabled","Layout","headerColor","el_styles","centered","centeredPage","height100","gap","header","footer","hasFooter","maxHeight","body_centered","body_centeredPage","NotFoundPage","NoPermissionPage","useTitle","title","prefix","prevTitle","t","Form","onSubmit","formRef","useRef","form","ref","e","preventDefault","current","FormData","FormField","_ref2","label","field","AuthPage","setError","inp_login","inp_password","onError","useMutationAuth","back","isLoading","_inp_login$current","_inp_password$current","login","value","password","type","required","Popup","open","closeOnOutclick","isOpen","setIsOpen","hidden","setHidden","timeout","setTimeout","clearTimeout","target","popup","DebugPage","logErrors","setLogErrors","log","setLog","refLogErrors","refLog","text","_refLogErrors$current","_refLogErrors$current2","_refLogErrors$current3","_refLogErrors$current4","parentElement","scrollHeight","x","_refLog$current","_refLog$current$paren","_refLog$current2","_refLog$current2$pare","authLink","concat","process","IndexPage","city","btn","href","parseLogResponse","responseLog","date","Date","padNum","num","len","padStart","datetimeToString","seconds","getFullYear","getMonth","getDate","dateToString","dateStr","getHours","getMinutes","getSeconds","timeToString","LogPage","_log$data","map","fontFamily","isFetching","refetch","table","minWidth","item","colorizeAction","actionCode","tableName","recordId","userName","userId","changesCell","changes","toggleInp","htmlFor","action","added","deleted","updated","restored","useQuestsFull","useMutationDeleteQuest","questId","_queryClient$getQuery5","_queryClient$getQuery6","getQueryState","quests","invalidateQueries","exact","useStateBool","initialState","onSet","set","setFn","setT","setF","useStateObj","AddQuest","nameRef","rewardRef","hiddenRef","description","popupOpen","mutationAdd","questData","_queryClient$getQuery","_queryClient$getQuery2","console","useMutationAddQuest","checked","_Fragment","_nameRef$current","_rewardRef$current","_hiddenRef$current","reward","valueAsNumber","textarea","cols","rows","onChange","inp","description_count","description_count_too_many","PopupConfirm","mutatateParams","itemId","reset","button","IconDelete","IconSave","IconCancel","Quest","quest","changed","deleting","mutationEdit","_queryClient$getQuery3","_queryClient$getQuery4","useMutationEditQuest","newQuest","inputs","checkbox","buttons","ManageQuestPage","_quests$data","useStoreItemsFull","useMutationDecreaseItem","items","useMutationDeleteItem","_queryClient$getQuery7","_queryClient$getQuery8","imagefileToData","file","imgBase64","Promise","resolve","reader","FileReader","addEventListener","result","readAsDataURL","AddStoreItem","_imgData$v","imgData","priceRef","countRef","itemData","useMutationAddItem","_countRef$current","_priceRef$current","count","price","accept","display","_e$target","_e$target$files","files","StoreItem","_imgData$v2","decreasing","useMutationEditItem","newitem","btnMinus","ManageStorePage","_items$data","Footer","curPage","active","MapPage","map1","map2","map3","btns","QrCode","code","scale","margin","colorBg","qrcode","setQrcode","QRCode","errorCorrectionLevel","dark","light","url","PromotePage","role","roleText","roleText2","qr","StyledWindow","disableScroll","onClose","contentRef","showArrows","clientHeight","body_scroll","body_arrows","QuestPage","openQuest","questDescription","completed","quest_completed","renderReward","questDescription__body","fakeQuests","Infinity","isFinite","useMutationScanner","scannerData","onScan","scannerEl","scanner","useScanner","pause","afterScanTimeout","createElement","appendChild","backgroundColor","video","QrScanner","highlightScanRegion","maxScansPerSecond","_scanner","start","catch","_scanner2","_scanner3","stop","isTimeout","setIsTimeout","scanned","setScanned","setIsError","playBeep","audio","Audio","preload","play","currentTime","useSound","beep","innerHTML","Scanner","formatMsg","onRes","setMsg","setErr","barRef","onMutated","isIdle","_barRef$current","classList","add","bar_full","_barRef$current2","remove","msg_visible","msg_dimmed","bar","ScannerPage","_res$v","_res$v2","_res$v3","_res$v4","actions","startsWith","_ok$wrong$error$r$res","gold","SendPage","_send$v","_send$v2","_send$v3","_send$v4","_send$v5","_send$v6","_mutationCheck$data","_mutationCheck$data2","send","mutationCheck","sendId","useMutationCheckSend","reusable","submit","positive","Math","max","check","_send$v7","successful","used","notUsed","StorePage","list","item_few","item_ended","item__img","item__desc","TimetablePage","showTimetable","showTimetableFirst","showTurnamentFirst","data_timetable_first","data_timetable_second","el","i","data_turnament_first","data_turnament_second","UsersPage","_users$data","users","toggle","userInfo","o","colorizeOperation","colors","page","get","change","delete","WorkerPage","WorkerQuestPage","_selectedQuest$v","_selectedQuest$v2","_selectedQuest$v3","selectedQuest","quest_hidden","id_big","questCard","WorkerStorePage","_selectedItem$v","_selectedItem$v2","_selectedItem$v3","_selectedItem$v4","_selectedItem$v5","selectedItem","item_small","App","ProtectedRoute","permission","path","element","Route","Navigate","Preloader","isSuccess","Routes"],"sourceRoot":""}